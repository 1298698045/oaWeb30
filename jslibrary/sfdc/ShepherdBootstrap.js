/*
 * This code is for Internal Salesforce use only, and subject to change without notice.
 * Customers shouldn't reference this file in any web pages.
 */
window.dhtmlHistory={initialize:function(){},addListener:function(a){this.listener=a;this.fireOnNewListener&&(this.fireHistoryEvent(this.currentLocation),this.fireOnNewListener=!1)},add:function(a){var b=this;window.setTimeout(function(){0<b.currentWaitTime&&(b.currentWaitTime-=b.WAIT_TIME);if(document.getElementById(a))throw"Exception: History locations can not have the same value as _any_ id's that might be in the document, due to a bug in Internet Explorer; please ask the developer to choose a history location that does not match any HTML id's in this document. The following ID is already taken and can not be a location: "+
a;this.ieAtomicLocationChange=dhtmlHistory.ignoreLocationChange=!0;b.currentLocation=a;dhtmlHistory.getCurrentLocation()!=a&&(window.location.hash=a);b.isInternetExplorer()&&(dhtmlHistory.ignoreLocationChange=!0,b.iframe.src="/sfc/blank.htm?"+a);dhtmlHistory.fireHistoryEvent(a);this.ieAtomicLocationChange=!1},this.currentWaitTime);this.currentWaitTime+=this.WAIT_TIME},isFirstLoad:function(){return!0===this.firstLoad?!0:!1},getCurrentLocation:function(){var a=window.location.toString().split("#");
return 2>a.length?"":a[1]},currentLocation:null,listener:null,iframe:null,ignoreLocationChange:null,WAIT_TIME:200,currentWaitTime:0,fireOnNewListener:null,firstLoad:null,ieAtomicLocationChange:null,create:function(){var a=this.getCurrentLocation();this.currentLocation=a;this.isInternetExplorer()&&(dhtmlHistory.ignoreLocationChange=!0,document.write("\x3ciframe style\x3d'border: 0px; width: 1px; height: 1px; position: absolute; bottom: 0px; right: 0px; visibility: visible;' name\x3d'DhtmlHistoryFrame' id\x3d'DhtmlHistoryFrame' src\x3d'/sfc/blank.htm?"+
a+"'\x3e\x3c/iframe\x3e"),this.WAIT_TIME=400);var b=this;window.onunload=function(){b.firstLoad=null};this.isInternetExplorer()&&(this.iframe=document.getElementById("DhtmlHistoryFrame"));var c=this;setInterval(function(){c.checkLocation()},100)},fireHistoryEvent:function(a){null!==this.listener&&void 0!==this.listener&&this.listener.call(null,a)},checkLocation:function(){if(!1===this.isInternetExplorer()&&!0===dhtmlHistory.ignoreLocationChange)dhtmlHistory.ignoreLocationChange=!1;else if(!(!1===
this.isInternetExplorer()&&!0===this.ieAtomicLocationChange)){var a=this.getCurrentLocation();if(a!=this.currentLocation){this.ieAtomicLocationChange=!0;if(this.isInternetExplorer()&&this.getIFrameHash()!=a)dhtmlHistory.ignoreLocationChange=!0,this.iframe.src="/sfc/blank.htm?"+a;else if(this.isInternetExplorer())return;this.currentLocation=a;this.ieAtomicLocationChange=!1;this.fireHistoryEvent(a)}}},getIFrameHash:function(){var a=document.getElementById("DhtmlHistoryFrame").contentWindow.document.location.search;
1==a.length&&"?"==a.charAt(0)?a="":2<=a.length&&"?"==a.charAt(0)&&(a=a.substring(1));return a},removeHash:function(a){return null===a||void 0===a?null:""===a?"":1==a.length&&"#"==a.charAt(0)?"":1<a.length&&"#"==a.charAt(0)?a.substring(1):a},iframeLoaded:function(a){this.currentLocation=this.getCurrentLocation();!0===dhtmlHistory.ignoreLocationChange?dhtmlHistory.ignoreLocationChange=!1:(a=a.search,1==a.length&&"?"==a.charAt(0)?a="":2<=a.length&&"?"==a.charAt(0)&&(a=a.substring(1)),!0!==this.pageLoadEvent&&
(window.location.hash=a),this.fireHistoryEvent(a))},isInternetExplorer:function(){var a=navigator.userAgent.toLowerCase();return document.all&&-1!=a.indexOf("msie")?!0:!1},isIE7:function(){return document.all&&-1!=navigator.appVersion.indexOf("MSIE 7.")?!0:!1}};window.dhtmlHistory.create();
var isIE=-1!=navigator.appVersion.indexOf("MSIE")?!0:!1,isWin=-1!=navigator.appVersion.toLowerCase().indexOf("win")?!0:!1,isOpera=-1!=navigator.userAgent.indexOf("Opera")?!0:!1,isIPad=-1!=navigator.userAgent.indexOf("iPad")?!0:!1,isIPhone=-1!=navigator.userAgent.indexOf("iPhone")?!0:!1;
function controlVersion(){var a,c;try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),a=c.GetVariable("$version")}catch(g){}if(!a)try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),a="WIN 6,0,21,0",c.AllowScriptAccess="always",a=c.GetVariable("$version")}catch(d){}if(!a)try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3"),a=c.GetVariable("$version")}catch(b){}if(!a)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3"),a="WIN 3,0,18,0"}catch(e){}if(!a)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),
a="WIN 2,0,0,11"}catch(f){a=-1}return a}
function getSwfVer(){var a=-1;if(null!==navigator.plugins&&0<navigator.plugins.length){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var a=navigator.plugins["Shockwave Flash"+(navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"")].description.split(" "),c=a[2].split("."),g=c[0],c=c[1],d=a[3];""===d&&(d=a[4]);"d"==d[0]?d=d.substring(1):"r"==d[0]&&(d=d.substring(1),0<d.indexOf("d")&&(d=d.substring(0,d.indexOf("d"))));a=g+"."+c+"."+d}}else-1!=navigator.userAgent.toLowerCase().indexOf("webtv/2.6")?
a=4:-1!=navigator.userAgent.toLowerCase().indexOf("webtv/2.5")?a=3:-1!=navigator.userAgent.toLowerCase().indexOf("webtv")?a=2:isIE&&(isWin&&!isOpera)&&(a=controlVersion());return a}
function detectFlashVer(a,c,g){versionStr=getSwfVer();if(-1==versionStr)return!1;if(0!==versionStr){isIE&&isWin&&!isOpera?(tempArray=versionStr.split(" "),tempString=tempArray[1],versionArray=tempString.split(",")):versionArray=versionStr.split(".");var d=versionArray[0],b=versionArray[1],e=versionArray[2];return d>parseFloat(a)||d==parseFloat(a)&&(b>parseFloat(c)||b==parseFloat(c)&&e>=parseFloat(g))?!0:!1}}function ac_AddExtension(a,c){return-1!=a.indexOf("?")?a.replace(/\?/,c+"?"):a+c}
function ac_Generateobj(a,c,g,d){var b="",e;if(isIE&&isWin&&!isOpera){b+="\x3cobject ";for(e in c)"parent"!=e&&(b+=e+'\x3d"'+c[e]+'" ');b+="\x3e";for(e in g)g.hasOwnProperty(e)&&(b+='\x3cparam name\x3d"'+e+'" value\x3d"'+g[e]+'" /\x3e ');b+="\x3cp\x3e"+LC.getLabel("ContentFlashPlayer","flashFilePreview")+"\x3c/p\x3e\x3c/object\x3e"}else{b+="\x3cembed ";for(e in d)d.hasOwnProperty(e)&&"function"!=typeof d[e]&&(b+=e+'\x3d"'+d[e]+'" ');b+="\x3e\x3cnoembed\x3e\x3cp\x3e"+LC.getLabel("ContentFlashPlayer",
"flashFilePreview")+"\x3c/p\x3e\x3c/noembed\x3e\x3c/embed\x3e"}a.innerHTML=b}
function ac_GetArgs(a,c,g,d,b){for(var e={embedAttrs:{},params:{},objAttrs:{}},f=0;f<a.length;f+=2)switch(a[f].toLowerCase()){case "parent":e.parent=a[f+1];break;case "classid":break;case "pluginspage":e.embedAttrs[a[f]]=a[f+1];break;case "src":case "movie":a[f+1]=ac_AddExtension(a[f+1],c);e.embedAttrs.src=a[f+1];e.params[g]=a[f+1];break;case "onafterupdate":case "onbeforeupdate":case "onblur":case "oncellchange":case "onclick":case "ondblClick":case "ondrag":case "ondragend":case "ondragenter":case "ondragleave":case "ondragover":case "ondrop":case "onfinish":case "onfocus":case "onhelp":case "onmousedown":case "onmouseup":case "onmouseover":case "onmousemove":case "onmouseout":case "onkeypress":case "onkeydown":case "onkeyup":case "onload":case "onlosecapture":case "onpropertychange":case "onreadystatechange":case "onrowsdelete":case "onrowenter":case "onrowexit":case "onrowsinserted":case "onstart":case "onscroll":case "onbeforeeditfocus":case "onactivate":case "onbeforedeactivate":case "ondeactivate":case "type":case "codebase":e.objAttrs[a[f]]=a[f+
1];break;case "id":case "width":case "height":case "align":case "vspace":case "hspace":case "class":case "title":case "accesskey":case "name":case "tabindex":e.embedAttrs[a[f]]=e.objAttrs[a[f]]=a[f+1];break;default:e.embedAttrs[a[f]]=e.params[a[f]]=a[f+1]}e.objAttrs.classid=d;b&&(e.embedAttrs.type=b);return e}
function ac_FL_RunContent(){var a=ac_GetArgs(arguments,".swf","movie","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000","application/x-shockwave-flash");ac_Generateobj(a.parent,a.objAttrs,a.params,a.embedAttrs)}function getFlexRoot(a){return-1!=navigator.appName.indexOf("Microsoft")?window[a]:document[a]}
function sizeImagePreview(a,c,g,d){var b=document.getElementById(a),e=b.height/b.width,f="0px";b.width>=c&&e<=g/c?(b.width=c,b.height=b.width*e):b.height>=g&&(b.height=g,b.width=b.height/e);b.height<g&&(f=0.45*(g-b.height)+"px");b.style.marginTop=f;d?Ext.fly(a).removeClass(d):Ext.fly(a).dom.style.display="block"}function onPreviewSuccess(a,c,g,d){sizeImagePreview(a,c,g,d);if(a=Ext.fly("fullPreviewNotSupported"))a.dom.style.display="block"}
function showPreviewError(a){a=Ext.fly(a).parent("div");if("chatterFileViewerPanel"==a.dom.id)a.dom.innerHTML=previewErrorHtml,a.child("div").dom.style.display="block";else{var c=LC.getLabel("ChatterFileListPage","noPreviewOnDevice");a.dom.innerHTML='\x3ctable style\x3d"font-size:1.2em;font-weight:bold;width:100%;height:100%"\x3e\x3ctr\x3e\x3ctd style\x3d"text-align:center;vertical-align:middle;"\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e';a.child("td").dom.innerHTML=c}if(a=Ext.fly("fullPreviewNotSupported"))a.dom.style.display=
"none"}
function doIPadIPhonePreview(a,c,g,d,b,e,f,l,m,n,h){var k;d=g.split("\x26");for(b=0;b<d.length;b++)0===d[b].indexOf("v\x3d")&&(k=d[b].substring(2));c=UserContext.getUrl("/sfc/servlet.shepherd/version/download/"+k+"?asPdf\x3dtrue");k=UserContext.getUrl("/sfc/servlet.shepherd/version/renditionDownload?rendition\x3dTHUMB720BY480\x26versionId\x3d"+k);d=a.clientWidth;b=a.clientHeight-30;previewErrorHtml=a.innerHTML;k='\x3cdiv style\x3d"'+("width:"+d+"px; height:"+b+"px;")+'"\x3e\x3ca href\x3d"'+c+'"\x3e\x3cimg onerror\x3d"showPreviewError(this)" onload\x3d"onPreviewSuccess(\'imageRendition\', \''+
d+"', '"+b+'\')" id\x3d"imageRendition" style\x3d"display:none;margin:auto;" src\x3d"'+k+'"/\x3e\x3c/a\x3e\x3c/div\x3e';d=null;b=!1;h&&h.fileType&&(d=h.fileType,b=h.isImage);h="";b||(b=null,null!==d&&(b=escapeHTML(LC.getLabel("ContentDownloadLinkElement","downloadFeedPost"," "+d))),h='\x3cdiv id\x3d"fullPreviewNotSupported" style\x3d"display:none"\x3e\x3ctable cellpadding\x3d"0" cellspacing\x3d"0" class\x3d"fullPreviewNotSupported"\x3e\x3ctr\x3e\x3ctd class\x3d"iconCell"\x3e\x3cimg class\x3d"warningIcon" width\x3d"1" height\x3d"1" alt\x3d"" src\x3d"/img/s.gif"/\x3e\x3c/td\x3e\x3ctd class\x3d"textCell"\x3e'+
escapeHTML(LC.getLabel("ChatterFileListPage","fullPreviewNotSupported"))+"\x3c/td\x3e",null!==b&&(h+=' \x3ctd\x3e\x3cdiv class\x3d"download"\x3e\x3ca class\x3d"actionLink" href\x3d"'+c+'"\x3e\x3cimg width\x3d"1" height\x3d"1" title\x3d"'+b+'" class\x3d"downloadIcon" alt\x3d"" src\x3d"/img/s.gif"/\x3e\x3cspan class\x3d"actionLabel"\x3e'+b+"\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/td\x3e"),h+="\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e");a.innerHTML=k+h}
function showDownloadLink(a,c){if("undefined"!=typeof Ext&&"undefined"!=typeof Shepherd){var g=new Ext.Element(Ext.getDom("container_bubble"));g.setSize(500,100);g.center();Shepherd.getHelper("bubble").getBubble().wrapper.style.top=Position.realOffset($("body_content"))[1]+50;new Ext.Panel({id:"noFlashPanel",border:!1,buttonAlign:"center",renderTo:a,frame:!1,bodyStyle:"text-align:center;margin-bottom:20px;",html:c.adobeFlashVersionLbl,buttons:[new Ext.Button({text:c.downloadAdobeLbl,handler:function(){window.open("http://www.adobe.com/go/getflashplayer")}}),
new Ext.Button({text:c.closeDialogLbl,hidden:!Ext.fly(a).up("div#container_bubble"),handler:function(){Shepherd.run("bubble","hide")}})]})}else a.innerHTML="\x3cfont style\x3d'text-align:center' color\x3d'#000'\x3e"+c.adobeFlashVersionLbl+" "+c.downloadAdobeLinkLbl+"\x3cbr/\x3e\x3ca href\x3d'http://www.adobe.com/go/getflashplayer' target\x3d'_blank'\x3ehttp://www.adobe.com/go/getflashplayer\x3c/a\x3e\x3c/font\x3e"}
function insertFlexComponent(a,c,g,d,b,e,f,l,m,n){var h="string"==typeof e?document.getElementById(e):e;isIPad||isIPhone?doIPadIPhonePreview(h,a,c,g,d,b,e,f,l,m,n):(e=detectFlashVer(6,0,65),l=detectFlashVer(9,0,115),e&&!l?showDownloadLink(h,m):l?ac_FL_RunContent("src",a,"FlashVars",c,"width",g,"height",d,"align","middle","id",f,"quality","high","bgcolor",b,"name",f,"allowScriptAccess","sameDomain","allowFullScreen","true","type","application/x-shockwave-flash","pluginspage","http://www.adobe.com/go/getflashplayer",
"wmode","opaque","parent",h):showDownloadLink(h,m))}function closeContentPreviewDialog(){if(window.dialog&&"docViewerOverlay"===window.dialog.id)window.dialog.hide();else if(sfdcPage){var a=sfdcPage.getDialogById("docViewerOverlay");a&&a.hide()}};
var validationRules={authenticateAccount:[{fieldName:"accountName",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"password",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"password",ruleName:"MAX_LENGTH",ruleParam:"30",message:"Length is %actualLength% but maximum length is %maxLength%"}],saveAccount:[{fieldName:"account.accountName",ruleName:"MAX_LENGTH",ruleParam:"100",message:"Length is %actualLength% but maximum length is %maxLength%"},
{fieldName:"account.email",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"account.email",ruleName:"MAX_LENGTH",ruleParam:"100",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"account.email",ruleName:"VALID_EMAIL",ruleParam:"null",message:"%email% is not a valid email"},{fieldName:"account.name",ruleName:"MAX_LENGTH",ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"}],registerAccount:[{fieldName:"account.accountName",
ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"account.accountName",ruleName:"MAX_LENGTH",ruleParam:"100",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"account.email",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"account.email",ruleName:"MAX_LENGTH",ruleParam:"100",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"account.email",ruleName:"VALID_EMAIL",
ruleParam:"null",message:"%email% is not a valid email"},{fieldName:"account.name",ruleName:"MAX_LENGTH",ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"account.password",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],updateAccountDetails:[{fieldName:"account.id",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"account.accountName",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",
message:"This field is required"},{fieldName:"account.accountName",ruleName:"MAX_LENGTH",ruleParam:"100",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"account.email",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"account.email",ruleName:"MAX_LENGTH",ruleParam:"100",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"account.name",ruleName:"MAX_LENGTH",ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"},
{fieldName:"account.companyName",ruleName:"MAX_LENGTH",ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"account.jobTitle",ruleName:"MAX_LENGTH",ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"}],updateAccountPassword:[{fieldName:"account.password",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"account.password",ruleName:"MAX_LENGTH",ruleParam:"30",message:"Length is %actualLength% but maximum length is %maxLength%"}],
deleteAccount:[{fieldName:"accountId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],findAccountByAccountName:[{fieldName:"accountName",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],findAccountByEmail:[{fieldName:"email",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],addAccountSubscription:[{fieldName:"accountId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"accountSubscriptionId",
ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],removeAccountSubscription:[{fieldName:"accountId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"accountSubscriptionId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],findAccountsSubscribedToAccount:[{fieldName:"accountSubscriptionId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],addDocumentSubscription:[{fieldName:"accountId",
ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"documentSubscriptionId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],removeDocumentSubscription:[{fieldName:"accountId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"documentSubscriptionId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],findAccountsSubscribedToDocument:[{fieldName:"documentSubscriptionId",
ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],addTagSubscription:[{fieldName:"accountId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"tagSubscriptionId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],removeTagSubscription:[{fieldName:"accountId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"tagSubscriptionId",ruleName:"NOT_NULL_OR_EMPTY",
ruleParam:"null",message:"This field is required"}],findAccountsSubscribedToTag:[{fieldName:"tagSubscriptionId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],findAccountsDocumentSubscriptions:[{fieldName:"accountId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],passwordConfirmationMatches:[{fieldName:"newPassword",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"newPassword",ruleName:"MAX_LENGTH",
ruleParam:"30",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"confirmPassword",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"confirmPassword",ruleName:"MAX_LENGTH",ruleParam:"30",message:"Length is %actualLength% but maximum length is %maxLength%"}],passwordMatches:[{fieldName:"account.password",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"account.password",ruleName:"MAX_LENGTH",
ruleParam:"30",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"suppliedPassword",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"suppliedPassword",ruleName:"MAX_LENGTH",ruleParam:"30",message:"Length is %actualLength% but maximum length is %maxLength%"}],saveVersion:[{fieldName:"version.title",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"version.title",ruleName:"MAX_LENGTH",
ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"version.description",ruleName:"MAX_LENGTH",ruleParam:"2000",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"version.reference",ruleName:"MAX_LENGTH",ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"version.reasonForChange",ruleName:"MAX_LENGTH",ruleParam:"2000",message:"Length is %actualLength% but maximum length is %maxLength%"}],
addContentToVersion:[{fieldName:"version.id",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"input",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],majorUpdateVersion:[{fieldName:"version.id",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"version.title",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"version.title",ruleName:"MAX_LENGTH",ruleParam:"200",
message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"version.description",ruleName:"MAX_LENGTH",ruleParam:"2000",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"version.reference",ruleName:"MAX_LENGTH",ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"version.reasonForChange",ruleName:"MAX_LENGTH",ruleParam:"2000",message:"Length is %actualLength% but maximum length is %maxLength%"}],updateVersion:[{fieldName:"version.id",
ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"version.title",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"version.title",ruleName:"MAX_LENGTH",ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"version.description",ruleName:"MAX_LENGTH",ruleParam:"2000",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"version.reference",ruleName:"MAX_LENGTH",
ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"version.reasonForChange",ruleName:"MAX_LENGTH",ruleParam:"2000",message:"Length is %actualLength% but maximum length is %maxLength%"}],updateVersionTags:[{fieldName:"versionId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],share:[{fieldName:"version.id",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"workspaces",ruleName:"NOT_NULL_OR_EMPTY",
ruleParam:"null",message:"This field is required"}],addDocumentToWorkspace:[{fieldName:"documentId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"workspaceId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],removeDocumentFromWorkspace:[{fieldName:"documentId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"workspaceId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],
createVersionComment:[{fieldName:"versionId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"accountId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"comment",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"comment",ruleName:"MAX_LENGTH",ruleParam:"4000",message:"Length is %actualLength% but maximum length is %maxLength%"}],modifyVersionComment:[{fieldName:"versionCommentId",ruleName:"NOT_NULL",
ruleParam:"null",message:"This field is required"},{fieldName:"comment",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"comment",ruleName:"MAX_LENGTH",ruleParam:"4000",message:"Length is %actualLength% but maximum length is %maxLength%"}],deleteVersionComment:[{fieldName:"versionCommentId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],findAllVersionCommentsForDocument:[{fieldName:"documentId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],
findDocumentsWithExternalReference:[{fieldName:"externalSystem",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"externalEntity",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"externalId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],findVersionsWithExternalReference:[{fieldName:"externalSystem",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"externalEntity",
ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"externalId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],addExternalReference:[{fieldName:"versionId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"isStatic",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"externalSystem",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},
{fieldName:"externalEntity",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"externalId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],removeExternalReference:[{fieldName:"versionId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"isStatic",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"externalSystem",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},
{fieldName:"externalEntity",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"externalId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],removeExternalReferences:[{fieldName:"documentId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"externalSystem",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"externalEntity",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",
message:"This field is required"},{fieldName:"externalId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],hasExternalReference:[{fieldName:"versionId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"externalSystem",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"externalEntity",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"externalId",ruleName:"NOT_NULL_OR_EMPTY",
ruleParam:"null",message:"This field is required"}],saveDomain:[{fieldName:"domain.name",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"domain.name",ruleName:"MAX_LENGTH",ruleParam:"100",message:"Length is %actualLength% but maximum length is %maxLength%"}],updateDomain:[{fieldName:"domain.id",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"domain.name",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},
{fieldName:"domain.name",ruleName:"MAX_LENGTH",ruleParam:"100",message:"Length is %actualLength% but maximum length is %maxLength%"}],deleteDomain:[{fieldName:"domain.id",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],findDomainById:[{fieldName:"domainId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],findDomainByName:[{fieldName:"domainName",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],addDomainMember:[{fieldName:"domainId",
ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"profileId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"accountId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],addDomainMemberWithNewAccount:[{fieldName:"domainId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"profileId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"accountEmail",
ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],activateDomainMembership:[{fieldName:"domainId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"accountId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],activateDomainMemberhipForCurrentAccount:[{fieldName:"domainId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],removeDomainMember:[{fieldName:"domainId",ruleName:"NOT_NULL",ruleParam:"null",
message:"This field is required"},{fieldName:"profileId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"accountId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],findDomainMembershipByDomainAndAccount:[{fieldName:"domainId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"accountId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],createDomainInvitation:[{fieldName:"domainId",ruleName:"NOT_NULL",
ruleParam:"null",message:"This field is required"},{fieldName:"profileId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"accountId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"personalMessage",ruleName:"MAX_LENGTH",ruleParam:"4000",message:"Length is %actualLength% but maximum length is %maxLength%"}],createDomainInvitationWithNewAccount:[{fieldName:"domainId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},
{fieldName:"profileId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"accountName",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"accountName",ruleName:"MAX_LENGTH",ruleParam:"100",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"accountEmail",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"accountEmail",ruleName:"MAX_LENGTH",ruleParam:"100",message:"Length is %actualLength% but maximum length is %maxLength%"},
{fieldName:"accountEmail",ruleName:"VALID_EMAIL",ruleParam:"null",message:"%email% is not a valid email"},{fieldName:"personalMessage",ruleName:"MAX_LENGTH",ruleParam:"4000",message:"Length is %actualLength% but maximum length is %maxLength%"}],activateDomainInvitation:[{fieldName:"domainId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"accountId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],findOutstandingDomainInvitations:[{fieldName:"domainId",
ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],findDomainInvitationById:[{fieldName:"domainInvitationId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],createOptionCollection:[{fieldName:"name",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"name",ruleName:"MAX_LENGTH",ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"}],addOption:[{fieldName:"optionCollectionId",
ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"value",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"value",ruleName:"MAX_LENGTH",ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"}],saveWorkspace:[{fieldName:"workspace.name",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"workspace.name",ruleName:"MAX_LENGTH",ruleParam:"100",message:"Length is %actualLength% but maximum length is %maxLength%"}],
updateWorkspace:[{fieldName:"workspace.id",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"workspace.name",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"workspace.name",ruleName:"MAX_LENGTH",ruleParam:"100",message:"Length is %actualLength% but maximum length is %maxLength%"}],deleteWorkspace:[{fieldName:"workspaceId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],findWorkspaceById:[{fieldName:"workspaceId",
ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],findWorkspaceByDomainAndName:[{fieldName:"domainId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"name",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],isWorkspaceAccountMember:[{fieldName:"workspaceId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"accountId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],
addWorkspaceAccountMember:[{fieldName:"workspaceId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"roleId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"accountId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],removeWorkspaceAccountMember:[{fieldName:"workspaceId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"roleId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},
{fieldName:"accountId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],addWorkspaceProfileMember:[{fieldName:"workspaceId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"roleId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"profileId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],removeWorkspaceProfileMember:[{fieldName:"workspaceId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},
{fieldName:"roleId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"profileId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],findAllWorkspacesForAccountWithAction:[{fieldName:"accountId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"action",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],findAllWorkspacesForAccount:[{fieldName:"accountId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",
message:"This field is required"}],createWorkspaceInvitation:[{fieldName:"workspaceId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"profileId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"roleId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"accountId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"personalMessage",ruleName:"MAX_LENGTH",ruleParam:"4000",
message:"Length is %actualLength% but maximum length is %maxLength%"}],createWorkspaceInvitationWithNewAccount:[{fieldName:"workspaceId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"profileId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"roleId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"name",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"name",ruleName:"MAX_LENGTH",
ruleParam:"100",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"accountEmail",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"accountEmail",ruleName:"MAX_LENGTH",ruleParam:"100",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"accountEmail",ruleName:"VALID_EMAIL",ruleParam:"null",message:"%email% is not a valid email"},{fieldName:"personalMessage",ruleName:"MAX_LENGTH",ruleParam:"4000",message:"Length is %actualLength% but maximum length is %maxLength%"}],
acceptWorkspaceInvitation:[{fieldName:"workspaceInvitationId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],rejectWorkspaceInvitation:[{fieldName:"workspaceInvitationId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],deleteWorkspaceInvitation:[{fieldName:"workspaceInvitationId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],findAllWorkspacesForDocument:[{fieldName:"documentId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",
message:"This field is required"}],findRecentAuditEventsForAccountsWorkspaces:[{fieldName:"accountId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],addWorkspaceDocumentTypes:[{fieldName:"workspaceId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"documentTypeIds",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],removeWorkspaceDocumentTypes:[{fieldName:"workspaceId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},
{fieldName:"documentTypeIds",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],addWorkspaceAllowedTags:[{fieldName:"workspaceId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"allowedTags",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],removeWorkspaceAllowedTags:[{fieldName:"workspaceId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"allowedTags",ruleName:"NOT_NULL",ruleParam:"null",
message:"This field is required"}],updateEntity:[{fieldName:"entity.id",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],findEntityById:[{fieldName:"entityId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],addPropertyDefinitionCollection:[{fieldName:"entityId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"propertyDefinitionCollectionId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],
removePropertyDefinitionCollection:[{fieldName:"entityId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"propertyDefinitionCollectionId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],addAuditEvent:[{fieldName:"entityId",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"type",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"},{fieldName:"createdByAccountId",ruleName:"NOT_NULL",
ruleParam:"null",message:"This field is required"},{fieldName:"text",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],setProperty:[{fieldName:"entityId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"propertyDefinitionId",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"}],editWsperm:[{fieldName:"wspermName",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"wspermName",
ruleName:"MAX_LENGTH",ruleParam:"255",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"wspermDescription",ruleName:"MAX_LENGTH",ruleParam:"1000",message:"Length is %actualLength% but maximum length is %maxLength%"}],createWsperm:[{fieldName:"wspermName",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"wspermName",ruleName:"MAX_LENGTH",ruleParam:"255",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"wspermDescription",
ruleName:"MAX_LENGTH",ruleParam:"1000",message:"Length is %actualLength% but maximum length is %maxLength%"}],createProfile:[{fieldName:"profileName",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"profileName",ruleName:"MAX_LENGTH",ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"profileDescription",ruleName:"MAX_LENGTH",ruleParam:"1000",message:"Length is %actualLength% but maximum length is %maxLength%"}],
editProfile:[{fieldName:"profileName",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"profileName",ruleName:"MAX_LENGTH",ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"profileDescription",ruleName:"MAX_LENGTH",ruleParam:"1000",message:"Length is %actualLength% but maximum length is %maxLength%"}],createDocType:[{fieldName:"docTypeName",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},
{fieldName:"docTypeName",ruleName:"MAX_LENGTH",ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"docTypeDescription",ruleName:"MAX_LENGTH",ruleParam:"1000",message:"This field is required"}],updateDocType:[{fieldName:"docTypeName",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"docTypeName",ruleName:"MAX_LENGTH",ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"docTypeDescription",
ruleName:"MAX_LENGTH",ruleParam:"1000",message:"This field is required"}],docTypeCreateProperty:[{fieldName:"docTypePropName",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"docTypePropName",ruleName:"MAX_LENGTH",ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"docTypeDescription",ruleName:"MAX_LENGTH",ruleParam:"1000",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"nextValue",
ruleName:"MAX_LENGTH",ruleParam:"50",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"defaultValue",ruleName:"MAX_LENGTH",ruleParam:"50",message:"Length is %actualLength% but maximum length is %maxLength%"}],docTypeUpdateProperty:[{fieldName:"docTypePropName",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"docTypePropName",ruleName:"MAX_LENGTH",ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"},
{fieldName:"docTypeDescription",ruleName:"MAX_LENGTH",ruleParam:"1000",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"nextValue",ruleName:"MAX_LENGTH",ruleParam:"50",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"defaultValue",ruleName:"MAX_LENGTH",ruleParam:"50",message:"Length is %actualLength% but maximum length is %maxLength%"}],docTypePropertyPicklistCreateItem:[{fieldName:"options",ruleName:"NOT_NULL",ruleParam:"null",message:"This field is required"}],
docTypePropertyPicklistEditItem:[{fieldName:"newValue",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"newValue",ruleName:"MAX_LENGTH",ruleParam:"50",message:"Length is %actualLength% but maximum length is %maxLength%"}]};
var customValidationRules={multiInvite:[{fieldName:"accountName",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"You must enter a Name"},{fieldName:"accountName",ruleName:"MAX_LENGTH",ruleParam:"100",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"email",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"You must enter an email address"},{fieldName:"email",ruleName:"MAX_LENGTH",ruleParam:"100",message:"Length is %actualLength% but maximum length is %maxLength%"},
{fieldName:"email",ruleName:"VALID_EMAIL",ruleParam:"null",message:"%email% is not a valid email"}],registerAndActivateNewAccount:[{fieldName:"fullName",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"You must enter a Name"},{fieldName:"password",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"password",ruleName:"MIN_LENGTH",ruleParam:"5",message:"Length is %actualLength% but minimum length is %maxLength%"},{fieldName:"password",ruleName:"MAX_LENGTH",
ruleParam:"30",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"confirmPassword",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"confirmPassword",ruleName:"VALUES_EQUAL",ruleParam:"confirmPassword",message:"Passwords do not match"},{fieldName:"confirmPassword",ruleName:"MIN_LENGTH",ruleParam:"5",message:"Length is %actualLength% but minimum length is %maxLength%"},{fieldName:"confirmPassword",ruleName:"MAX_LENGTH",ruleParam:"30",
message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"confirmPassword",ruleName:"CONTAINS_ACCOUNT_NAME",ruleParam:"accountName",message:"Password cannot contain your username"},{fieldName:"acceptTermsConditions",ruleName:"IS_EQUAL_TO",ruleParam:!0,message:"You must accept the terms and conditions"}],updateAccountPassword:[{fieldName:"password",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"newPassword",ruleName:"NOT_NULL_OR_EMPTY",
ruleParam:"null",message:"This field is required"},{fieldName:"newPassword",ruleName:"MIN_LENGTH",ruleParam:"5",message:"Length is %actualLength% but minimum length is %maxLength%"},{fieldName:"newPassword",ruleName:"MAX_LENGTH",ruleParam:"30",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"confirmPassword",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"confirmPassword",ruleName:"VALUES_EQUAL",ruleParam:"newPassword",message:"Passwords do not match"},
{fieldName:"confirmPassword",ruleName:"MIN_LENGTH",ruleParam:"5",message:"Length is %actualLength% but minimum length is %maxLength%"},{fieldName:"confirmPassword",ruleName:"MAX_LENGTH",ruleParam:"30",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"confirmPassword",ruleName:"CONTAINS_ACCOUNT_NAME",ruleParam:"accountName",message:"Password cannot contain your username"}],updateAccountPasswordForgot:[{fieldName:"newPassword",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",
message:"This field is required"},{fieldName:"newPassword",ruleName:"MIN_LENGTH",ruleParam:"5",message:"Length is %actualLength% but minimum length is %maxLength%"},{fieldName:"newPassword",ruleName:"MAX_LENGTH",ruleParam:"30",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"confirmPassword",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"confirmPassword",ruleName:"VALUES_EQUAL",ruleParam:"newPassword",message:"Passwords do not match"},
{fieldName:"confirmPassword",ruleName:"MIN_LENGTH",ruleParam:"5",message:"Length is %actualLength% but minimum length is %maxLength%"},{fieldName:"confirmPassword",ruleName:"MAX_LENGTH",ruleParam:"30",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"confirmPassword",ruleName:"CONTAINS_ACCOUNT_NAME",ruleParam:"accountName",message:"Password cannot contain your username"}],resetPassword:[{fieldName:"accountName",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"accountName",message:"This field is required"}],
updateAccountDetails:[{fieldName:"userName",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"userName",ruleName:"MAX_LENGTH",ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"companyName",ruleName:"MAX_LENGTH",ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"jobTitle",ruleName:"MAX_LENGTH",ruleParam:"200",message:"Length is %actualLength% but maximum length is %maxLength%"}],
saveWorkspace:[{fieldName:"workspaceName",ruleName:"NOT_NULL_OR_EMPTY",ruleParam:"null",message:"This field is required"},{fieldName:"workspaceName",ruleName:"MAX_LENGTH",ruleParam:"100",message:"Length is %actualLength% but maximum length is %maxLength%"},{fieldName:"description",ruleName:"MAX_LENGTH",ruleParam:"4000",message:"Length is %actualLength% but maximum length is %maxLength%"}]};
var errorMessageName="errorMessage";function Validator(){this.validationRules=validationRules;this.customValidationRules=customValidationRules}
Validator.prototype.validateForm=function(a){if(!a)return!0;this.removeErrorMessages(a);var b=!0,c=null;a.validationSet&&a.validationSet.value&&((c=this.validationRules[a.validationSet.value])||console.error("Validation Set : "+c+" doesn't exist for form: "+a.id),this.validateFormWithValidationSet(a,c)||(b=!1));a.customValidationSet&&a.customValidationSet.value&&((customValidationSet=this.customValidationRules[a.customValidationSet.value])||console.error("Custom Validation Set : "+customValidationSet+
" doesn't exist for form: "+a.id),this.validateFormWithValidationSet(a,customValidationSet)||(b=!1));return b};
Validator.prototype.validateFormWithValidationSet=function(a,b){for(var c=!0,e=0;e<b.length;e++)for(var f=b[e].fieldName,h=0;h<a.elements.length;h++){var d=a.elements[h];if(d.name===f){var g=d.value;"SELECT"===d.tagName?g=Shepherd.Util.getSelectValue(d):"checkbox"===d.type&&(g=Shepherd.Util.getCheckboxValue(d));eval(b[e].ruleName)(g,b[e].ruleParam,d)||(c=this.addMessageParams(b[e].message,b[e].ruleParam,d),this.addValidationFailureMessage(d,"\x3cstrong\x3eError:\x3c/strong\x3e "+c),Element.addClassName(d,
"error"),c=!1)}}return c};
Validator.prototype.displayServerSideValidationFailures=function(a,b){var c,e=null;a&&""!==a&&(e=$(a+"FormMessage"));var f=$(a),h=!0,d;for(d in b)if(b.hasOwnProperty(d)){var g=b[d];"name"===d&&(d="fullName");if("coreForm"===d){h=!1;c=Shepherd.getHelper("view");c.clearTray();try{f.down("#coreForm").innerHTML=g}catch(l){}c.evalScripts(g)}else if("extError"===d)c=Shepherd.getHelper("view"),h=!1,Ext.Msg.show({title:c.labelMap.errorTitle,msg:g,icon:"extError",buttons:Ext.Msg.OK});else if("shepherdTokenError"===
d)c=Shepherd.getHelper("view"),h=!1,Ext.Msg.show({title:c.labelMap.CSRFErrorTitle,msg:g,icon:"extError",buttons:Ext.Msg.OK});else if("string"===typeof d&&"string"===typeof g&&(3>d.length||3<=d.length&&"00N"!==d.substring(0,3))){h=!1;if(f){var k=f.down("#"+d);Element.addClassName(k,"error");(k=f.down("#"+d+"Message"))||(k=e)}k?"UL"===k.tagName?(c=document.createElement("li"),c.innerHTML=g,k.appendChild(c),$(a+"FormMessageHolder").style.display=""):-1===k.innerHTML.indexOf(g)&&(k.innerHTML+=g):Shepherd.getHelper("view").setTrayText(g)}}return h};
Validator.prototype.addValidationFailureMessage=function(a,b){a.id&&""!==a.id&&b&&""!==b?$(a.id+"Message")?$(a.id+"Message").innerHTML=b:console.debug("validation failed on field: "+a.name+":\n"+b):$(a.name+"Message")&&b&&""!==b?$(a.name+"Message").innerHTML=b:console.debug("validation failed on field: "+a.name+":\n"+b)};
Validator.prototype.removeErrorMessages=function(a){if(a){if($(a.id+"FormMessage")){var b=$(a.id+"FormMessage");""!==b.innerHTML&&(b.innerHTML="")}for(b=0;b<a.elements.length;b++){var c=a.elements[b].name,e=a.elements[b].id,f=$(c+"Message");f&&""!==f.innerHTML&&(f.innerHTML="",c=$(c),Element.removeClassName(c,"error"));if((c=$(e+"Message"))&&""!==c.innerHTML)c.innerHTML="",e=$(e),Element.removeClassName(e,"error")}if(a=$(a.id+"FormMessageHolder"))a.style.display="none"}};
Validator.prototype.addMessageParams=function(a,b,c){var e=a.match(/\%(\w+)\%/g);if(e&&0<e.length)for(var f=0;f<e.length;f++){var h=eval(e[f].substring(1,e[f].length-1))(c,b);a=a.replace(e[f],h)}return a};function NOT_NULL_OR_EMPTY_SINGLE_VALUE(a){return a&&0<a.length?!0:!1}function NOT_NULL_OR_EMPTY(a){var b=!1;if("object"===typeof a)for(var c=0;c<a.length;c++){if(valid=NOT_NULL_OR_EMPTY_SINGLE_VALUE(a[c]),!0===valid)return!0}else b=NOT_NULL_OR_EMPTY_SINGLE_VALUE(a);return b}
function NOT_NULL(a){return a&&0<a.length?!0:!1}function MAX_LENGTH(a,b){return a&&a.length>b?!1:!0}function MIN_LENGTH(a,b){return a&&a.length<b?!1:!0}function NOT_ALL_EMPTY(a,b,c){a=Shepherd.Util.formToMap(c.form);if(a[c.name]&&"object"===typeof a[c.name]&&a[c.name].length){for(b=0;b<a[c.name].length;b++)if(a[c.name][b]&&""!==a[c.name][b].strip())return!0;return!1}return!0}function VALUES_EQUAL(a,b,c){c=Shepherd.Util.formToMap(c.form);return a.toLowerCase()===c[b].toLowerCase()}
function IS_EQUAL_TO(a,b,c){return a===b?!0:!1}function CONTAINS_ACCOUNT_NAME(a,b,c){c=Shepherd.Util.formToMap(c.form);return a&&c[b]&&-1<a.toLowerCase().indexOf(c[b])?!1:!0}function VALID_EMAIL(a,b,c){return a.match(/^[\S]+@.*\.[a-z]+$/)}function actualValue(a,b){return a.value}function minValue(a,b){return b}function maxValue(a,b){return b}function email(a,b){return a.value}function maxLength(a,b){return b}function minLength(a,b){return b}function actualLength(a,b){return a.value.length};
var Shepherd={context:"/",validator:new Validator,loaders:{},next:0,done:{},formState:{},isRunningTests:!1,submitForm:function(a,c,b,d,e){b=Element.extend(b);if(!Shepherd.Util.findForm(b))return!1;var f=this.formState.formName;if(f&&"i"===f)return!1;this.formState.formName="i";try{retval=Shepherd.runForm(a,c,b,d,e)}finally{window.setTimeout(function(){try{Shepherd.formState={}}catch(a){console.debug(a)}},2E3)}return!1},runForm:function(a,c,b,d,e){b=Element.extend(b);var f=Shepherd.Util.findForm(b);
if(!f)return!1;var g=Shepherd.Util.formToMap(f),g=$H(g).merge($H(d));e&&(g.shepherdSuccess=e);Shepherd.run(a,c,g,null,b,f);return!1},appendQueryPlans:function(a){if(a)try{var c=$("queryPlanContainer"),b=$("container_content");c&&b.removeChild(c);c=document.createElement("div");c.id="queryPlanContainer";c.className="bPageBlock secondaryPalette";b.appendChild(c);div=document.createElement("div");div.className="pbBody";div.id="queryPlanDiv";c.appendChild(div);for(c=0;c<a.length;c++){var d=document.createElement("div");
d.appendChild(document.createTextNode(new Date));var e=document.createElement("div");e.innerHTML=a[c];div.appendChild(d);div.appendChild(e);div.appendChild(document.createElement("hr"))}}catch(f){console.debug(f)}},runMessage:function(a){if(a.contextId){var c=new Date;c.setFullYear(2020);Shepherd.Util.setCookie({name:"CONTEXTID",value:a.contextId,path:"/",expires:c})}(c=a.actions)||(c=a.length?a:a.controller?[a]:[]);for(a=0;a<c.length;a++){var b=c[a],d=b.action,e=null;if(b.meta){if(e=b.meta.shepherdErrors){var f=
this.getAction(b.controller,d);if(f.failure){var g=this.getHelper(b.controller);f.failure(b.params,g)}}Shepherd.appendQueryPlans(b.meta.queryPlans)}if(e&&(e=this.validator.displayServerSideValidationFailures(b.params?b.params.shepherdFormName:null,e),Shepherd.acknowledge(b.controller,d,b.params),!e))break;Shepherd.run(b.controller,d,b.params,null,null,null,!0===b.response)}return!1},run:function(a,c,b,d,e,f,g){d=this.getAction(a,c);var h=this.getHelper(a);if(f&&!this.validator.validateForm(f))return d.failure&&
d.failure(b,h,e),!1;b||(b={});0!==Shepherd.next&&!b.shepherdId&&(b.shepherdId=Shepherd.next);var k=!0;if(g){Shepherd.acknowledge(a,c,b);d.extAfterLoad&&d.extAfterLoad(b,h,e);if(d.after){if("dev"!==a){g=null;if("view"!==a||"show"!==c)g=b;Shepherd.run("dev","requestLog",{header:a+"."+c+".after",body:g,controller:a,action:c});g=Shepherd.getPerfMark(a,c);Perf.endMark(g+"Start")}k=d.after(b,h,e)}else k=!1,Shepherd.done[b.shepherdId]=!0;this.getHelper("view").showStatus(b)}else d.before&&("dev"!==a&&"showMore"!==
c&&(Shepherd.run("dev","requestLog",{header:a+"."+c+".before",body:b,controller:a,action:c}),Perf.mark(Shepherd.getPerfMark(a,c)+"Start")),k=d.before(b,h,e));k?Shepherd.runServer(a,c,b,e,f):Shepherd.done[b.shepherdId]=!0;return!1},getAction:function(a,c){return this.loaders.Ninja.getAction(a,c)},getHelper:function(a){return this.loaders.Ninja.getHelper(a)},runServer:function(a,c,b,d,e){window.checkSessionTimeout&&checkSessionTimeout();d="run"+Math.random();var f;e&&(f=e.file,b.shepherdFormName=e.name);
f&&"null"!==f&&""!==f.value?Shepherd.Transport.upload(d,f,{actions:[{controller:a,action:c,params:b}]}):(Shepherd.run("dev","requestLog",{header:a+"."+c+".server",body:b,controller:a,action:c}),Shepherd.Transport.post({actions:[{controller:a,action:c,params:b}]}));Shepherd.patchMRUDetails()},setIsRunningTests:function(a){Shepherd.isRunningTests=a},acknowledge:function(a,c,b){Shepherd.isRunningTests&&("dev"!=a&&"acknowledge"!=c)&&Shepherd.runServer("dev","acknowledge",{})},getPerfMark:function(a,c){return a.charAt(0).toUpperCase()+
a.substr(1)+c.charAt(0).toUpperCase()+c.substr(1)},patchMRUDetails:function(){MRUHoverDetail&&MRUHoverDetail.loaderURL?(MRUHoverDetail.loaderURL=Shepherd.fixRetUrl(MRUHoverDetail.loaderURL),MRUHoverDetail.sentRequest=!1,MRUHoverDetail.hovers={},MRUHoverDetail.openHover=null):window.SfdcApp&&SfdcApp.MruHovers&&SfdcApp.MruHovers.registerHovers()},fixRetUrl:function(a){return a.replace(/retURL=[^&]*/,"retURL\x3d"+encodeURIComponent("/sfc/#"+window.dhtmlHistory.currentLocation))}};
Ext.data.ShepherdProxy=function(a){Ext.data.ShepherdProxy.superclass.constructor.call(this);this.controller=a.controller;this.action=a.action;this.api={}};
Ext.extend(Ext.data.ShepherdProxy,Ext.data.DataProxy,{load:function(a,b,c,e,f){var g=Ninja.getAction(this.controller,this.action),d=Ninja.getHelper(this.controller);g.extAfterLoad=this.afterLoad;d.reader=b;d.scope=e;d.arg=f;d.callback=c;a=a||{};Shepherd.run(this.controller,this.action,a)},afterLoad:function(a,b){var c;try{c=b.reader.readRecords(a)}catch(e){console.debug(e)}b.callback.call(b.scope,c,b.arg,!0)},update:function(a,b){}});
Shepherd.Util={redirectViaLogin:function(a,b){top.location=appserverURL+"\x26"+b+"\x3d"+encodeURIComponent(window.location.pathname+window.location.hash+window.location.search)},findForm:function(a){if(a){if("FORM"===a.tagName)return a;if(a.form)return a.form}return null},findFileElement:function(a){for(var b=0;b<a.elements.length;b++)if("file"===a.elements[b].type)return a.elements[b];return null},isUncheckedListItem:function(a){if("INPUT"===a.tagName&&"rowselector"===a.name)return!a.checked;var b=
a.parentNode;if(void 0===b)return!1;var c=null;try{c=Element.extend(b).previousSiblings()}catch(d){}a=!c||void 0===c.length||0===c.length?a.parentNode:Element.previousSiblings(b)[0];if(void 0===a||void 0===a.descendants||"LI"!==a.tagName&&"TD"!==a.tagName)return!1;a=Element.down(a,"INPUT",0);return!a||"rowselector"!==a.name?!1:!a.checked},formToMap:function(a){for(var b={},c=0;c<a.length;c++){var d=a[c],e=d.name,f=null;if(e){if("INPUT"===d.tagName){if(this.isUncheckedListItem(d))continue;var g=d.type;
"button"===g||"submit"===g||("checkbox"===g?d.checked&&(f=d.value):"radio"===g?d.checked&&(d.value&&""!==d.value)&&(f=d.value):"file"===g?(e=d.name,f=Util.getFileNameFromFileInputUsingJS(d)):f=d.value)}else"SELECT"===d.tagName?f=this.getSelectValue(d):"TEXTAREA"===d.tagName&&(f=d.value);null!==f&&this.addValueToMap(b,e,f)}}return b},getSelectValue:function(a){if(0===a.options.length)return null;if(a.multiple){var b=[];a=a.options;for(var c=0;c<a.length;c++){var d=a[c];d.selected&&(b[b.length]=d.value)}return b}return a.options[a.selectedIndex].value},
getAllOptions:function(a){if(0===a.options.length)return null;if(a.multiple){var b=[];a=a.options;for(var c=0;c<a.length;c++)b[b.length]=a[c].value;return b}return a.options[a.selectedIndex].value},getCheckboxValue:function(a){var b=a.form;if(0<b[a.name].length){for(var c="",d=!0,e=0;e<b[a.name].length;e++)b[a.name][e].checked&&(d?d=!1:c+=",",c+=b[a.name][e].value);return c}return a.checked?!0:!1},addValueToMap:function(a,b,c){if(0<b.indexOf(".")){var d=b.substring(0,b.indexOf("."));b=b.substring(b.indexOf(".")+
1,b.length);this.addMapValueToMap(a,d,c,b)}else if(d=b.indexOf("00N"),0===d||2===d)this.addMapValueToMap(a,"properties",c,b);else if(d=a[b])if(d.constructor!==Array){var e=[];e[0]=d;e[1]=c;a[b]=e}else d.push(c);else a[b]=c},addMapValueToMap:function(a,b,c,d){var e=a[b];e||(e={},a[b]=e);e[d]=c},setCookie:function(a){document.cookie=a.name+"\x3d"+escape(a.value)+(a.expires?"; expires\x3d"+a.expires.toGMTString():"")+(a.path?"; path\x3d"+a.path:"")+(a.domain?"; domain\x3d"+a.domain:"")+(a.secure?"; secure":
"")},getCookie:function(a){var b=document.cookie;a+="\x3d";var c=b.indexOf("; "+a);if(-1===c){if(c=b.indexOf(a),0!==c)return null}else c+=2;var d=document.cookie.indexOf(";",c);-1===d&&(d=b.length);return unescape(b.substring(c+a.length,d))},deleteCookie:function(a,b,c){this.getCookie(a)&&(document.cookie=a+"\x3d"+(b?"; path\x3d"+b:"")+(c?"; domain\x3d"+c:"")+"; expires\x3dThu, 01-Jan-70 00:00:01 GMT")},convertToArray:function(a){return!a||""===a?[]:a instanceof Array?a:"string"===typeof a?a.split(","):
[]},mergeMap:function(a,b){for(var c in b){if(a[c]&&"undefined"!==a[c]&&a[c]!==b[c])throw"Duplicate Key in map with different values";a[c]=b[c]}return a},getRequestParameter:function(a,b,c){if(a=(""+a).match(/[^?]*$/)[0]){a=a.split("\x26");for(var d=0;d<a.length;d++){var e=a[d].split("\x3d");if(e[0]===b)return b=e[1],c&&b&&(b=decodeURIComponent(b)),b}}},toJSON:function(a){return this.JSON.conversions[typeof a](a)},fromJSON:function(a){try{return!/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(a.replace(/"(\\.|[^"\\])*"/g,
""))&&eval("("+a+")")}catch(b){return!1}},JSON:{replacements:{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},conversions:{array:function(a){var b=["["],c,d,e,f=a.length,g;for(e=0;e<f;e+=1)if(g=a[e],d=Shepherd.Util.JSON.conversions[typeof g])g=d(g),"string"===typeof g&&(c&&(b[b.length]=","),b[b.length]=g,c=!0);b[b.length]="]";return b.join("")},"boolean":function(a){return String(a)},"null":function(a){return"null"},number:function(a){return isFinite(a)?String(a):"null"},
object:function(a){if(a){if(a instanceof Array)return Shepherd.Util.JSON.conversions.array(a);var b=["{"],c,d,e,f;for(e in a)if(a.hasOwnProperty(e)&&(f=a[e],d=Shepherd.Util.JSON.conversions[typeof f],"evt"!==e&&"event"!==e&&d&&(!f||!f.tagName)))f=d(f),"string"===typeof f&&(c&&(b[b.length]=","),b.push(Shepherd.Util.JSON.conversions.string(e),":",f),c=!0);b[b.length]="}";return b.join("")}return"null"},string:function(a){/["\\\x00-\x1f]/.test(a)&&(a=a.replace(/([\x00-\x1f\\"])/g,function(a,c){var d=
Shepherd.Util.JSON.replacements[c];if(d)return d;d=c.charCodeAt();return"\\u00"+Math.floor(d/16).toString(16)+(d%16).toString(16)}));return'"'+a+'"'}}}};
Shepherd.Transport={contentBaseURL:"/sfc",server:"/sfc/servlet.shepherd",contentStaticResourcesBase:"/sfc",asynchronous:true,trace:null,DomainProvider:function(valueMap){if(valueMap.domain!==""){this.url=valueMap.domain;this.actions=valueMap.actions}this.getUrl=function(controller,action){if(this.url&&this.actions.include(controller+"."+action))return this.url;else return""}},initTransport:function(valueMap){var t=Shepherd.Transport;t.contentBaseURL=valueMap.contentBaseUrl;t.server=valueMap.shepherdServletPath;
t.setStaticPrefix(valueMap.contentStaticResourcesBase);t.domainProvider=new t.DomainProvider({domain:valueMap.contentDomainUrl,actions:["version.download","document.download"]})},setStaticPrefix:function(contentStaticResourcesBase){Shepherd.Transport.contentStaticResourcesBase=contentStaticResourcesBase},getContentURL:function(path){return Shepherd.Transport.contentBaseURL+path},getContentStaticResourceURL:function(path){return Shepherd.Transport.contentStaticResourcesBase+path},getShepherdActionURL:function(controller,
action,pathParams){if(!Shepherd.Transport.domainProvider)Shepherd.Transport.domainProvider=new Shepherd.Transport.DomainProvider({domain:"",actions:[]});var url=Shepherd.Transport.domainProvider.getUrl(controller,action)+Shepherd.Transport.server;var queryString=QueryString.createQueryString(url);url=QueryString.getURI(url)+"/"+controller+"/"+action;if(pathParams){pathParams=Shepherd.Util.convertToArray(pathParams);for(var i=0;i<pathParams.length;i++)url+="/"+pathParams[i]}return url+queryString.toString()},
post:function(message){var jsonMessage=Shepherd.Util.toJSON(message);var paramMap={message:jsonMessage,format:"json"};if(Shepherd.Transport.trace)paramMap.trace=Shepherd.Transport.trace;var options={asynchronous:Shepherd.Transport.asynchronous,parameters:paramMap,onSuccess:this.postResponse};var req=new Ajax.Request(this.server,options)},postResponse:function(req){var retMsg=null;if(req.responseText)try{eval("retMsg \x3d ("+req.responseText+")")}catch(te0){console.error("Error evaluating responseText: "+
te0+"\n\r"+req.responseText)}if(retMsg)Shepherd.runMessage(retMsg)},upload:function(uploadId,fileField,params){var form=fileField.form;var hiddenIFrame=document.createElement("iframe");hiddenIFrame.style.display="none";hiddenIFrame.name="uploadFrame_"+uploadId;hiddenIFrame.id="uploadFrame_"+uploadId;hiddenIFrame.src=Shepherd.Transport.getContentURL("/null.htm");form.method="POST";form.enctype="multipart/form-data";form.encoding="multipart/form-data";form.action=this.server;form.target=hiddenIFrame.name;
var messageInput=$("message")?$("message"):document.createElement("input");messageInput.type="hidden";messageInput.id="message";messageInput.name="message";messageInput.value=Shepherd.Util.toJSON(params);form.insertBefore(messageInput,form.firstChild);messageInput=$("format")?$("format"):document.createElement("input");var formatInput=document.createElement("input");formatInput.type="hidden";formatInput.id="format";formatInput.name="format";formatInput.value="json";form.insertBefore(formatInput,form.firstChild);
hiddenIFrame.onload=this.uploadResponse;hiddenIFrame.onreadystatechange=this.uploadResponse;var holder=$("hiddenIFrameHolder");holder.appendChild(hiddenIFrame);if(hiddenIFrame.contentWindow)hiddenIFrame.contentWindow.name=hiddenIFrame.name;try{form.submit()}catch(te4){var errMsg=te4.description;if(fileField&&fileField!=="null"&&fileField.value!=="")errMsg=te4.description+" uploading:"+fileField.value;Shepherd.run("bubble","hide");Shepherd.getHelper("view").setTrayText(errMsg)}},uploadResponse:function(event){var xml;
if(this.readyState){if(this.readyState!=="complete")return;this.onreadystatechange=null;xml=this.contentWindow.document.body}else xml=this.contentDocument;var jsonElements=xml.getElementsByTagName("pre");if(jsonElements&&jsonElements.length>0)for(var i=0;i<jsonElements.length;i++){var json=jsonElements[i].innerHTML;if(json&&json!==""){var retMsg=Sfdc.JSON.parse(json);if(!retMsg)console.error("uploadResponse error evaluating JSON body: "+json);Shepherd.runMessage(retMsg)}else console.error("uploadResponse missing JSON body at index "+
i)}else console.error("uploadResponse XML missing expected pre elements");try{var holder=$("hiddenIFrameHolder");if(holder&&holder.firstChild){var iframe=holder.firstChild;iframe.src=Shepherd.Transport.getContentURL("/null.htm");holder.removeChild(iframe)}}catch(te2){console.trace(te2)}},load:function(resource){var options={asynchronous:false,method:"get",onSuccess:function(req){var text=req.responseText;if(text)try{eval(text)}catch(te3){console.debug(te3)}}};var req=new Ajax.Request(resource,options)}};
var Ninja={getAction:function(a,b){a=this.capitalize(a);b=this.capitalize(b);var d=this.getController(a),c=d[b];c||(Shepherd.Transport.load(Shepherd.Transport.getContentStaticResourceURL("/javascript/ninja/"+a.toLowerCase()+"/"+a+b+".js")),c=d[b],c||(c={},d[b]=c));return c},getController:function(a){a=this.capitalize(a);var b=Ninja[a];b||(Shepherd.Transport.load(Shepherd.Transport.getContentStaticResourceURL("/javascript/ninja/"+a.toLowerCase()+"/"+a+"Helper.js")),b=Ninja[a],b||(b={},Ninja[a]=b));
return b},getHelper:function(a){a=this.capitalize(a);a=this.getController(a);var b=a.Helper;b||(a.Helper={});return b},capitalize:function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}};Shepherd.loaders.Ninja=Ninja;
Ninja.Assembly={};
Ninja.Bubble={};
Ninja.Bubble.Helper={bubble:null,point:null,topDog:null,getBubble:function(){var a=this.bubble;a||(this.bubble=a=Shepherd.getHelper("view").resolveContainer("container_bubble"));return a},getPoint:function(){var a=this.point;a||(this.point=a=$("bubble_point"));return a},showInterferingElements:function(a){Ext.isIE6&&(a&&(Ext.select("object").show(),Ext.select("embed").show()),Ext.select("select").show())},hideInterferingElements:function(a){Ext.isIE6&&(a&&(Ext.select("object").hide(),Ext.select("embed").hide()),
Ext.select("select[id!\x3d'calMonthPicker'][id!\x3d'calYearPicker']").hide())},disableAllFormFields:function(){for(var a=document.getElementsByTagName("input"),b=0;b!=a.length;b++)"hidden"!=a[b].getAttribute("type")&&a[b].setAttribute("disabled","disabled")},enableAllFormFields:function(){for(var a=document.getElementsByTagName("input"),b=0;b!=a.length;b++)a[b].getAttribute("disabled")&&a[b].removeAttribute("disabled")},disableAllAnchorTags:function(){for(var a=document.getElementsByTagName("a"),
b=0;b!=a.length;b++)a[b].setAttribute("disabled","disabled");$("bubble_close").removeAttribute("disabled")},enableAllAnchorTags:function(){for(var a=document.getElementsByTagName("a"),b=0;b!=a.length;b++)a[b].removeAttribute("disabled")},disableTabIndex:function(){for(var a=document.getElementsByTagName("a"),b=0;b!=a.length;b++)a[b].setAttribute("tabindex","-1")},resizeHelper:function(){if(null!==Ext.getDom("Assembly")){var a=new Ext.Element(Ext.getDom("container_bubble")),b=Ext.getDoc().getViewSize();
a.setSize(b.width-20,b.height-20-48)}},scrollObserverIE6:function(){var a=Ext.getBody().getViewSize(),b=Shepherd.getHelper("bubble").getBubble().wrapper.style;20>=a.width-b.width.substring(0,b.width.length-2)&&a.height-b.width.substring(0,b.height.length-2)?Ext.fly(Ext.getDom("container_bubble")).center():Shepherd.getHelper("bubble").getBubble().wrapper.style.top=Position.realOffset($("body_content"))[1]+50},displayMask:function(){var a=$("bubbleMask");a&&(Element.removeClassName(a,"hide"),Element.addClassName(a,
"show"))},hideMask:function(){var a=$("bubbleMask");a&&(Element.removeClassName(a,"show"),Element.addClassName(a,"hide"))},isMaskVisible:function(){var a=$("bubbleMask");return a&&a.style&&"inline"===a.style.display}};
Ninja.Comment={};Ninja.Comment.Helper={};
Ninja.Contribute={};
Ninja.Contribute.Helper={formHolder:null,formCounter:0,publishText:"",saveText:"",setContentType:function(a,c){Shepherd.validator.removeErrorMessages(a.element.form);Shepherd.run("view","showView",{page:"documentUpdateProperties",spin:!1,container:"documentProperties"+a.selectedVersionId,params:a});var b=a.element.form,d=b.contentTypeId.selectedIndex;document.getElementById("layoutName").innerHTML=b.layoutId.options[d].innerHTML},cloneForm:function(a){for(var c=document.createElement("form"),b=0;b<
a.childNodes.length;b++)c.appendChild(a.childNodes[b].cloneNode(!0));return c},createHiddenFormHolder:function(){this.formHolder||(this.formHolder=document.createElement("DIV"),this.formHolder.id="hiddenFormHolder",this.formHolder.style.display="none",document.body.appendChild(this.formHolder))},cloneAndMoveForm:function(a){this.createHiddenFormHolder();var c=this.cloneForm(a),b=a.name,d=a.id;a.id="fileForm"+this.formCounter++;a.name=a.id;c.name=b;c.id=d;c.onsubmit=a.onsubmit;this.formHolder.appendChild(a);
$("visibleFormHolder").appendChild(c);a.file.disabled=!1},getQueueWidth:function(a){if(!a||1>a)a=Ext.getBody().getSize().width;a-=239;if(Ext.isGecko||Ext.isSafari3)a-=15;return a},resizeHelper:function(a){try{var c=Ext.getCmp("contributeGrid");c&&c.setWidth(Shepherd.getHelper("contribute").getQueueWidth(a));var b=Ext.getCmp("contributeTabsWin"),d=b.getSize().height-Ext.getCmp("publishTabs").getSize().height,e=Ext.getBody().getViewSize();b.setHeight(e.height-100);Ext.getCmp("publishTabs").setHeight(b.getSize().height-
d);b.center()}catch(f){}},chooseWorkspace:function(a,c,b){c=0;null!==a&&void 0!==a&&(c=Shepherd.Util.getSelectValue(a));a=Ext.getCmp("publishBtn");null!==a&&void 0!==a&&a.disable();Shepherd.run("view","show",{views:[{container:"contentType_"+b,page:"documentUpdateContentType",cache:"lazy"},{container:"documentUpdateTagSuggestionsContainer_"+b,page:"documentUpdateTagSuggestions",spin:!1}],params:{workspaceId:c,selectedVersionId:b}})},showPublishToWorkspaceWarningIfNeeded:function(a,c,b){!c&&b?Shepherd.run("bubble",
"show",{page:"documentPublishWarn",params:{selectedVersionId:a},modal:!0,position:"center",width:500,closeable:!0}):Shepherd.run("contribute","show",{selectedVersionId:a,publishType:"PublishToWorkspace"})},toggleShowHide:function(a,c){var b=Ext.getCmp("publishBtn");c?a.isVisible()||(a.setVisible(!0),b.setText(this.publishText),b.disable()):(a.setVisible(!1),b.setText(this.saveText),b.enable())},chooseSharing:function(a){var c=Ext.getDom("uploadEditForm"+a),b=Ext.getCmp("publishTabs");if("true"===
c.elements.canPublishIntoPublicWorkspace.value){var d=Ext.get("workspaceId_"+a),e="true"===c.elements.displayWorkspaces.value;if(!e)var f=c.elements.sharedWSRadio,e=f?f.checked:e;b.activeTab.doc.showWorkspaces=e;Shepherd.getHelper("contribute").chooseWorkspace(e?d.dom:null,c,a);Shepherd.getHelper("contribute").toggleShowHide(d,e)}else Shepherd.run("view","show",{views:[{container:"contentType_"+a,page:"documentUpdateContentType",cache:"lazy"}],params:{selectedVersionId:a}})}};
Ninja.Dev={};Ninja.Dev.Helper={id:-1,logEntries:[],getNextId:function(){var a=this.id+1;19<a&&(a=0);return this.id=a}};
Ninja.Display={};Ninja.Display.Helper={};
Ninja.Distribution={};Ninja.Distribution.Helper={};
Ninja.Document={};
Ninja.Document.Helper={previewRequestId:0,displayedPreviewId:0,previewRequestTime:0,hideRequestId:0,hideRequestTime:0,versionCtrl:"version",documentCtrl:"document",downloadAction:"download",processUploadForm:function(a,b,c){var d=null;c&&(d=Shepherd.Util.findForm(c),a.formId=d.id);!a.pathOnClient&&a.file&&(a.pathOnClient=a.file);!a.contentUrl&&(!a.file&&b.isValidURL(a.pathOnClient))&&(a.contentUrl=a.pathOnClient);if(a.pathOnClient)a.title=b.convertPathToTitle(a.pathOnClient);else if(a.contentUrl){a.contentUrl=a.contentUrl.trim();
if(!b.isValidURL(a.contentUrl))return $("contentUrlMessage").innerHTML=a.emptyMessage,!1;if(a.contentUrl&&a.maxLinkLength&&(b=parseInt(a.maxLinkLength,10),a.contentUrl.length>b))return $("contentUrlMessage").innerHTML=a.maxLinkLengthMessage.replace("{0}",a.contentUrl.length).replace("{1}",b),!1;a.title=a.contentUrl}else{if(b=$("contentUrlMessage"))b.innerHTML=a.emptyMessage;return!1}return!0},pasteTagIntoField:function(a,b){for(var c=document.getElementById(b),d=c.value.split(","),e=0;e<d.length;e++)if(d[e].strip()===
a)return;d=c.value.strip();0<c.value.strip().length&&","!==d.charAt(d.length-1)&&(c.value+=", ");c.value+=a;c.disabled||c.focus()},stripTagFromField:function(a,b){for(var c=$(b),d=c.value.split(","),e="",f=0;f<d.length;f++){var g=d[f].strip();g!==a&&(""!==e&&(e+=", "),e+=g)}c.value=e;c.disabled||c.focus()},validateAndCopyDateToField:function(a,b,c){if(!a||!b||!c||""===c)return!1;isDate(a.value,c)&&(b.value=a.value);return!1},isValidURL:function(a){if(!a)return!1;a=a.trim();return!(0===a.length||"http://"===
a||"https://"===a)},convertPathToTitle:function(a){return Util.convertPathToTitle(a).name},updateDocLinkButtonState:function(a,b){a.documentIds=Shepherd.Util.convertToArray(a.documentIds);for(var c=0;c<a.documentIds.length;c++)Shepherd.run("state","set",{set:"docLink_"+a.documentIds[c],state:b})},createDownloadURL:function(a){var b;if(a.contentUrl&&0<a.contentUrl.length)b=a.contentUrl.replace("\x26#045;\x26#045;","--"),-1==b.indexOf("://")&&(b="http://"+b),a.versionId?Shepherd.run("version","download",
{ids:Shepherd.Util.convertToArray(a.versionId)}):a.documentIds?Shepherd.run("document","download",{ids:Shepherd.Util.convertToArray(a.documentIds)}):Shepherd.run("version","download",{ids:Shepherd.Util.convertToArray(a.id)});else if(a.versionId||a.id)b=Shepherd.Transport.getShepherdActionURL(this.versionCtrl,this.downloadAction,a.versionId?a.versionId:a.id),b=QueryString.addParamToUrl(b,"asPdf",!0===a.asPdf);else{var c=[];a.versionIds?(c=Shepherd.Util.convertToArray(a.versionIds),b=Shepherd.Transport.getShepherdActionURL(this.versionCtrl,
this.downloadAction,c)):a.documentIds&&(c=Shepherd.Util.convertToArray(a.documentIds),b=Shepherd.Transport.getShepherdActionURL(this.documentCtrl,this.downloadAction,c))}return b},startDownload:function(a,b){var c=-1!=navigator.userAgent.indexOf("iPad")?!0:!1,d=-1!=navigator.userAgent.indexOf("iPhone")?!0:!1;c||d?window.location=a:"viewerIFrame"===b?(c=document.documentElement.clientWidth-50,d=document.documentElement.clientHeight-120,Shepherd.run("bubble","show",{page:"documentViewInline",position:"center",
width:c,height:d,modal:!0,closeable:!0,cssClass:"largeRendition",params:{url:a,width:c,height:d}})):"_new"===b?window.open(a):$(b).src=a},getNextActiveTab:function(a,b){var c=Element.nextSiblings(a.getTabEl(Ext.getCmp("contributeTab"+b))),d,e;for(d=0;d<c.length;d++)if(e=c[d],e.hasClassName("unpublished"))return e.id.replace("publishTabs__","");c=Element.previousSiblings(a.getTabEl(Ext.getCmp("contributeTab"+b)));for(d=c.length-1;0<=d;d--)if(e=c[d],e.hasClassName("unpublished"))return e.id.replace("publishTabs__",
"");return null},resizeHelper:function(){var a=new Ext.Element(Ext.getDom("docTabs")),b=Ext.getCmp("docContentTabs");900>Ext.getBody().getViewSize().width&&null!==b.items.get("previewTab")&&void 0!==b.items.get("previewTab")?a.setWidth(330):900>Ext.getBody().getViewSize().width?a.setWidth(300):a.setStyle("width","auto");b.setWidth(a.getWidth())},checkToolbarMenuVisibility:function(a){for(var b=!0,c=a.items.getCount(),d=0;d<c;d++){var e=!1,f=a.items.item(d);f.menu&&!f.hidden&&(e=arguments.callee(f.menu));
if(f.itemId||0>f.id.indexOf("ext-"))thisItemHidden=f.hidden||e,b=b&&thisItemHidden,f.setVisible(!thisItemHidden)}return b}};
Ninja.Filter={};Ninja.Filter.Helper={};
Ninja.Flex={};Ninja.Flex.FlexHelper={fullScreen:function(a){Shepherd.run("document","viewRenditionLarge",{selectedVersionId:a})}};
Ninja.Form={};Ninja.Form.Helper={};
Ninja.Google={};Ninja.Google.UnboundedPagingToolbar=function(a){Ninja.Google.UnboundedPagingToolbar.superclass.constructor.call(this,a)};
Ext.extend(Ninja.Google.UnboundedPagingToolbar,Ext.PagingToolbar,{onRender:function(a,b){Ninja.Google.UnboundedPagingToolbar.superclass.onRender.call(this,a,b);this.first&&this.first.hide();this.last&&this.last.hide()},onPagingKeydown:function(a){var b=a.getKey(),d=this.getPageData(),c;if(b==a.RETURN)a.stopEvent(),c=this.readPage(d),!1!==c&&(c=Math.max(1,c)-1,this.doLoad(c*this.pageSize));else if(b==a.HOME||b==a.END)a.stopEvent(),c=b==a.HOME?1:d.pages,this.field.dom.value=c;else if(b==a.UP||b==a.PAGEUP||
b==a.DOWN||b==a.PAGEDOWN)if(a.stopEvent(),c=this.readPage(d)){var e=a.shiftKey?10:1;if(b==a.DOWN||b==a.PAGEDOWN)e*=-1;c+=e;1<=c&c<=d.pages&&(this.field.dom.value=c)}}});
Ninja.Google.Helper={PAGE_SIZE:25,showSplash:!0,hasValidGoogleSession:!0,displayPublishExistingBubble:function(a){Shepherd.run("bubble","show",{modal:!0,position:"center",page:"googleListDocs",width:"800",fullHeight:!0,params:a,closeable:!1});a.closePopup&&this.closeGooglePopup()},displayCreateDocBubble:function(a){Ext.MessageBox.show({buttons:{ok:a.btnCreateGDoc,cancel:a.btnCancel},title:a.promptTitle,msg:a.promptInstruction+":",width:400,prompt:!0,fn:function(b,d){"ok"==b?(a.googleDocName=d,Shepherd.run("google",
"createDoc",a)):(Shepherd.getHelper("bubble").showInterferingElements(),a.closePopup&&Ninja.Google.Helper.closeGooglePopup())}});Shepherd.getHelper("bubble").hideInterferingElements()},openGooglePopup:function(a){this.googleWindow=window.open(a,"googleWindow","width\x3d900, height\x3d600, location\x3dyes, menubar\x3dyes, status\x3dyes, toolbar\x3dyes, scrollbars\x3dyes, resizable\x3dyes")},focusGooglePopup:function(){this.googleWindow&&this.googleWindow.focus()},setGooglePopupURL:function(a){this.googleWindow&&
(this.googleWindow.location.href=a)},closeGooglePopup:function(){this.googleWindow&&this.googleWindow.close()},isValidURL:function(a){if(!a)return!1;a=a.trim();return!(0===a.length||"http://"===a||"https://"===a)},refreshAndPublish:function(a){Shepherd.run("contribute","show",{page:"contributeCategorize",params:a});"contribute"===Shepherd.getHelper("view").currentLayout&&Shepherd.run("view","showView",{page:"contribute",container:"container_content",cache:"lazy"})},clearGoogleGridSelections:function(){var a=
Ext.getCmp("googleDocGrid"),b=Ext.DomQuery.selectNode(".x-grid3-hd-checker",a.view.innerHd);b&&Ext.fly(b).removeClass("x-grid3-hd-checker-on");a.getSelectionModel().clearSelections();Ext.getCmp("publishButton").setDisabled(!0)}};
Ninja.Menu={};Ninja.Menu.Helper={};
Ninja.Search={};
Ninja.Search.Helper={currentSearchCount:0,searchPageNum:"0",sortOrderField:"",sortOrderDirection:"",resultsListType:"s",onViewShowBefore:function(b){if(null==$("searchFilterForm")&&b.hasOwnProperty("searchRefreshFacets")){var a=b.searchRefreshFacets;a&&("string"===typeof a&&"false"==a.toLowerCase())&&(b.searchRefreshFacets="true")}return b},convertSearchFilterTerms:function(b){b.searchExtensions=Shepherd.Util.convertToArray(b.searchExtensions);b.searchWorkspaceIds=Shepherd.Util.convertToArray(b.searchWorkspaceIds);b.searchLanguageFilters=
Shepherd.Util.convertToArray(b.searchLanguageFilters);b.searchCreatorIds=Shepherd.Util.convertToArray(b.searchCreatorIds);b.searchTags=Shepherd.Util.convertToArray(b.searchTags);searchProperties={};for(var a in b)if(b.hasOwnProperty(a)){var c=a.indexOf("prop_");if(-1!==c&&(propertyValues=b[a])&&propertyValues.length)propertyValueArray="string"===typeof propertyValues?[propertyValues]:propertyValues,searchProperties[a.substring(c+5,a.length)]=propertyValueArray}b.searchProperties=searchProperties},
handlePagingProperties:function(b,a){!0===b?(this.searchPageNum="0",this.sortOrderDirection=this.sortOrderField="",a.searchPageNum=this.searchPageNum,a.sortOrderField=this.sortOrderField,a.sortOrderDirection=this.sortOrderDirection,"s"!=this.resultsListType&&(a.resultsListType=this.resultsListType)):(a.searchPageNum?this.searchPageNum=""+a.searchPageNum:a.searchPageNum=""+this.searchPageNum,a.sortOrderField?this.sortOrderField=""+a.sortOrderField:a.sortOrderField=""+this.sortOrderField,a.sortOrderDirection?
this.sortOrderDirection=""+a.sortOrderDirection:a.sortOrderDirection=""+this.sortOrderDirection,a.resultsListType?this.resultsListType=""+a.resultsListType:a.resultsListType=this.resultsListType)}};
Ninja.State={};Ninja.State.Helper={};
Ninja.Subscription={};Ninja.Subscription.Helper={};
Ninja.Tab={};Ninja.Tab.Helper={};
Ninja.Tag={};Ninja.Tag.Helper={};
Ninja.Version={};Ninja.Version.Helper={};
Ninja.View={};
Ninja.View.Helper={trayCount:0,pageCache:{},containerState:{},tray:null,labelMap:{},isAlohaSkin:!1,resolveLayout:function(a){a=encodeURIComponent(a);var b=this.layouts[a];if(!b)throw"Layout '"+a+"' not found.";var c=null;a=b.params;var d=b.motif,l=b.title,g=b.description;if(b.parent){var h={},k=this.resolveLayout(b.parent),c=k.views;a=$H(k.params).merge($H(a));for(var e=0;e<c.length;e++){var m=c[e];h[m.container]=m}for(c=0;c<b.views.length;c++)e=b.views[c],h[e.container]=e;var c=[],f;for(f in h)h.hasOwnProperty(f)&&
(e=h[f],"function"!==typeof e&&c.push(e));d||(d=k.motif);l||(l=k.title);g||(g=k.description)}else b.views?(c=b.views,d=b.motif,l=b.title,g=b.description):c=b;Ninja.dev&&c.push({container:"devFooter",page:"devFooter",cache:!0});return{views:c.compact(),params:a,motif:d,title:l,description:g,onViewShowBefore:b.onViewShowBefore}},resolveContainer:function(a){a=$(a);if(!a)return null;for(var b=a.getElementsByTagName("*"),c=0;c<b.length;c++){var d=b[c];if("content_container"===d.id)return{contentArea:d,
wrapper:a}}return{contentArea:a,wrapper:a}},clearTray:function(a){a&&a<this.trayCount||(a=this.getTray(),new Effect.Fade(a,{queue:"end",duration:0.5,afterFinish:function(){Shepherd.getHelper("view").getTray().innerHTML="";Ext.isIE||Shepherd.getHelper("view").getTrayHolder().morph("opacity:1;")}}))},setTrayText:function(a){if(a&&0<a.length){var b=this.getTray(),c=++this.trayCount;b&&new Effect.Appear(b,{queue:"end",duration:0.5,beforeStart:function(){var b=Shepherd.getHelper("view");Ext.isIE||b.getTrayHolder().morph("opacity:.25;");
b.getTray().innerHTML=a},afterFinish:function(){setTimeout("Shepherd.getHelper('view').clearTray("+c+");",3E3)}})}else this.clearTray()},getTray:function(){this.tray||(this.tray=$("tray"));return this.tray},getTrayHolder:function(){this.trayHolder||(this.trayHolder=$("trayHolder"));return this.trayHolder},focusForm:function(a){try{if(a){var b=!1,c=a.elements;for(i=0;i<c.length&&!b;i++){var d=c[i];if("newTag"!==d.name&&"text"===d.type||"password"===d.type||"file"===d.type||"textarea"===d.tagName||
"TEXTAREA"===d.tagName)try{d.focus(),b=!0}catch(l){}}}}catch(g){}},hasFlash:function(){return!1},clearElement:function(a){if(a=$(a))a.innerHTML=""},showStatus:function(a){var b=a.shepherdSuccess;if(b){a=a.formName+"Status";var c=$(a);c?(c.innerHTML=b,setTimeout("Shepherd.getHelper('view').clearElement('"+a+"');",3E3)):this.setTrayText(b)}},runAction:!0,handleChange:function(a){var b=Shepherd.getHelper("view");if(b.ignoreLocationChange)return b.ignoreLocationChange=!1;var c=null;if(a&&0<a.length){Shepherd.getHelper("bubble").isMaskVisible()&&
Shepherd.getHelper("bubble").hideMask();Ext.menu.MenuMgr.hideAll();(c=Ext.getCmp("contributeTabsWin"))&&c.destroy();var d=a.split("?");a=d[0].split("/");c=a[0];1<a.length&&(d[1]=d[1]+"\x26id\x3d"+a[1]);a={};var l=!1,g=null,h=null,k="javascript:window.history.back();",e;if(1<d.length)for(var d=d[1].split("\x26"),m=0;m<d.length;m++){e=d[m].split("\x3d")[0];var f=decodeURIComponent(d[m].substring(e.length+1));if(f&&("{"===f.charAt(0)||"["===f.charAt(0)))f=Sfdc.JSON.parse(f)||f;if(f&&""!==f)if("controller"===
e)g=f;else if("action"===e)h=f;else if("retURL"===e)k=f;else if("trace"===e){if("off"==f){var f=null,n=$("queryPlanContainer");(e=$("container_content"))&&n&&e.removeChild(n)}Shepherd.Transport.trace=f}else if(l=!0,n=a[e])if(n instanceof Array)n[n.length]=f;else{var p=[];p[0]=n;p[1]=f;a[e]=p}else a[e]=f}d=[];!1!==this.runAction&&(g&&h)&&d.push({controller:g,action:h,params:a});this.runAction=!0;c&&""!==c&&(e=$("container_content"),"search"===c?(l||(b.pageCache.documentList=null,b.pageCache.sidebarFacets=
null),e&&Element.addClassName(e,"search-layout")):e&&Element.removeClassName(e,"search-layout"),d.push({controller:"view",action:"show",params:{layout:c,params:a}}));$("backLink").href=k;Shepherd.runMessage({actions:d})}return!0},add:function(a,b){b||(b=!0);this.runAction=b;dhtmlHistory.add(a)},evalScripts:function(a){try{for(var b={method:"get",asynchronous:!1,onSuccess:function(a){eval(a.responseText+" ; try{    if(typeof(pl) !\x3d\x3d 'undefined') { window.pl \x3d pl;} }catch(e){ console.debug(e.message); }")}},
c,d=[],l=/\x3c!--s-cript.*?(?:src=\"(.*?)\".*?)?>([\s\S]*?)<\/s-cript--\x3e/gmi;c=l.exec(a);){var g=c[1],h=c[2];g&&0<g.length&&new Ajax.Request(g,b);h&&0<h.length&&(d[d.length]=h)}for(var k=0;k<d.length;k++)try{(function(){eval(d[k])})()}catch(e){console.debug("error evaling script "+e.message+"\n"+d[k])}picklist.initAll()}catch(m){a="";for(var f in m)f&&(a+=f+" \x3d "+m[f]+"  ,  ");console.debug(a)}},resizeObject:function(){try{this.resizeHelper()}catch(a){}},setWindowTitle:function(a){document.title=
a},destroyExtCmp:function(a){a=Ext.getCmp(a);null!=a&&a.destroy()},setTooltip:function(a,b){a.tooltip=b;var c=a.getEl().child(a.buttonSelector);"object"==typeof b?Ext.QuickTips.register(Ext.apply({target:c.id},b)):c.dom[a.tooltipType]=b},minWidth:function(a,b){a&&(a.getComputedWidth()<=b?a.setWidth(b):a.setWidth("auto"))},sizeBodyToSidebar:function(){var a=$("bodyDiv"),b=$("container_sidebar");a&&b&&(a.style.height="auto",b.offsetHeight>a.offsetHeight&&(a.style.minHeight=this.isAlohaSkin?b.offsetHeight+
22+"px":b.offsetHeight-1+"px"))},moveElement:function(a,b){var c=Ext.get(a),d=Ext.get(b);c.update(d.dom.innerHTML);d.update("")},redirectToRetUrl:function(){var a=this.getRedirectUrl();return null!=a?(Shepherd.getHelper("view").isContentRedirectUrl()?Shepherd.getHelper("bubble").hideMask():Shepherd.getHelper("bubble").displayMask(),navigateToUrl(a),!0):!1},getRedirectUrl:function(){var a=window.location.href;if(a=a.substring(a.indexOf("?")+1))if((a=Ext.urlDecode(a))&&a.c&&"p"===a.c&&a.retURL&&""!=
a.retURL&&"/"===a.retURL.charAt(0))return a.retURL;return null},isContentRedirectUrl:function(){var a=this.getRedirectUrl();return null!=a&&-1!=a.indexOf("/sfc/")},isRedirectUrlPresent:function(){return null!=this.getRedirectUrl()}};
Ninja.Workspace={};
Ninja.Workspace.Helper={manualGenericMessageKey:"manualGenericMessage",getWidth:function(b){if(!b||1>b)b=Ext.getBody().getViewSize().width;b-=221;Shepherd.getHelper("view").isAlohaSkin&&(b-=45,Ext.isIE&&(b+=5));return 644<b?b:644},resizeHelper:function(){var b=Ext.getCmp("wsTabs");b&&b.setWidth(Shepherd.getHelper("workspace").getWidth());Ext.getCmp("myContentGrid").setWidth(Shepherd.getHelper("workspace").getWidth()-3);return!1},getToolbarButtons:function(b,a){b.add(new Ext.Toolbar.Button({id:"subBtn_"+a.selectedWorkspaceId,
hidden:a.isArchived||null===a.selectedWorkspaceId||void 0===a.selectedWorkspaceId,text:a.isSubscribed?a.subscribed:a.notSubscribed,tooltip:a.isSubscribed?a.subscribedTip_workspace:a.notSubscribedTip_workspace,tooltipType:"title",iconCls:a.isSubscribed?"subOn":"subOff",handler:function(){Shepherd.run("subscription","update",{shepherdToken:a.shepherdToken,id:a.selectedWorkspaceId,type:"workspace",update:a.isSubscribed?"remove":"add",isExtBtn:!0,subscribed:a.subscribed,notSubscribed:a.notSubscribed,
subscribedTip:a.subscribedTip_workspace,notSubscribedTip:a.notSubscribedTip_workspace,updating:a.updating})}}));var c=-1!=navigator.userAgent.indexOf("iPad")?!0:!1,d=-1!=navigator.userAgent.indexOf("iPhone")?!0:!1;b.add(new Ext.Toolbar.Button({text:a.addGoogleDoc,tooltip:a.addGoogleDocTip,itemId:"addExistingItem",iconCls:"gAddExistingIcon16",cls:"x-bln-text-icon",hidden:!a.isGoogleDocContributor||!a.spaceForUpload,handler:function(){Shepherd.run("bubble","show",{modal:!0,position:"center",page:"contributeGoogleDoc",
width:550})}}));b.add(new Ext.Toolbar.Button({text:a.contributeText,tooltip:a.contributeTip,tooltipType:"title",hidden:!a.displayContributeButton||!a.spaceForUpload,iconCls:"contributeIcon16",id:"contributeMenu",handler:function(){Shepherd.run("contribute","show",{page:"contributeDocument",width:400})}}));b.add(new Ext.Toolbar.Button({text:a.createNew,itemId:"createNewMenu",iconCls:"starburst",tooltip:a.createNewTip,tooltipType:"title",hidden:!a.spaceForUpload,menu:{items:[{text:a.newSedonaPresentation,
itemId:"newPresItem",iconCls:"pres16",cls:"x-btn-text-icon",hidden:!a.displayCreateDeck,handler:function(){c||d?alert(a.functionalityNotAccessible):Shepherd.run("bubble","show",{modal:!0,position:"center",page:"assemblyCreateDeck",fullWidth:!0,fullHeight:!0,padding:10,closeable:!1,shakeWhenClickOutside:!1})}},{text:a.newDocPack,itemId:"newPackItem",iconCls:"pack16",cls:"x-btn-text-icon",hidden:!a.displayPackAssembly,handler:function(){c||d?alert(a.functionalityNotAccessible):Shepherd.run("bubble",
"show",{modal:!0,position:"center",page:"assemblyCreatePack",fullWidth:!0,fullHeight:!0,padding:10,closeable:!1,shakeWhenClickOutside:!1})}}]}}));Ninja.Document.Helper.checkToolbarMenuVisibility(b)}};
Ninja.Wsperm={};Ninja.Wsperm.Helper={};
Ninja.Assembly.Publish={before:function(a,b){"contribute"===Shepherd.getHelper("view").currentLayout&&Shepherd.run("view","showView",{page:"contribute",container:"container_content",cache:"lazy"});Shepherd.run("bubble","hide");Shepherd.run("contribute","show",{page:"contributeCategorize",params:{selectedVersionIds:[a.versionId]}});return!1}};
Ninja.Bubble.Hide={before:function(c,d){if(c){var a=Element.extend(c.element);if(a&&(a=Element.extend(a.parentNode))&&"bubbleClone"==a.className)return document.body.removeChild(a),!1}a=d.getBubble();if(!a)return!1;var b=a.wrapper;b.className="container_unused";Ext.isIE6||(b.style.position="fixed");Ext.isIE6&&Event.stopObserving(window,"scroll",Shepherd.getHelper("bubble").scrollObserverIE6);a.contentArea.innerHTML="";for(var a=a.wrapper,b=a.getElementsByTagName("embed"),e=0;e<b.length;e++)b[e].parentNode.innerHTML=
"";d.enableAllAnchorTags();d.enableAllFormFields();d.showInterferingElements(!0);new Effect.Fade($("bubbleMask"),{duration:0.1});document.body.style.overflow="";a.onmouseover=function(){return!1};a.onmouseout=function(){return!1};c&&c.redirectOnClose?Shepherd.getHelper("view").redirectToRetUrl():Shepherd.getHelper("bubble").hideMask();return!1}};
Ninja.Bubble.Resize={before:function(a,e){var b=a.width,c=a.height,d=(document.body.clientWidth-b)/2;null!==c&&void 0!==c?new Effect.Morph("container_bubble",{style:{width:b+"px",left:d+"px",height:c+"px"},beforeStart:a.beforeStart,afterFinish:a.afterFinish,duration:0.5}):new Effect.Morph("container_bubble",{style:{width:b+"px",left:d+"px"},beforeStart:a.beforeStart,afterFinish:a.afterFinish,duration:0.5})}};
Ninja.Bubble.Show={before:function(a,k){var d=a.left,e=a.top,c=k.getBubble();if(!c)return!1;var b=a.padding?a.padding:50,f=a.width?a.width:400,g=a.height?a.height:200,l=a.onmouseover,m=a.onmouseout,w=a.page,p=a.position,x=!0===a.modal?!0:!1,q=k.getPoint(),r=a.cssClass?a.cssClass:"container",t=!1!==a.closeable,y=!1!==a.shakeWhenClickOutside;c.wrapper.className="container_unused";var h=Ext.getDoc().getViewSize(),s=h.width,h=h.height;a.fullWidth&&(f=s-2*b);a.autoWidth&&(f=0);a.fullHeight&&(g=h-2*b-48);
a.autoHeight&&(g=0);if(a.fullWidth&&a.fullHeight)Ext.EventManager.onWindowResize(Shepherd.getHelper("view").resizeObject,k,!0);Shepherd.run("menu","hide");var n=c.wrapper;if("center"===p)q.className="hidden",e=b,d=(s-f)/2,Ext.isIE6&&Event.observe(window,"scroll",Shepherd.getHelper("bubble").scrollObserverIE6);else{$("bubble_close").style.display="none";n.style.position="absolute";!d&&null!==a.evt&&(d=Event.pointerX(a.evt));!e&&a.evt&&(e=Event.pointerY(a.evt));var e=e+30,d=d+10,p=b=0,u="l",v="t";Ext.isIE&&
(b+=2);Ext.isGecko2&&(b+=5);e>h/2&&e-g-70>document.documentElement.scrollTop&&(e=e-g-70,v="b",b=g+29);if(Ext.isSafari3||Ext.isGecko2)b-=5;Ext.isIE&&(b-=2);d+f>s&&(d-=f,u="r",p=f-45);q.className="callout_"+v+u;q.style.top=b-23+"px";q.style.left=p+"px"}n.style.width=0<f?f+"px":"auto";n.style.height=0<g&&a.fullHeight?g+"px":"auto";n.style.left=d+"px";n.style.top=e+"px";d=c.wrapper;d.onmouseover=l?l:function(){};d.onmouseout=m?m:function(){};c.wrapper.removeClassName("uncloseable");x&&(c.contentArea.innerHTML=
"",l=$("bubbleMask"),m=Element.getHeight($("body_content")),m<h&&(m=h),l.style.height=m+"px",t?(l.onclick=function(){Shepherd.run("bubble","hide")},$("bubble_close").style.display="block"):(y&&(l.onclick=function(){new Effect.Shake($("container_bubble"))}),c.wrapper.addClassName("uncloseable"),$("bubble_close").style.display="none"),Shepherd.getHelper("bubble").displayMask(),k.disableAllAnchorTags(),k.disableAllFormFields(),document.body.style.overflow="hidden");k.hideInterferingElements(!0);Element.removeClassName(c.wrapper,
"container_unused");Element.addClassName(c.wrapper,r);a.content?(c.contentArea.appendChild(a.content),c.wrapper.className=r+" overlayDialog"):(c.wrapper.className=r+" overlayDialog",Shepherd.run("view","showView",{page:w,container:"container_bubble",params:a.params}));t||c.wrapper.addClassName("uncloseable");return!1}};
Ninja.Bubble.ShowUpdateAlert={before:function(a,b){(new Sfdc.GuidedTour({closeIntroLabel:a.closeLabel,shouldShowHandler:function(){return!0},closeForeverHandlerIntercept:function(){UserContext.userPreferences.setBoolean("ShowContentUpdateAlert",!1)},steps:[{width:450,title:a.titleLabel,content:a.bodyLabel,countStep:!1,toolbarItems:[{xtype:"tbfill"},{xtype:"button",labelType:"closeIntroLabel",action:"closeForeverHandler"}]}]})).start();return!1}};
Ninja.Comment.Create={before:function(a){Shepherd.run("state","set",{set:"commentSave",state:"updating"});return!0},after:function(a){var b=Ext.getCmp("commentsTab").body.id;Shepherd.run("view","showView",{container:b,page:"commentList",params:{selectedVersionId:a.selectedVersionId}});return!1},failure:function(a){Shepherd.run("state","set",{set:"commentSave",state:"on"})}};
Ninja.Comment.Delete={after:function(a){var b=Ext.getCmp("commentsTab").body.id;window.setTimeout(function(){Shepherd.run("view","showView",{container:b,page:"commentList",params:{selectedVersionId:a.selectedVersionId}})},100);Shepherd.run("bubble","hide");return!1}};
Ninja.Comment.Update={after:function(a){var b=Ext.getCmp("commentsTab").body.id;window.setTimeout(function(){Shepherd.run("view","showView",{container:b,page:"commentList",params:{selectedVersionId:a.selectedVersionId}})},100);Shepherd.run("bubble","hide");return!1}};
Ninja.Contribute.Cancel={before:function(b,d){var a=Element.extend(b.element).up("#contributeButtons"),c=a.next("#contributeCancel");Effect.Appear(c,{duration:0.5});Effect.SlideUp(a,{duration:0.3});return!1}};
Ninja.Contribute.CancelConfirm={before:function(a,b){Shepherd.run("bubble","hide");return!1}};

Ninja.Contribute.LoadTabs={before:function(a){function s(m,c,b){var f=Ext.util.Format.htmlEncode(a.titlePublish),g=a.header2Publish,e=a.btnPublish,h=a.btnCancel,e=Shepherd.getHelper("contribute");e.publishText=a.btnPublish;e.saveText=a.btnUpdate;"DocumentContentChange"==m?(f=a.titleRevise,g=a.header2Revise):"DocumentPropertiesChange"==m?(f=a.titleEdit,g=a.header2Edit):"New"==m&&(f=a.title,g=a.header2);"true"==c&&(h=a.btnDelete);e="true"==b?a.btnPublish:a.btnUpdate;q.setTitle(f);t.update(g);l.setText(e);
n.setText(h)}function r(){DatePicker.datePicker&&(DatePicker.datePicker.hide(),DatePicker.datePickEventRemove(),DatePicker.datePicker=null)}function u(){var a=Ext.getCmp("publishTabs"),c=Ext.getDom("uploadEditForm"+a.activeTab.doc.versionId);r();Shepherd.runForm("document","updateAndPublish",c,{activeTabId:a.activeTab.id})}var q=Ext.getCmp("contributeTabsWin"),l=Ext.getCmp("publishBtn"),n=Ext.getCmp("cancelPubBtn"),t=Ext.get("header2"),p=a.versionData,k=[];for(i=0;i<p.length;i++){var d=p[i];k[i]=
{title:'\x3cimg alt\x3d"" src\x3d"'+d.iconPath+'" width\x3d"16" height\x3d"16"\x3e'+d.title,tabTip:d.title,doc:d,id:"contributeTab"+d.versionId,hasMultiPicklistRendered:!1,userOKWithTabChange:!1,listeners:{render:function(a){var c=a.id.replace("contributeTab","");Shepherd.run("view","showView",{container:a.body.id,page:"documentUpdate",params:{selectedVersionId:c,publishType:this.doc.publishType}})},activate:function(a){var c=a.id.replace("contributeTab",""),b=Ext.getCmp("publishTabs"),f=this.doc.showWorkspaces?
this.doc.showWorkspaces.toString():"false",g=1<p.length,e;for(e in b.items.items)if(b.items.items.hasOwnProperty(e)){var h=b.items.items[e];if(!0===h.hasMultiPicklistRendered){var d=document.forms["uploadEditForm"+h.doc.versionId];Shepherd.getHelper("contribute").chooseWorkspace(null,d,h.doc.versionId);if(d=Ext.get("workspaceId_"+h.doc.versionId))d.dom.options[0].selected=!0;h.userOKWithTabChange=!1}}l.purgeListeners();l.on("click",u,a,a);a=Element.hasClassName(b.getTabEl(a),"published");l.setDisabled(a);
n.setDisabled(a);n.on("click",function(){var a=!g;0<document.location.href.indexOf("contribute?id\x3d")&&Shepherd.run("view","showLayout",{layout:"contribute"});var c=Ext.getCmp("publishTabs"),b=Ext.getDom("uploadEditForm"+c.activeTab.doc.versionId);if(b){var e=b.elements.publishStatus;!0===a&&(e&&"U"===e.value)&&Shepherd.run("version","deleteHard",{selectedVersionIds:[c.activeTab.doc.versionId],shepherdToken:b.elements.contributeCancelCSRFToken.value})}(a=Ext.getCmp("contributeTabsWin"))&&a.destroy();
r();Shepherd.getHelper("view").isRedirectUrlPresent()&&Shepherd.getHelper("view").redirectToRetUrl()});s(this.doc.publishType,!g&&this.doc.isPending,f);var k=Shepherd.getHelper("document").getNextActiveTab(b,c);(c=Ext.getCmp("nextBtn_"+c))&&(k?c.setHandler(function(){b.activate(Ext.getCmp(k.replace("publishTabs__","")))}):c.setVisible(!1))}}}}var d=q.getInnerHeight(),v=20+Ext.fly("contributeFormArea").dom.offsetHeight,k=new Ext.TabPanel({id:"publishTabs",buttonAlign:"center",width:"auto",height:d-
v,activeTab:0,enableTabScroll:!0,defaults:{closable:!1,tabCls:"unpublished",height:"auto",autoScroll:!0},listeners:{beforetabchange:function(d,c,b){var f=!0;if(b&&!0===b.hasMultiPicklistRendered&&!1===b.userOKWithTabChange){f=!1;if(Ext.isIE6){var g=Ext.select("#contributeTabsWin select");g.hide()}Ext.Msg.show({title:a.confirmTabChangeTitle,msg:a.confirmTabChangeText,buttons:Ext.Msg.YESNO,buttonText:Ext.MessageBox.buttonText.no=a.btnNo,fn:function(a){"yes"===a&&(f=!0,b.userOKWithTabChange=!0,d.setActiveTab(c));
Ext.isIE6&&g.show()},icon:Ext.MessageBox.QUESTION})}return f}},items:k});Ext.isGecko2&&k.addClass("gecko2");k.render("tabRow");return!1}};
Ninja.Contribute.Show={before:function(b,e){var a=b.grid;if(null!==a&&void 0!==a){var a=a.getSelectionModel(),f=[];for(i=0;i<a.getCount();i++)f[i]=a.selections.items[i].json.versionId;b.grid=null;b.selectedVersionIds=f}b.selectedVersionId&&(b.selectedVersionIds=Shepherd.Util.convertToArray(b.selectedVersionId));var c=b.page;if("contributeDocument"==c||"contributeLink"==c)return Shepherd.run("bubble","show",{modal:!0,position:"center",page:c,params:b.params,closeable:!1}),!1;if(null===c||void 0===
c)c="contributeCategorize";var d=b.params;if(null===d||void 0===d)d=b;d.closePublishWarningDialog&&Shepherd.run("bubble","hide");(a=Ext.getCmp("publishTabs"))&&a.destroy();a=new Ext.WindowGroup;a.zseed=5E3;a=new Ext.Window({manager:a,layout:"fit",shim:!1,id:"contributeTabsWin",modal:!0,closable:!1,resizable:!1,draggable:!Ext.isGecko3,width:800,height:Ext.getBody().getViewSize().height-100,listeners:{beforeshow:function(){document.documentElement.style.overflow="hidden"},activate:function(a){Shepherd.run("view",
"showView",{page:c,container:a.body.id,params:d});Ext.EventManager.onWindowResize(Shepherd.getHelper("view").resizeObject,e,!0)},destroy:function(){Shepherd.getHelper("bubble").showInterferingElements();document.documentElement.style.overflow="";Ext.EventManager.removeResizeListener(Shepherd.getHelper("view").resizeObject,e)}},buttonAlign:"center",buttons:[{id:"publishBtn"},{id:"cancelPubBtn"}]});Shepherd.getHelper("bubble").hideInterferingElements();a.show(this);return!1}};
Ninja.Contribute.Uncancel={before:function(b,d){var a=Element.extend(b.element).up("#contributeCancel"),c=a.previous("#contributeButtons");Effect.SlideUp(a,{duration:0.3});Effect.Appear(c,{duration:0.5});return!1}};
Ninja.Dev.RequestLog={before:function(b,f){var g=Shepherd.getHelper("view").resolveContainer("container_request");if(null!==g&&void 0!==g){var c=new Date;b.date=c;var a="\x3chr/\x3e"+c.getHours()+":"+c.getMinutes()+"."+c.getMilliseconds()+" : ",c=f.getNextId();if(null===b.body||void 0===b.body)a+=b.header;else var a=a+("\x3cspan style\x3d\"cursor:pointer;\" onclick\x3d\"$('devCommand').value\x3d\x26quot;Shepherd.run('"+b.controller+"','"+b.action+"',\x26quot;+unescape('"+escape(Shepherd.Util.toJSON(b.body))+
"')+\x26quot;);\x26quot;\"\x3e"+b.header+"\x3c/span\x3e"),d=Shepherd.Util.toJSON(b.body).replace(/:\"(.+?)\"/g,':"\x3cspan style\x3d"color:#CC33CC;"\x3e$1\x3c/span\x3e"').replace(/\"(.+?)\":/g,'"\x3cspan style\x3d"color:#990033;"\x3e$1\x3c/span\x3e":').replace(/([,])/g,"$1\x3cbr/\x3e").replace(/([\[\{])/g,'\x3cbr/\x3e$1\x3cdiv class\x3d"indent"\x3e').replace(/([\]\}])/g,"\x3c/div\x3e$1").replace(/([:])/g," $1 "),a=a+(" \x3ca href\x3d\"javascript:Effect.toggle($('msg"+c+'\'),\'blind\');"\x3e(+)\x3c/a\x3e\x3cdiv style\x3d"display:none;" id\x3d"msg'+
c+'"\x3e'+d+"\x3c/div\x3e");b.output=a;f.logEntries[c]=b;a="";for(d=c;0<d;d--){var e=f.logEntries[d];null!=e&&(a+=e.output)}for(d=19;d>c;d--)e=f.logEntries[d],null!=e&&(a+=e.output);g.contentArea.innerHTML=a}return!1}};
Ninja.Display.CopyOptions={before:function(a){var b=$(a.from);a=$(a.to);for(var b=b.options,c=a.options,e=0;e<b.length;e++){var d=b[e];d.selected&&!this.listContains(c,d)&&(d=d.cloneNode(!0),a.appendChild(d))}return!1},listContains:function(a,b){for(var c=0;c<a.length;c++)if(a[c].value&&a[c].value==b.value)return!0;return!1}};
Ninja.Display.MoveDownOptions={before:function(d){d=$(d.list);var a=d.options,c=[];if(0<a.length&&a[a.length-1].selected)return!1;for(var b=a.length-1;0<=b;b--){var e=a[b];c[b]=null;e.selected&&(c[b+1]=e.cloneNode(!0),c[b+1].selected=!0)}for(b=a.length-1;0<=b;b--)if(e=a[b],!e.selected)for(var f=b;0<=f;f--)if(!c[f]){c[f]=e.cloneNode(!0);break}d.innerHTML="";for(a=0;a<c.length;a++)d.appendChild(c[a]);return!1}};
Ninja.Display.MoveOptions={before:function(a){var c=$(a.from),b=$(a.to),f=c.options,g=b.options;a=a.limit;""===a&&(a=null);if(a&&g.length>=a)return!1;for(var d=f.length-1;0<=d&&(!a||a>b.options.length);d--){var e=f[d];e.selected&&(this.listContains(g,e)||b.appendChild(c.removeChild(e)))}return!1},listContains:function(a,c){for(var b=0;b<a.length;b++)if(a[b].value&&a[b].value==c.value)return!0;return!1}};
Ninja.Display.MoveUpOptions={before:function(d){d=$(d.list);var b=d.options,c=[];if(0<b.length&&b[0].selected)return!1;for(var a=0;a<b.length;a++){var e=b[a];c[a]=null;e.selected&&(c[a-1]=e.cloneNode(!0),c[a-1].selected=!0)}for(a=0;a<b.length;a++)if(e=b[a],!e.selected)for(var f=a;f<c.length;f++)if(!c[f]){c[f]=e.cloneNode(!0);break}d.innerHTML="";for(b=0;b<c.length;b++)d.appendChild(c[b]);return!1}};
Ninja.Display.RemoveOptions={before:function(a){a=$(a.from);for(var c=a.options,b=c.length-1;0<=b;b--){var d=c[b];d.selected&&a.removeChild(d)}return!1}};
Ninja.Display.SelectOptions={before:function(a){var c=!0;a.deselect&&(c=!1);for(var d=$(a.options).options,b=d.length-1;0<=b;b--){var e=d[b];if(!0===a.selectAll||-1!=a.selectItems.indexOf(e.value))e.selected=c}return!1}};
Ninja.Distribution.Create={before:function(a,b,c){window.location=a.createUrl;return!1}};
Ninja.Distribution.ShowRelated={before:function(a,b,c){window.location=a.relatedUrl;return!1}};
Ninja.Document.Archive={after:function(a){a.latestVersionId?Shepherd.run("document","view",{selectedVersionId:a.latestVersionId}):Shepherd.run("search","search");return!1},failure:function(){Ext.getCmp("docDetailsToolbar").getComponent("editMenu")&&Ext.getCmp("docDetailsToolbar").getComponent("editMenu").enable();return!1}};
Ninja.Document.ChangeOwningWorkspace={after:function(a){Shepherd.run("bubble","hide");Shepherd.run("document","view",{id:a.versionId});return!1}};
Ninja.Document.Create={before:function(a,b,c){return b.processUploadForm(a,b,c)?(Element.addClassName($("contributeFormArea"),"wait"),!0):!1},after:function(a,b){"contribute"===Shepherd.getHelper("view").currentLayout&&Shepherd.run("view","showView",{page:"contribute",container:"container_content",cache:"lazy"});Shepherd.run("bubble","hide");var c=Shepherd.Util.convertToArray(a.versionId);Shepherd.run("contribute","show",{page:"contributeCategorize",params:{selectedVersionIds:c,selectedWorkspaceId:a.workspaceId}});
return!1},failure:function(a){Element.removeClassName($("contributeFormArea"),"wait")}};
Ninja.Document.CreatePublishToPersonalWorkspace={before:function(a,b,c){b.processUploadForm(a,b,c);Element.addClassName($("contributeFormArea"),"wait");Element.addClassName($("file"),"hideUpload");Element.addClassName($("flexComponent"),"hideUpload");return!0},after:function(a,b){ContentDistribution.handleUploadCompletion(a);return!1},failure:function(a){Element.removeClassName($("contributeFormArea"),"wait");Element.removeClassName($("file"),"hideUpload");Element.removeClassName($("flexComponent"),
"hideUpload")}};
Ninja.Document.DeleteFromAllPacks={after:function(a){var b=Ext.getCmp("ContentPacksTab").body.id;window.setTimeout(function(){Shepherd.run("view","showView",{container:b,page:"documentPackList",params:{selectedVersionId:a.selectedVersionId}})},100);Shepherd.run("bubble","hide");return!1}};
Ninja.Document.DeleteVersions={before:function(a,b,c){b=a.grid.getSelectionModel();c=[];for(i=0;i<b.getCount();i++)c[i]=b.selections.items[i].json;a.grid=null;a.selectedGDocs=c;return!0},after:function(a,b){Ext.getCmp("myContentGrid").getStore().reload()}};
Ninja.Document.DownloadBegin={before:function(a,b){var c=b.createDownloadURL(a);b.startDownload(c,a.target);return!1}};
Ninja.Document.Feature={before:function(a){Shepherd.run("state","set",{set:"featuredContent_"+a.documentId,state:"updating"});return!0},after:function(a){Shepherd.run("state","set",{set:"featuredContent_"+a.documentId,state:0<a.featuredContentBoost?"on":"off"});return!1}};
Ninja.Document.LinkEntity={before:function(a,b){if(!a.documentIds||""===a.documentIds||!a.versionIds||""===a.versionIds||!a.eid||""===a.eid)return!1;b.updateDocLinkButtonState(a,"updating");a.documentIds=Shepherd.Util.convertToArray(a.documentIds);a.versionIds=Shepherd.Util.convertToArray(a.versionIds);return!0},after:function(a,b){b.updateDocLinkButtonState(a,"on");return!1},failure:function(a,b){b.updateDocLinkButtonState(a,"off");return!1}};
Ninja.Document.LoadDetails={before:function(a,e){var c=(a.isArchived||!a.isDocumentArchiver)&&(!a.isArchived||!a.isDocumentRestorer||!a.spaceForUpload)&&!a.isDocumentDeleter,f=a.isArchived||!a.hasActionsAvailableForSelectedDocument,g=(!a.spaceForUpload||a.isArchived||a.isLinkType||a.isPack||!a.isDocumentRevisor||a.isReference)&&(!a.displayModifyDeck||!a.spaceForUpload)&&!a.displayModifyDocPack&&(a.isArchived||!a.isDocumentUpdater),b=new Ext.Toolbar({id:"docDetailsToolbar"});b.render("versionButtons");
var d=Ext.getDom("docRatings");d&&b.addElement(d);b.add({text:a.btnContentDistributions,tooltip:a.btnContentDistributionsTip,tooltipType:"title",itemId:"distributionsMenuBtn",hidden:!a.showContentDeliver||a.isArchived||!a.relatedDistributionsURL,icon:Ext.isIE6?"/img/content/deliver16.gif":"/img/content/deliver16.png",cls:"x-btn-text-icon",menu:{items:[{text:a.btnCreateDistribution,hidden:!a.isDistributable,itemId:"deliverBtn",handler:function(){Shepherd.run("distribution","create",{createUrl:a.createDistributionURL})}},
{text:a.btnRelatedDistributions,hidden:!a.relatedDistributionsURL,itemId:"relatedDistributionsBtn",handler:function(){Shepherd.run("distribution","showRelated",{relatedUrl:a.relatedDistributionsURL})}}]}});b.add({text:a.btnContentDistributions,tooltip:a.btnContentDistributionsTip,tooltipType:"title",itemId:"distributionsBtn",hidden:!a.isDistributable||a.isArchived||a.relatedDistributionsURL,icon:Ext.isIE6?"/img/content/deliver16.gif":"/img/content/deliver16.png",handler:function(){Shepherd.run("distribution",
"create",{createUrl:a.createDistributionURL})},cls:"x-btn-text-icon"});b.add({text:a.btnDownloadLabel,itemId:"downloadMenu",tooltip:a.btnDownloadTip,tooltipType:"title",icon:"/img/content/download16.gif",hidden:!a.displayDownload||!a.isDocumentDownloader||!a.hasPDFPreview,cls:"x-btn-text-icon",menu:{items:[{text:a.btnDownloadAsNative,itemId:"dlNativeItem",handler:function(){Shepherd.run("document",a.documentDownloadAction,{versionId:a.selectedVersionId,contentUrl:a.contentUrl,target:a.downloadTarget})}},
{text:a.btnDownloadAsPDF,itemId:"dlPDFItem",handler:function(){Shepherd.run("document",a.documentDownloadAction,{versionId:a.selectedVersionId,contentUrl:a.contentUrl,target:a.downloadTargetForPdf,asPdf:!0})}}]}});b.add({text:a.btnOpenLabel,itemId:"openBtn",tooltip:a.btnOpenTip,tooltipType:"title",icon:a.externalDocumentIconUrl,hidden:!a.isReference,handler:function(){window.open(a.externalDocumentUrl)},cls:"x-btn-text-icon"});b.add({text:a.btnDownloadLabel,itemId:"downloadBtn",tooltip:a.btnDownloadTip,
tooltipType:"title",icon:"/img/content/download16.gif",hidden:!a.displayDownload||!a.isDocumentDownloader||a.hasPDFPreview,handler:function(){Shepherd.run("document",a.documentDownloadAction,{versionId:a.selectedVersionId,contentUrl:a.contentUrl,target:a.downloadTarget})},cls:"x-btn-text-icon"});b.add({text:a.btnPublish,tooltip:a.btnPublishTip,tooltipType:"title",itemId:"publishBtn",hidden:!a.displayPublishButton,iconCls:"publishIcon16",handler:function(){Shepherd.getHelper("contribute").showPublishToWorkspaceWarningIfNeeded(a.selectedVersionId,
a.isOwnedByRegularWorkspace,a.isSyncedOrSharedWithCollaboratorRights)}});b.add({id:"subBtn_"+a.documentId,hidden:!a.displaySubscribeButton,text:a.isSubscribed?a.subscribed:a.notSubscribed,tooltip:a.isSubscribed?a.subscribedTip_document:a.notSubscribedTip_document,tooltipType:"title",iconCls:a.isSubscribed?"subOn":"subOff",handler:function(){Shepherd.run("subscription","update",{shepherdToken:a.shepherdTokenSubscriptionUpdate,id:a.documentId,type:"document",update:a.isSubscribed?"remove":"add",isExtBtn:!0,
subscribed:a.subscribed,notSubscribed:a.notSubscribed,subscribedTip:a.subscribedTip_document,notSubscribedTip:a.notSubscribedTip_document,updating:a.updating})}});d={items:[{text:a.shareToAnotherWorkspace,itemId:"shareWSItem",hidden:!a.docHasPotentialPublishableWorkspaces,handler:function(){Shepherd.run("bubble","show",{page:"documentPublishConfirm",params:{selectedVersionId:a.selectedVersionId},modal:!0,width:"450",position:"center"})}},{text:a.removeFromWorkspaces,itemId:"removeWSItem",hidden:!a.docHasPotentialUnpublishableWorkspaces,
handler:function(){Shepherd.run("bubble","show",{page:"documentUnpublishConfirm",params:{selectedVersionId:a.selectedVersionId},modal:!0,width:"450",position:"center"})}},{text:a.moveContent,itemId:"moveWSItem",hidden:!a.isDocumentMoveable,handler:function(){Shepherd.run("bubble","show",{page:"documentChangeOwningWorkspaceConfirm",params:{selectedVersionId:a.selectedVersionId},modal:!0,width:"450",position:"center"})}}]};Sfdc.userAgent.isIE10&&(d.width=238);c={items:[{text:a.btnEditDetails,itemId:"editItem",
hidden:a.isArchived||!a.isDocumentUpdater,handler:function(){Shepherd.run("contribute","show",{selectedVersionIds:[a.selectedVersionId],publishType:"DocumentPropertiesChange"})}},{text:a.btnModifyDocPack,itemId:"modifyPackItem",iconCls:"pack16",hidden:!a.displayModifyDocPack,handler:function(){Shepherd.run("bubble","show",{modal:!0,position:"center",page:"assemblyModifyPack",params:{selectedVersionId:a.selectedVersionId},fullWidth:!0,fullHeight:!0,padding:10,closeable:!1,shakeWhenClickOutside:!1})}},
{text:a.btnModifyDeck,itemId:"modifyDeckItem",iconCls:"pres16",hidden:!a.displayModifyDeck||!a.spaceForUpload,handler:function(){Shepherd.run("bubble","show",{modal:!0,position:"center",page:"assemblyModifyDeck",params:{selectedVersionId:a.selectedVersionId},fullWidth:!0,fullHeight:!0,padding:10,closeable:!1,shakeWhenClickOutside:!1})}},{text:a.btnAddNewVersion,itemId:"uploadVersionItem",iconCls:"contributeIcon16",hidden:!a.spaceForUpload||a.isArchived||a.isLinkType||a.isPack||!a.isDocumentRevisor||
a.isReference,handler:function(){Shepherd.run("contribute","show",{page:"contributeDocument",params:{selectedVersionId:a.selectedVersionId,publishType:"DocumentContentChange"}})}}].concat(!g&&!c?["-"]:[]).concat([{text:a.btnArchiveContent,itemId:"archiveItem",hidden:a.isArchived||!a.isDocumentArchiver,handler:function(){b.getComponent("editMenu").setDisabled(!0);Shepherd.run("document","archive",{shepherdToken:a.shepherdTokenDocumentArchive,documentId:a.documentId})}},{text:a.btnRestoreContent,itemId:"restoreItem",
hidden:!a.isArchived||!a.isDocumentRestorer||!a.spaceForUpload,handler:function(){b.getComponent("editMenu").setDisabled(!0);Shepherd.run("document","restore",{shepherdToken:a.shepherdTokenDocumentRestore,documentId:a.documentId})}},{text:a.btnDeleteContent,itemId:"deleteItem",hidden:!a.isDocumentDeleter,handler:function(){b.getComponent("editMenu").setDisabled(!0);Shepherd.run("document","softDelete",{shepherdToken:a.shepherdTokenDocumentSoftDelete,documentId:a.documentId})}}]).concat((!g||!c)&&
!f?["-"]:[]).concat([{text:a.workspaceActions,itemId:"wsActionsMenu",icon:"/img/content/workspace16.png",hidden:f,menu:d}])};Sfdc.userAgent.isIE10&&(c.width=228);b.add({text:a.btnEditMenu,tooltip:a.btnEditMenuTip,tooltipType:"title",itemId:"editMenu",iconCls:"edit12",cls:"x-btn-text-icon",menu:c});b.add({text:a.btnCustomize,tooltip:a.isDeck?a.btnCustomizeTipPres:a.btnCustomizeTipPack,tooltipType:"title",itemId:"saveButton",icon:Ext.isIE6?"/img/icon/wrench16.gif":"/img/icon/wrench16.png",cls:"x-btn-text-icon",
hidden:!a.displayCustomize||!a.spaceForUpload,handler:function(){Shepherd.run("bubble","show",{modal:!0,position:"center",page:a.isDeck?"assemblyCloneDeck":"assemblyClonePack",params:{selectedVersionId:a.selectedVersionId},fullWidth:!0,fullHeight:!0,padding:10,closeable:!1,shakeWhenClickOutside:!1})}});b.doLayout();e.checkToolbarMenuVisibility(b);Shepherd.getHelper("view").destroyExtCmp("docContentTabs");c=new Ext.TabPanel({id:"docContentTabs",plain:!0,activeTab:0,defaults:{autoScroll:!0},enableTabScroll:!0,
autoWidth:!0,height:330});a.hasPreview&&c.add({title:a.previewTab,id:"previewTab",autoWidth:!0,listeners:{render:function(b){Shepherd.run("view","showView",{container:b.body.id,page:"documentViewRendition",params:{selectedVersionId:a.selectedVersionId}})}}});a.isPublished&&(!a.isPublishedIntoAnyPersonalWorkspace&&a.commentViewer)&&c.add({title:a.commentsTab,id:"commentsTab",autoWidth:!0,listeners:{render:function(b){Shepherd.run("view","showView",{container:b.body.id,page:"commentList",params:{selectedVersionId:a.selectedVersionId}})}}});
a.showVersionsTab&&(!a.isLinkType&&!a.isReference)&&c.add({title:a.versionsTab,id:"versionsTab",autoWidth:!0,listeners:{render:function(b){Shepherd.run("view","showView",{container:b.body.id,page:"documentHistoryList",params:{selectedVersionId:a.selectedVersionId}})}}});a.isPublished&&a.isDownloadsTabViewer&&c.add({title:a.downloadsTab,id:"DownloadsTab",autoWidth:!0,listeners:{render:function(b){Shepherd.run("view","showView",{container:b.body.id,page:"documentDownloadList",params:{selectedVersionId:a.selectedVersionId}})}}});
a.isPublished&&(!a.isPublishedIntoAnyPersonalWorkspace&&a.isSubscribersTabViewer)&&c.add({title:a.subscribersTab,id:"SubscriptionsTab",autoWidth:!0,listeners:{render:function(b){Shepherd.run("view","showView",{container:b.body.id,page:"documentSubscriptionList",params:{selectedVersionId:a.selectedVersionId}})}}});a.showContentPacksTab&&c.add({title:a.contentPacksTab,id:"ContentPacksTab",autoWidth:!0,listeners:{render:function(b){Shepherd.run("view","showView",{container:b.body.id,page:"documentPackList",
params:{selectedVersionId:a.selectedVersionId}})}}});0<c.items.getCount()&&c.render("docTabs");Shepherd.getHelper("view").setWindowTitle(Ext.util.Format.htmlDecode(a.windowTitleSelected));e.resizeHelper();Ext.EventManager.onWindowResize(Shepherd.getHelper("view").resizeObject,e,!0);return!1}};
Ninja.Document.MouseOut={before:function(d,a){var b=d.docId;a.hideRequestId=b;a.previewRequestId=0;var c=(new Date).getTime();a.hideRequestTime=c;setTimeout(function(){Shepherd.run("document","mouseOutFollowup",{docId:b,requestTime:c})},500);return!1}};
Ninja.Document.MouseOutFollowup={before:function(c,a){var b=c.docId;b==a.displayedPreviewId&&b!=a.previewRequestId&&(a.displayedPreviewId=0,a.hideRequestTime=0,a.hideRequestId=0,Shepherd.run("bubble","hide"));return!1}};
Ninja.Document.MouseOver={before:function(b,a){var c=b.docId;a.bubblePage=b.pageName;a.bubbleHeight=b.height;a.previewRequestId=c;if(c!=a.displayedPreviewId){var d=(new Date).getTime();a.previewRequestTime=d;var e=0,f=0;b.evt&&(e=Event.pointerX(b.evt),f=Event.pointerY(b.evt));setTimeout(function(){Shepherd.run("document","mouseOverFollowup",{docId:c,requestTime:d,left:e,top:f})},1E3)}else c===a.hideRequestId&&(a.hideRequestId=0);return!1}};
Ninja.Document.MouseOverFollowup={before:function(d,a){var e=d.left,f=d.top,b=d.docId,c=d.requestTime;if(0===a.previewRequestId)return!1;if(b==a.previewRequestId&&c==a.previewRequestTime&&b!=a.displayedPreviewId){b==a.hideRequestId&&(a.hideRequestId=0);a.displayedPreviewId=b;a.previewRequestId=0;c=a.bubblePage;if(!c||0===c.length)c="documentViewMini";Shepherd.run("bubble","show",{params:{id:b},page:c,left:e,top:f,width:350,height:a.bubbleHeight?a.bubbleHeight:240,cssClass:"overlayDialog noHeader",
onmouseover:function(){Shepherd.run("document","mouseOver",{docId:b})},onmouseout:function(){Shepherd.run("document","mouseOut",{docId:b})}})}return!1}};
Ninja.Document.MultiDownload={before:function(b,d){var a=Shepherd.Util.convertToArray(b.documentIds);if(1===a.length)if(a=$("spanDownload_"+a[0]),document.createEvent){var c=document.createEvent("MouseEvents");c.initEvent("click",!0,!0);a.dispatchEvent(c)}else document.createEventObject&&a.fireEvent("onclick");else 1<a.length&&Shepherd.run("document",b.action,b);return!1}};
Ninja.Document.Publish={after:function(a){Shepherd.getHelper("view").isRedirectUrlPresent()?Shepherd.run("bubble","hide",{redirectOnClose:!0}):(Shepherd.run("bubble","hide"),Shepherd.run("document","view",{id:a.versionId}));return!1}};
Ninja.Document.PublishSuccess={before:function(b,g){var d=Ext.getCmp("contributeTabsWin"),c=b.versionId,e=Ext.getCmp("publishTabs"),f=g.getNextActiveTab(e,c);new Ext.Panel({border:!0,buttonAlign:"center",renderTo:"donePanel_"+c,items:[{contentEl:"donePanelContent_"+c}],frame:!0,buttons:[new Ext.Button({text:b.labels.btnViewContent,handler:function(a){a.setDisabled(!0);d.destroy();Shepherd.run("document","view",{selectedVersionId:c})}}),new Ext.Button({id:"nextBtn_"+c,text:b.labels.btnNextDocument,
hidden:!f,handler:function(a){e.activate(Ext.getCmp(f.replace("publishTabs__","")))}}),new Ext.Button({text:b.labels.btnDone,handler:function(a){a.setDisabled(!0);d.destroy()}}),new Ext.Button({text:b.labels.btnAnother,handler:function(a){a.setDisabled(!0);d.destroy();Shepherd.run("contribute","show",{page:"contributeDocument",width:400})}})]});return!1}};
Ninja.Document.Rate={before:function(a){var b=a.thumbs;a=a.rating;if(b)b.className="rating"+a,b.id="rating"+a;else{var b=$("ratingUpImg"),c=$("ratingDownImg");0<a?(Element.removeClassName(c,"on"),Element.addClassName(b,"on")):0>a?(Element.removeClassName(b,"on"),Element.addClassName(c,"on")):(Element.removeClassName(c,"on"),Element.removeClassName(b,"on"))}return!0},after:function(a){var b=$("avgRating");b?(b.innerHTML=a.avgRating,$("ratingCount").innerHTML=a.ratingCount,1==a.ratingCount?$("ratingS").innerHTML=
"":$("ratingS").innerHTML="s"):($("ratingUpCount").innerHTML=a.positiveRatingCount,$("ratingDownCount").innerHTML=a.negativeRatingCount);return!1}};
Ninja.Document.Restore={after:function(a){a.latestVersionId?Shepherd.run("document","view",{selectedVersionId:a.latestVersionId}):Shepherd.run("search","search");return!1},failure:function(){Ext.getCmp("docDetailsToolbar").getComponent("editMenu")&&Ext.getCmp("docDetailsToolbar").getComponent("editMenu").enable();return!1}};
Ninja.Document.SelectAllCheckboxes={before:function(c){var a=c.toggle,d=document.getElementsByTagName("input"),b=!1;"INPUT"==a.tagName?b=a.checked:"all"==a.innerHTML?(a.innerHTML="none",b=!0):a.innerHTML="all";for(a=0;a<d.length;a++){var e=d[a];e.name==c.checkboxName&&(e.checked=b)}return!1}};
Ninja.Document.SoftDelete={after:function(a){Shepherd.run("view","showLayout",{layout:"workspaces"});return!1},failure:function(){Ext.getCmp("docDetailsToolbar").getComponent("editMenu")&&Ext.getCmp("docDetailsToolbar").getComponent("editMenu").enable();return!1}};
Ninja.Document.TagCreate={before:function(a){try{$("newTagForm").removeClassName("on"),$("newTag").value=a.defaultText}catch(b){}return a.newTag&&0<a.newTag.length&&!0!==a.cancel?!0:!1},after:function(a){Shepherd.run("view","showView",{page:"documentViewTagsList",container:"tagsList",params:{selectedVersionId:a.versionId}});return!1}};
Ninja.Document.TagDelete={after:function(a){Shepherd.run("view","showView",{page:"documentViewTagsList",container:"tagsList",params:{selectedVersionId:a.versionId}});return!1}};
Ninja.Document.TagToggle={before:function(a,c,b){b="tagField"+a.versionId;a.highlight?c.pasteTagIntoField(a.tagLabel,b):c.stripTagFromField(a.tagLabel,b);Shepherd.run("state","set",{set:a.stateElementId,state:a.highlight?"on":"off"});return!1}};
Ninja.Document.UnlinkEntity={before:function(a,b){if(!a.documentIds||""===a.documentIds||!a.eid||""===a.eid)return!1;b.updateDocLinkButtonState(a,"updating");a.documentIds=Shepherd.Util.convertToArray(a.documentIds);return!0},after:function(a,b){b.updateDocLinkButtonState(a,"off");return!1},failure:function(a,b){b.updateDocLinkButtonState(a,"on");return!1}};
Ninja.Document.Unpublish={after:function(a){Shepherd.run("bubble","hide");a.versionId?Shepherd.run("document","view",{selectedVersionId:a.versionId}):Shepherd.run("view","showLayout",{layout:"workspaces"});return!1}};
Ninja.Document.Update={before:function(a){Shepherd.run("bubble","resize",{width:"400",beforeStart:function(){$("contributeFormArea").className="wait"}});a.tagField=Shepherd.Util.convertToArray(a.tagField).without(" ");return!0},after:function(a){$("contributeFormArea").className="done";setTimeout(function(){Shepherd.run("bubble","hide");Shepherd.run("document","view",{id:a.selectedVersionId})},1E3);DatePicker.datePicker=null;return!1},failure:function(a){setTimeout(function(){Shepherd.run("bubble",
"resize",{width:"750",beforeStart:function(){$("contributeFormArea").className="blank"},afterFinish:function(){$("contributeFormArea").className=""}})},500)}};
Ninja.Document.UpdateAndPublish={removePublishTabFailureStyles:function(a){a.removeClassName("failed");a.removeClassName("unpublished")},before:function(a){Ext.getCmp("publishBtn").disable();Ext.getCmp("cancelPubBtn").disable();Sfdc.userAgent.isIE10&&(Sfdc.Dom.addClass(Sfdc.get("publishBtn"),"x-item-disabled"),Sfdc.Dom.addClass(Sfdc.get("cancelPubBtn"),"x-item-disabled"));Ext.fly(a.activeTabId).addClass("wait");a.tagField=Shepherd.Util.convertToArray(a.tagField).without(" ");return!0},after:function(a){var b=
Ext.getCmp("contributeTabsWin"),d=Ext.getCmp(a.activeTabId),c=Ext.getCmp("publishTabs").getTabEl(d);c.addClassName("published");d.hasMultiPicklistRendered=!1;this.removePublishTabFailureStyles(c);d=d.body.id;c=Shepherd.getHelper("view").currentLayout;"workspaces"==c||"workspaceView"==c?(Shepherd.run("view","showView",{container:d,page:"documentPublishSuccess",params:{selectedVersionId:a.selectedVersionId,selectedWorkspaceId:a.selectedWorkspaceId,publishType:a.publishType}}),0<document.location.href.indexOf("?id\x3d")?
(b.destroy(),Shepherd.run("document","view",{id:a.selectedVersionId})):"R"===a.previousPublishStatus?(Shepherd.getHelper("workspace").activeWSTab=1,Shepherd.run("view","showView",{container:"container_content",page:"workspaceListOverview"})):null!==a.selectedWorkspaceId&&void 0!==a.selectedWorkspaceId?Shepherd.run("view","showView",{container:"container_content",page:"workspaceView",params:{selectedWorkspaceId:a.selectedWorkspaceId}}):(Shepherd.getHelper("workspace").activeWSTab=1,Shepherd.run("view",
"showView",{container:"container_content",page:"workspaceListOverview"}))):"version"==c&&(b.destroy(),Shepherd.getHelper("view").isRedirectUrlPresent()?Shepherd.getHelper("view").redirectToRetUrl():(Shepherd.run("document","view",{id:a.selectedVersionId}),Shepherd.getHelper("view").setTrayText(a.lblPublishSuccess)));return!1},failure:function(a){var b=Ext.getCmp(a.activeTabId),b=Ext.getCmp("publishTabs").getTabEl(b);this.removePublishTabFailureStyles(b);Ext.getCmp("publishBtn").enable();Ext.getCmp("cancelPubBtn").enable();
Ext.fly(a.activeTabId).removeClass("wait");return!1}};
Ninja.Document.UpdateTags={before:function(a){a.tagField=Shepherd.Util.convertToArray(a.tagField).without(" ");return!0},after:function(a){setTimeout(function(){Shepherd.run("bubble","hide");Shepherd.run("document","view",{id:a.selectedVersionId})},1E3);return!1}};
Ninja.Document.View={before:function(a,b){b.previewRequestId=0;Shepherd.run("bubble","hide");Shepherd.run("view","showLayout",{layout:"version",params:a});return!1}};
Ninja.Document.ViewRenditionLarge={before:function(a){Shepherd.run("bubble","show",{page:"documentViewRenditionLarge",position:"center",fullWidth:!0,fullHeight:!0,padding:10,modal:!0,cssClass:"largeRendition",params:a})}};
Ninja.Filter.ShowMore={before:function(a){a=Shepherd.getHelper("menu");if(a.label){var c=a.menu.firstChild;for(a=a.label.nextSibling;a&&!Element.hasClassName(a,"contextMenu");)a=a.nextSibling;a=a.getElementsByTagName("INPUT");for(var c=c.getElementsByTagName("INPUT"),f=!1,d=0;d<c.length;d++){var b=c[d],e=a[d];e.checked!=b.checked&&(e.checked=b.checked,!0===b.checked||"true"===b.checked||"checked"===b.checked?e.setAttribute("checked","checked"):e.removeAttribute("checked"),f=!0)}f&&Shepherd.run("form",
"submit",{formId:"searchFilterForm",controller:"search",action:"filter"})}return!1}};
Ninja.Filter.ToggleSection={before:function(b){var a=b.toggle;b=!0;Element.hasClassName(a,"right")?Element.removeClassName(a,"right"):(Element.addClassName(a,"right"),b=!1);for(a=a.parentNode.parentNode.nextSibling;a&&"DD"!==a.tagName;)a=a.nextSibling;a.style.display=b?"":"none";b=Shepherd.getHelper("view");b.isAlohaSkin&&b.sizeBodyToSidebar();return!1}};
Ninja.Flex.FlexAssembly={getApp:function(){return getFlexRoot("Assembly")},cancelCompose:function(){setTimeout(function(){Shepherd.run("bubble","hide")},100)},saveCompose:function(a){setTimeout(function(){Shepherd.run("assembly","publish",{versionId:a})},100)}};
Ext.ns("Ninja.Flex");
Ninja.Flex.FlexCoverflow={getApp:function(){return getFlexRoot("Coverflow")},showPreview:function(c){if(Sfdc.ChatterFiles||"undefined"==typeof Shepherd){var b=ChatterFilesConstants.OVERLAY_ID,g=ChatterFilesConstants.DOC_VIEWER_OVERLAY_CLASS,h=ChatterFilesConstants.DOC_VIEWER_CONTAINER_PARENT_CLASS,e=ChatterFilesConstants.DOC_VIEWER_CONTAINER_PARENT_CLASS,f=ChatterFilesConstants.CONTAINER_ID,k=ChatterFilesConstants.CONTAINER_ID,d=Sfdc.Window.getWindowWidth(),a=Sfdc.Window.getWindowHeight(),d=d-40,
a=a-20-48;width=730<d?d:730;height=480<a?a:480;null===Ext.get(b)?(a=new AccessiblePreviewContentDialog(b),a.extraClass=g,a.content="\x3cdiv id\x3d'"+e+"' class\x3d'"+h+"'\x3e\x3cdiv id\x3d'"+f+"' class\x3d'"+k+"'\x3e\x3c/div\x3e\x3c/div\x3e",a.created=!0,a.register(),Ext.get(e).setHeight(height),Ext.get(b).setWidth(width),a.show(),Ext.get(b).setStyle("left","10px")):(a=OverlayDialogElement.getDialog(b),a.setTitle(""),Ext.get(e).setHeight(height),Ext.get(b).setWidth(width),Ext.getBody().setStyle("overflow",
"auto"),a.show());b=chatter&&chatter.getToolbox()?chatter.getToolbox().sitePrefix():"";insertFlexComponent(Ninja.Flex.ContentStaticResourcesBase+"/flex/DocViewer","shepherd_prefix\x3d"+b+Ninja.Flex.ShepherdController+"\x26v\x3d"+c+"\x26mode\x3dbubble\x26in_tests\x3dfalse","100%","100%","#f3f3f3",f,"renditionLarge",!1,{adobeFlashVersionLbl:LC.getLabel("ContentFlashPlayer","adobeFlashVersion"),downloadAdobeLbl:LC.getLabel("ContentFlashPlayer","downloadAdobe"),downloadAdobeLinkLbl:LC.getLabel("ContentFlashPlayer",
"downloadAdobeLink"),closeDialogLbl:LC.getLabel("ContentFlashPlayer","closeDialog")})}else Shepherd.run("document","viewRenditionLarge",{selectedVersionId:c})},showDetails:function(c){Sfdc.ChatterFiles||"undefined"==typeof Shepherd?navigateToUrl(UserContext.getUrl("/"+c)):Shepherd.run("document","view",{selectedDocumentId:c})}};Ninja.Flex.ContentStaticResourcesBase="/sfc";Ninja.Flex.ShepherdController="/sfc/servlet.shepherd";
Ninja.Form.Submit={before:function(a){var b=$(a.formId);if(a.controller)Shepherd.runForm(a.controller,a.action,b,a.params,a.success);else b.onsubmit();return!1}};
Ninja.Google.CreateDoc={before:function(a,b){var c=!1;!a.googleDocName||""===a.googleDocName?b.displayCreateDocBubble(a):(Shepherd.getHelper("bubble").showInterferingElements(),b.openGooglePopup("/sfc/null.htm"),c=!0);return c},after:function(a,b){a.hasValidGoogleSession?(b.refreshAndPublish(a),b.setGooglePopupURL(a.firstVersionEditLink)):b.setGooglePopupURL(a.googlePopupURL)},failure:function(a,b){Shepherd.run("bubble","hide")}};
Ninja.Google.FilterList={before:function(a,b){Ext.getCmp("googleDocGrid").store.load({params:a});b.clearGoogleGridSelections();return!1}};
Ninja.Google.HideSplash={before:function(a,b){a.googleAuthURL&&b.openGooglePopup(a.googleAuthURL);return!0},after:function(a,b){b.hasValidGoogleSession=a.hasValidGoogleSession;b.showSplash=a.showSplash;b.hasValidGoogleSession?"createDoc"===a.googleAction?(Shepherd.run("bubble","hide"),b.displayCreateDocBubble(a)):b.displayPublishExistingBubble(a):(b.focusGooglePopup(),Shepherd.run("bubble","hide"))}};
Ninja.Google.ListDocs={before:function(a,b){return!0},after:function(a,b){a.hasValidGoogleSession||(Shepherd.run("bubble","hide"),b.openGooglePopup(a.googlePopupURL));b.clearGoogleGridSelections();a.closePopup&&b.closeGooglePopup()},failure:function(a,b){Shepherd.run("bubble","hide")}};
Ninja.Google.LoadList={searchType:"ALL_DOCS",before:function(a,c){function g(a,d){d?(Ninja.Google.LoadList.searchType=a.docType,Shepherd.run("google","filterList",{limit:c.PAGE_SIZE,start:0})):(a=Ext.getCmp("googleDocGrid").getTopToolbar().items.find(function(a){return"filterByType"===a.toggleGroup&&a.pressed}),a||(Ninja.Google.LoadList.searchType="ALL_DOCS",Shepherd.run("google","filterList",{limit:c.PAGE_SIZE,start:0})))}function h(){var a=0===e.getSelectionModel().getCount();Ext.getCmp("publishButton").setDisabled(a)}
Ninja.Google.LoadList.searchType="ALL_DOCS";var f=new Ext.data.Store({proxy:new Ext.data.ShepherdProxy({controller:"google",action:"listDocs"}),reader:new Ext.data.JsonReader({root:"queue",totalProperty:"totalSize",id:"name"},[{name:"url"},{name:"starred"},{name:"title"},{name:"authors"},{name:"contributors"},{name:"folders"},{name:"title"},{name:"type"},{name:"icon"},{name:"typeHumanReadable"},{name:"prettyDate"}])});f.on("beforeload",function(a,d){d.params.titleSearch=Ext.getCmp("googleDocSearchField").getValue();
d.params.searchType=Ninja.Google.LoadList.searchType});var l=new Ext.XTemplate("\x3ctpl if\x3d\"folders!\x3d''\"\x3e",'\x3cspan class\x3d"folders"\x3e{folders}\x3c/span\x3e',"\x3c/tpl\x3e",'\x3cspan class\x3d"authors"\x3e{authors}\x3c/span\x3e','\x3cspan class\x3d"contributors"\x3e{contributors}\x3c/span\x3e');l.compile();var m=new Ext.XTemplate('\x3cimg src\x3d"/sfc/images/docicons/doctype_{icon}_16.png" width\x3d"16" height\x3d"16" alt\x3d"{type}"/\x3e','\x3cspan class\x3d"title"\x3e{title}\x3c/span\x3e');
m.compile();var b=Ext.fly("container_bubble").dom.offsetHeight-70,k=782;Shepherd.getHelper("view").isAlohaSkin?(b-=20,k-=15):Ext.isIE6?b-=35:Ext.isGecko2&&(b-=5);var n=new Ext.grid.CheckboxSelectionModel,e=new Ext.grid.GridPanel({id:"googleDocGrid",store:f,sm:n,cm:new Ext.grid.ColumnModel([n,{header:'\x3cimg alt\x3d"" src\x3d"/img/content/gStar.png"\x3e',width:25,sortable:!1,menuDisabled:!0,renderer:function(a){return a?'\x3cspan class\x3d"gIcons starred"\x3e\x3c/span\x3e':'\x3cspan class\x3d"gIcons notstarred"\x3e\x3c/span\x3e'},
dataIndex:"starred"},{id:"name",header:a.headerTitle,sortable:!1,menuDisabled:!0,renderer:function(a,d,c){return m.apply({title:Ext.util.Format.htmlEncode(a),icon:c.get("icon"),type:c.get("typeHumanReadable")})},dataIndex:"title"},{header:a.headerSharing,width:160,sortable:!1,menuDisabled:!0,renderer:function(a,c,b){return l.apply({authors:a,contributors:b.get("contributors"),folders:b.get("folders")})},dataIndex:"authors"},{header:a.headerDate,width:100,sortable:!1,menuDisabled:!0,dataIndex:"prettyDate"}]),
stripeRows:!0,autoExpandColumn:"name",height:b,width:k,loadMask:{msg:a.waitMsg},title:a.listTitle,tbar:[{xtype:"field",id:"googleDocSearchField",validationEvent:!1,validateOnBlur:!1,listeners:{specialkey:function(a,b){Ext.EventObject.ENTER===b.getKey()&&Shepherd.run("google","filterList",{limit:c.PAGE_SIZE,start:0})}}},{xtype:"button",tooltip:a.btnSearchTip,text:a.btnSearch,handler:function(a){Shepherd.run("google","filterList",{limit:c.PAGE_SIZE,start:0})}},{xtype:"button",tooltip:a.btnClearSearchTip,
text:a.btnClearSearch,handler:function(a){Ext.getCmp("googleDocSearchField").setValue();Shepherd.run("google","filterList",{limit:c.PAGE_SIZE,start:0})}},"-\x3e","-","\x3cstrong\x3e"+a.showOnly+"\x3c/strong\x3e",new Ext.Button({docType:"DOCUMENT",iconCls:"gDocIcon16",text:a.btnOnlyGDocs,tooltip:a.btnOnlyGDocsTip,toggleGroup:"filterByType",toggleHandler:g,enableToggle:!0}),new Ext.Button({docType:"SPREADSHEET",iconCls:"gSheetIcon16",text:a.btnOnlyGSheets,tooltip:a.btnOnlyGSheetsTip,toggleGroup:"filterByType",
toggleHandler:g,enableToggle:!0}),new Ext.Button({docType:"PRESENTATION",iconCls:"gPresIcon16",text:a.btnOnlyGPresos,tooltip:a.btnOnlyGPresosTip,toggleGroup:"filterByType",toggleHandler:g,enableToggle:!0})],bbar:new Ninja.Google.UnboundedPagingToolbar({pageSize:c.PAGE_SIZE,store:f,displayInfo:!0,afterPageText:"",beforePageText:a.beforePageText,prevText:a.prevText,nextText:a.nextText,displayMsg:a.displayingDocs+" {0} - {1}",refreshText:a.refreshText,emptyMsg:a.emptyList})});new Ext.Panel({renderTo:"googleDocListTable",
border:!1,style:"background-color:transparent;",bodyStyle:"background-color:transparent;",buttonAlign:"center",items:[e],buttons:[new Ext.Button({id:"publishButton",tooltip:{title:a.btnContributeTip,text:a.btnContributeTipText},text:a.btnContribute,disabled:"true",handler:function(b){b.setDisabled(!0);Ext.getCmp("cancelBtn").setDisabled(!0);Shepherd.run("google","publishExistingDoc",{shepherdToken:a.shepherdTokenGooglePublishExistingDoc,grid:Ext.getCmp("googleDocGrid")})}}),new Ext.Button({tooltip:{title:a.btnCancelTip,
text:a.btnCancelTipText},text:a.btnCancel,id:"cancelBtn",handler:function(){Shepherd.run("bubble","hide")}})]});f.load({params:{limit:c.PAGE_SIZE,start:0}});e.getStore().on("load",h);e.getSelectionModel().on("rowselect",h);e.getSelectionModel().on("rowdeselect",h);return!1}};
Ninja.Google.PopupClose={before:function(a,b){a.closePopup=!0;a.hasError&&Ext.Msg.alert("",a.errMsg);!a.userDenied&&!a.hasError?(b.hasValidGoogleSession=a.hasValidGoogleSession,b.showSplash=a.showSplash,"createDoc"==a.googleAction?b.displayCreateDocBubble(a):b.displayPublishExistingBubble(a)):b.closeGooglePopup();return!1}};
Ninja.Google.PublishDocFromURL={before:function(a,b,c){if(a.docUrl)return a.docUrl=a.docUrl.trim(),!b.isValidURL(a.docUrl)?($("docUrlMessage").innerHTML=a.emptyMessage,!1):a.docUrl&&a.maxLinkLength&&(b=parseInt(a.maxLinkLength,10),a.docUrl.length>b)?($("docUrlMessage").innerHTML=a.maxLinkLengthMessage.replace("{0}",a.docUrl.length).replace("{1}",b),!1):!0;if(b=$("docUrlMessage"))b.innerHTML=a.emptyMessage;return!1},after:function(a,b){"contribute"===Shepherd.getHelper("view").currentLayout&&Shepherd.run("view",
"showView",{page:"contribute",container:"container_content",cache:"lazy"});Shepherd.run("bubble","hide");var c=Shepherd.Util.convertToArray(a.versionId);Shepherd.run("contribute","show",{page:"contributeCategorize",params:{selectedVersionIds:c,selectedWorkspaceId:a.workspaceId}});return!1},failure:function(a,b){}};
Ninja.Google.PublishExistingDoc={before:function(a,b,c){b=a.grid.getSelectionModel();c=[];for(i=0;i<b.getCount();i++)c[i]=b.selections.items[i].json;a.grid=null;a.selectedGDocs=c;return!0},after:function(a,b){Shepherd.run("bubble","hide");b.refreshAndPublish(a)},failure:function(a,b){Shepherd.run("bubble","hide")}};
Ninja.Google.RevokeUserAuth={before:function(a,b){return!0},after:function(a,b){Shepherd.run("view","showView",{page:"contribute",container:"container_content",cache:"lazy"})}};
Ninja.Menu.Hide={before:function(b,a){try{new Effect.Fade(a.menu,{duration:0.3}),Element.removeClassName(a.menu,"on"),Element.removeClassName(a.mask,"on"),Element.removeClassName(a.label,"on"),a.label=null}catch(c){}Shepherd.getHelper("bubble").showInterferingElements();return!1}};
Ninja.Menu.Show={before:function(c,a){a.menu||(a.menu=document.createElement("DIV"),Element.addClassName(a.menu,"contextMenuMain"),document.body.appendChild(a.menu));a.mask||(a.mask=document.createElement("DIV"),Element.addClassName(a.mask,"contextMenuMask"),document.body.appendChild(a.mask),a.mask.onclick=function(){Shepherd.run("menu","hide")});for(var b=c.handle.nextSibling;b&&!Element.hasClassName(b,"contextMenu");)b=b.nextSibling;c.populateController&&c.populateAction&&Shepherd.run(c.populateController,
c.populateAction,{ul:b.getElementsByTagName("UL")[0]});a.menu.innerHTML="";var d=b.cloneNode(!1);a.menu.appendChild(d);d.innerHTML=b.innerHTML;if(b=d.getElementsByTagName("UL")[0])if((b=Element.getElementsByClassName(b,"pageHolder"))&&0<b.length){var b=b[0],e=Sfdc.JSON.parse(b.id);b.id="contextMenuPage";Shepherd.run("view","showView",{page:e.page,container:b.id,params:e.params})}for(b=c.handle.previousSibling;b&&"A"!==b.tagName;)b=b.previousSibling;a.label=b?b:c.handle;b=Element.getDimensions(a.label).height;
d=Element.getDimensions(d).height;e=!1;Position.cumulativeOffset(a.label)[1]+d>document.body.clientHeight-50&&(b=-1*d,e=!0);Position.absolutize(a.menu);Position.clone(a.label,a.menu,{offsetTop:b,setWidth:!1,setHeight:!1});e&&0>Position.cumulativeOffset(a.menu)[1]&&Position.clone(a.label,a.menu,{offsetTop:Element.getDimensions(a.label).height,setWidth:!1,setHeight:!1});a.menu.style.display="none";Element.addClassName(a.menu,"on");Element.addClassName(a.mask,"on");Element.addClassName(a.label,"on");
new Effect.Appear(a.menu,{duration:0.25});Shepherd.getHelper("bubble").hideInterferingElements();return!1}};
Ninja.Search.AddTerm={before:function(b,f){Shepherd.getHelper("view").pageCache.sidebarFacets=null;var c=$("searchFilterForm");if(!c)return b[b.fieldToAdd]=[b.valueToAdd],Shepherd.run("search","search",b),!1;c.reset();for(var e=!1,a=0;a<c.elements.length;a++)"searchWorkspaceIds"!==c.elements[a].name&&"checkbox"===c.elements[a].type&&(c.elements[a].checked=!1,c.elements[a].removeAttribute("checked"));if(a=c[b.fieldToAdd])if(!a.length&&a.value===b.valueToAdd)a.checked=!0,a.setAttribute("checked","checked"),
e=!0;else for(var d=0;d<a.length;d++)a[d].value===b.valueToAdd&&(a[d].checked=!0,a[d].setAttribute("checked","checked"),e=!0);else e=!1;e?Shepherd.runForm("search","filter",c):(b[b.fieldToAdd]=[b.valueToAdd],Shepherd.run("search","search",b));return!1}};
Ninja.Search.ChangeListType={before:function(a,e){if($("columns")){for(var d=$("columns").options,b=[],c=0;c<d.length;c++)b[b.length]=d[c].value;a.availableColumns=null;a.columns=b}return!0},after:function(a,e){Shepherd.run("bubble","hide");$("searchFilterForm")?Shepherd.run("form","submit",{formId:"searchFilterForm"}):$("workspaceViewContentForm")&&Shepherd.run("form","submit",{formId:"workspaceViewContentForm"})}};
Ninja.Search.Filter={before:function(a,b){b.convertSearchFilterTerms(a);b.handlePagingProperties(!1,a);var c=Shepherd.getHelper("view");c.pageCache.documentList=null;c.pageCache.sidebarFacets=$("container_sidebar").innerHTML;a.searchRefreshFacets="false";Shepherd.run("view","showLayout",{layout:"search",params:a});return!1}};
Ninja.Search.List={before:function(b,c){var a=Shepherd.getHelper("view");a.pageCache.documentList=null;a.pageCache.sidebarFacets=$("container_sidebar").innerHTML;a=$("searchFilterForm");if(!a)return!1;a=Shepherd.Util.formToMap(a);c.convertSearchFilterTerms(a);c.handlePagingProperties(!1,b);a.searchPageSize=b.searchPageSize;a.searchPageNum=b.searchPageNum;a.sortOrderField=b.sortOrderField;a.sortOrderDirection=b.sortOrderDirection;a.searchRefreshFacets="false";Shepherd.run("view","showLayout",{layout:"search",
params:a});return!1}};
Ninja.Search.More={before:function(a,c){c.handlePagingProperties(!1,a);a.searchPageNum="0";var b=Shepherd.getHelper("view");b.pageCache.documentList=null;b.pageCache.sidebarFacets=null;a.searchWorkspaceIds&&a.searchWorkspaceIds.length&&(a.masterWorkspaceId=a.searchWorkspaceIds[0]);(b=a.search)||(b="search");Shepherd.run("view","showLayout",{layout:b,params:a});return!1}};
Ninja.Search.RemoveTerm={before:function(c,e){var d=$("searchFilterForm");if(!d)return!1;var a=d[c.fieldToRemove];if(!a.length&&a.value==c.valueToRemove)a.removeAttribute("checked"),a.checked=!1;else for(var b=0;b<a.length;b++)a[b].value==c.valueToRemove&&(a[b].removeAttribute("checked"),a[b].checked=!1);Shepherd.runForm("search","filter",d);return!1}};
Ninja.Search.Search={before:function(a,d){d.handlePagingProperties(!0,a);var b=a.search;b||(b="search");a.searchWorkspaceId&&(a.searchWorkspaceIds=[a.searchWorkspaceId],a.searchWorkspaceId=null);a.searchCreatorIds&&a.searchCreatorIds.length&&(a.masterCreatorId=a.searchCreatorIds[0]);a.searchWorkspaceIds&&a.searchWorkspaceIds.length&&(a.masterWorkspaceId=a.searchWorkspaceIds[0]);var c=Shepherd.getHelper("view");c.pageCache.documentList=null;c.pageCache.sidebarFacets=null;Shepherd.run("view","showLayout",
{layout:b,params:a});return!1}};
Ninja.State.Set={before:function(d){for(var e=d.set.replace(/ /g,"_"),f=Element.getElementsBySelector(document.body,".state_"+e),a=0;a<f.length;a++)for(var g=f[a].getElementsByTagName("span"),h="state_"+e+"."+d.state,b=0;b<g.length;b++){var c=g[b];c.id==h?Element.removeClassName(c,"hidden"):Element.addClassName(c,"hidden")}return!1}};
Ninja.Subscription.Update={before:function(a,d,c){a.documentIds&&(a.ids=a.documentIds,a.documentIds=null,a.versionIds=null);a.ids||(a.ids=[]);a.id&&(a.ids[a.ids.length]=a.id);if(0===a.ids.length&&!a.name)return!1;if(a.isExtBtn){try{var b=Ext.getCmp("subBtn_"+a.id);b.setText(a.updating);b.setDisabled(!0)}catch(e){}return!0}for(d=0;d<a.ids.length;d++){c=a.ids[d];try{Shepherd.run("state","set",{set:"subscription_"+c+"_"+a.name,state:"updating"})}catch(f){}}return!0},after:function(a,d){if(a.isExtBtn){var c=
a.ids[0];try{var b=Ext.getCmp("subBtn_"+c);b.setDisabled(!1);b.setText(a.isSubscribed?a.subscribed:a.notSubscribed);b.setIconClass(a.isSubscribed?"subOn":"subOff");b.setHandler(function(){Shepherd.run("subscription","update",{shepherdToken:a.shepherdToken,id:c,type:a.type,update:a.isSubscribed?"remove":"add",isExtBtn:!0,subscribed:a.subscribed,notSubscribed:a.notSubscribed,subscribedTip:a.subscribedTip,notSubscribedTip:a.notSubscribedTip,updating:a.updating})});b.setTooltip(a.isSubscribed?a.subscribedTip:
a.notSubscribedTip)}catch(e){}return!1}for(b=0;b<a.ids.length;b++){var f=a.ids[b];try{Shepherd.run("state","set",{set:"subscription_"+f+"_"+a.name,state:a.isSubscribed?"on":"off"})}catch(g){}}},failure:function(a,d){if(a.isExtBtn){var c=a.ids[0];try{Ext.getCmp("subBtn_"+c).setDisabled(!1),Shepherd.run("document","view",{id:c})}catch(b){}}for(c=0;c<a.ids.length;c++){var e=a.ids[c];try{if(Shepherd.run("state","set",{set:"subscription_"+e+"_"+a.name,state:a.isSubscribed?"on":"off"}),!a.isExtBtn){Shepherd.run("document",
"view",{id:e});break}}catch(f){}}}};
Ninja.Tab.Reload={before:function(a){var b=$(a.tab);a=$(a.tab+"Content");a.innerHTML='\x3cdiv class\x3d"loading"\x3e\x3c/div\x3e';Element.addClassName(b,"loading");Element.addClassName(a,"loading");b.onmousedown();return!1}};
Ninja.Tab.ScrollLeft={before:function(a){a=$(a.id);for(var b=a.scrollPoints,e=a.scrollPoint+0,f=a.setWidth,c=1E10,d=b.length-1;0<=d&&c>=e-f;d--)c=b[d];0===c&&a.left.addClassName("disabled");a.scrollPoint=c;b=e-c;0<b&&(new Effect.MoveBy($("clipper"),0,b,{duration:0.75,queue:"end"}),a.right.removeClassName("disabled"));return!1}};
Ninja.Tab.ScrollRight={before:function(a){a=$(a.id);for(var b=a.scrollPoints,e=a.scrollPoint+0,f=a.setWidth,c=0,d=0;d<b.length&&c<e+(f-200);d++)c=b[d];c==a.maxScrollPoint&&a.right.addClassName("disabled");a.scrollPoint=c;b=-1*(c-e);0>b&&(new Effect.MoveBy($("clipper"),0,b,{duration:0.75,queue:"end"}),a.left.removeClassName("disabled"));return!1}};
Ninja.Tab.Select={before:function(b){var a=b.element;Element.removeClassName(a,"off");Element.removeClassName(a,"tabLoading");Element.addClassName(a,"on");for(var e=0,a=a.previousSibling;a;)"DT"===a.tagName&&(e++,Element.hasClassName(a,"on")&&(Element.removeClassName(a,"on"),Element.addClassName(a,"off"))),a=a.previousSibling;for(a=b.element.nextSibling;a;)Element.hasClassName(a,"on")&&(Element.removeClassName(a,"on"),Element.addClassName(a,"off")),a=a.nextSibling;for(var c=b.element.parentNode.parentNode.parentNode.nextSibling;"DL"!==
c.tagName;)c=c.nextSibling;for(var f=0,d=0;d<c.childNodes.length;d++)if(a=c.childNodes[d],"DD"===a.tagName){if(f===e){var g=Element.hasClassName(a,"tabLoading");Element.removeClassName(a,"off");Element.removeClassName(a,"tabLoading");Element.addClassName(a,"on");g&&Shepherd.run("view","showView",{page:b.page,container:a.id,params:b.params,spin:!0})}else Element.hasClassName(a,"on")&&(Element.removeClassName(a,"on"),Element.addClassName(a,"off"));f++}return!1}};
Ninja.Tab.SetInit={before:function(a){a=$(a.id);for(var e=a.getDimensions().width,d=a.down("dl.tabs").getElementsByClassName("tab"),c=[0],f=0,g=0,b=0;b<d.length;b++){var h=d[b].down("a").getDimensions().width+6,g=g+h;c[b+1]=g;f+=h}d=c[c.length-1]-(e-100);for(b=0;b<c.length;b++)c[b]>d&&(c[b]=d);a.scrollPoints=c;a.setWidth=e;a.scrollPoint=0;a.right=a.down("img#right-arrow");a.left=a.down("img#left-arrow");a.maxScrollPoint=d;f>e&&(a.right.style.position="absolute",a.right.style.zIndex=3E3,a.right.style.top=
0,a.right.style.right="-15px",a.right.style.display="block",a.left.style.position="absolute",a.left.style.zIndex=3E3,a.left.style.top=0,a.left.style.left="-15px",a.left.style.display="block");$("track").style.margin="0 5px 0 5px";$("track").style.width=e-10+"px";return!1}};
Ninja.Tag.HideSuggest={before:function(d){var a=$("documentUpdateContentTypeContainer");if(a)for(var a=a.getElementsByTagName("select"),b=0;b!=a.length;b++){var c=a[b];"calMonthPicker"!=c.id&&"calYearPicker"!=c.id&&(c.style.visibility="visible")}new Effect.Fade(d.update,{duration:0.15});return!1}};
Ninja.Tag.ShowSuggest={before:function(a){var b=$("documentUpdateContentTypeContainer");if(b)for(var b=b.getElementsByTagName("select"),c=0;c!=b.length;c++){var d=b[c];"calMonthPicker"!=d.id&&"calYearPicker"!=d.id&&(d.style.visibility="hidden")}if(!a.update.style.position||"absolute"==a.update.style.position)a.update.style.position="absolute",Position.clone(a.element,a.update,{setHeight:!1,offsetTop:a.element.offsetHeight});Effect.Appear(a.update,{duration:0.15});return!1}};
Ninja.Version.DeleteHard={after:function(a){Ext.getCmp("personalWorkspace").refresh();return!1}};
Ninja.View.Helper.layouts={base:{views:[{page:"sidebarSearch,sidebarMRU,sidebarRecycle",container:"container_sidebar",cache:"lazy",spin:!1,executeBodyOnLoad:!1},{page:"common/pageHeader",container:"container_pageHeader",spin:!1,cache:"lazy",executeBodyOnLoad:!1,checkForGlobalHeader:!0},{page:"common/pageFooter",container:"container_pageFooter",spin:!1,cache:"lazy",executeBodyOnLoad:!0},{page:"common/help",container:"container_pageHelp",spin:!1,cache:"lazy",executeBodyOnLoad:!1}],motif:"ContentSearch",
title:"base",description:"base"},error:{parent:"base",views:[]},search:{parent:"base",views:[{page:"sidebarFacets",container:"container_sidebar",spin:!1,cache:"dynamic",noScript:!0},{page:"documentList",container:"container_content",spin:!1}],motif:"ContentSearch",description:"search"},contribute:{parent:"base",views:[{page:"sidebarSearch,sidebarMRU,sidebarRecycle",container:"container_sidebar",spin:!1},{page:"contribute",container:"container_content",cache:"lazy"}],motif:"ContentContribute",description:"contribute"},
subscriptions:{parent:"base",views:[{page:"subscriptionList",container:"container_content"}],motif:"ContentSubscriptions",description:"subscriptions"},setup:{parent:"base",views:[{page:"sidebarSetup",container:"container_sidebar",cache:"lazy",spin:!1}],motif:"Setup",title:"setup",description:"setup"},wspermSetup:{parent:"setup",views:[{page:"wspermList",container:"container_content"}],description:"wspermSetup"},wspermCreate:{parent:"wspermSetup",views:[{page:"wspermCreate",container:"container_content"}]},
wspermUpdate:{parent:"wspermSetup",views:[{page:"wspermUpdate",container:"container_content"}]},wspermDelete:{parent:"wspermSetup",views:[{page:"wspermDelete",container:"container_content"}]},version:{parent:"base",views:[{page:"sidebarSearch,sidebarMRU,sidebarRecycle",container:"container_sidebar",cache:"lazy",spin:!1},{page:"documentView",container:"container_content"}],description:"version"},widgetTags:{views:[{page:"widgetTagCloud",container:"container_widget"}]},widgetWorkspaces:{views:[{page:"widgetWorkspaceList",
container:"container_widget"}]},widgetRecentActivity:{views:[{page:"widgetRecentActivity",container:"container_widget"}]},widgetArchived:{views:[{page:"widgetArchived",container:"container_widget"}]},widgetReview:{views:[{page:"widgetReview",container:"container_widget"}]},workspaces:{parent:"base",views:[{page:"workspaceListOverview",container:"container_content"}],motif:"Workspace",title:"workspaces",description:"workspaces"},workspacesSplash:{parent:"workspaces",views:[{container:"container_content"},
{container:"container_sidebar"}]},workspaceView:{parent:"workspaces",views:[{page:"workspaceView",container:"container_content"}]},workspaceCreate:{parent:"workspaces",views:[{page:"workspaceCreate",container:"container_content"}]},workspaceUpdate:{parent:"workspaces",views:[{page:"workspaceUpdate",container:"container_content"}]}};
Ninja.View.Back={before:function(){window.history.back();return!1}};
Ninja.View.Hide={before:function(b,c){var a=c.resolveContainer(b.container);Element.addClassName(a.wrapper,"container_unused");Element.removeClassName(a.wrapper,"container");a.wrapper.style.innerHTML="";return!1}};
Ninja.View.Init={before:function(f,d){window.offscreenBuffering=!1;d.isAlohaSkin=f.isAlohaSkin;dhtmlHistory.initialize();dhtmlHistory.fireOnNewListener=!1;dhtmlHistory.addListener(d.handleChange);var e=dhtmlHistory.getCurrentLocation();if(!e||0===e.length)e="search";dhtmlHistory.add(e);Ext.QuickTips.init();Ext.Button.override({setTooltip:function(c){var b=this.getEl().child(this.buttonSelector);Ext.QuickTips.register({target:b.id,text:c})}});Ext.override(Ext.grid.GridView,{layout:function(){if(this.mainBody){var c=
this.grid,b=c.getGridEl().getSize(!0),a=b.width;if(!(20>a||20>b.height)){if(c.autoHeight)this.scroller.dom.style.overflow="visible",Ext.isSafari&&(this.scroller.dom.style.position="static");else{this.el.setSize(b.width,b.height);var c=this.mainHd.getHeight(),d=b.height-c;this.scroller.setSize(a,d);this.innerHd&&(this.innerHd.style.width=a+"px")}this.forceFit?this.lastViewWidth!=a&&(this.fitColumns(!1,!1),this.lastViewWidth=a):(this.autoExpand(),this.syncHeaderScroll());this.onLayout(a,d)}}}});Ext.override(Ext.menu.Item,
{onRender:function(c,b){var a=document.createElement("a");a.hideFocus=!0;a.unselectable="on";a.href=this.href||"#";this.id&&(a.id=this.id);this.hrefTarget&&(a.target=this.hrefTarget);a.className=this.itemCls+(this.menu?" x-menu-item-arrow":"")+(this.cls?" "+this.cls:"");a.innerHTML=String.format('\x3cimg alt\x3d"" src\x3d"{0}" class\x3d"x-menu-item-icon {2}" /\x3e{1}',this.icon||Ext.BLANK_IMAGE_URL,this.itemText||this.text,this.iconCls||"");this.el=a;Ext.menu.Item.superclass.onRender.call(this,c,
b)}});return!0},after:function(f,d){d.labelMap=f.labelMap}};
Ninja.View.Show={before:function(a,d){d.done=!1;var c={},b=!1,e=[];if(a.layout){b=d.resolveLayout(a.layout);a.motif=b.motif;a.title=b.title;a.description=b.description;a.views=b.views;a.params=$H(b.params).merge($H(a.params));a.params.layout=a.layout;if((b=Shepherd.getHelper(b.description))&&b.onViewShowBefore)a.params=b.onViewShowBefore(a.params);b=!0;d.currentLayout=a.layout;var f=$("cphBody");f&&(f.innerHTML="")}for(f=0;f<a.views.length;f++){var g=a.views[f],m=d.resolveContainer(g.container);if(!m)return!1;
var h=null,q=!0;if(g.page){var h=d.pageCache[g.page],k=d.containerState[g.container];k&&"dynamic"===k.cache&&(d.pageCache[k.page]=k.container.contentArea.innerHTML);h?(k=d.containerState[g.container],"lazy"!==g.cache&&(k&&k.page===g.page&&(q=!1),g.cache&&(!1!==g.cache&&!g.noScript)&&e.push(h),a.views[f]=null)):!1!==g.spin&&(h="large","string"===typeof g.spin&&(h=g.spin),h='\x3cdiv class\x3d"'+h+'Spinner"\x3e\x26nbsp;\x3c/div\x3e')}else h="",a.views[f]=null;q&&h&&(m.contentArea.innerHTML=h);Element.removeClassName(m.wrapper,
"container_unused");Element.addClassName(m.wrapper,"container");c[g.container]=m}if(b)for(var l in d.containerState)d.containerState.hasOwnProperty(l)&&(b=d.containerState[l],f=c[l],f||("dynamic"===b.cache&&(d.pageCache[b.page]=b.container.contentArea.innerHTML),Element.addClassName(b.container.wrapper,"container_unused"),Element.removeClassName(b.container.wrapper,"container"),b.container.contentArea.innerHTML="",b.page=null),b.active=!1,f&&(b.active=!0));for(c=0;c<e.length;c++)try{e[c].evalScripts()}catch(n){l=
"";for(var p in n)n.hasOwnProperty(p)&&(l+=p+" \x3d "+n[p]+"  ,  ");console.debug(l)}a.views=a.views.compact();return 0===a.views.length?!1:!0},after:function(a,d){null!==a.windowTitle&&void 0!==a.windowTitle&&(document.title=a.windowTitle);if(a.motif){var c=a.motif;if(c){var c=c.charAt(0).toLowerCase()+c.substring(1),b=Element.hasClassName(document.body,"devPageInfos");document.body.className=c+"Tab";b&&Element.addClassName(document.body,"devPageInfos")}}Element.addClassName(document.body,"sfdcBody");
Element.addClassName(document.body,"brandQuaternaryBgr");Element.addClassName(document.body,d.currentLayout);Ext.isGecko3&&Ext.isMac&&Element.addClassName(document.body,"ext-gecko3");if(a.title&&$("pageTitle")&&($("pageTitle").innerHTML=a.title,c=$("pageTitleIcon")))c.setAttribute("alt",a.title),c.setAttribute("title",a.title);a.description&&$("pageDescription")&&($("pageDescription").innerHTML=a.description);b=a.views;for(c=0;c<b.length;c++){var e=b[c];Ext.isIE9&&"documentList"===e.page&&(e.content=
e.content.replace(RegExp("\x3e[ \t\r\n\v\f]*\x3c","g"),"\x3e\x3c"));var f=d.resolveContainer(e.container);if(!f)return console.debug("Container '"+e.container+"' not found."),!1;f.contentArea.innerHTML=e.content;e.cache&&!1!==e.cache&&(d.pageCache[e.page]=e.content);d.containerState[e.container]={page:e.page,container:f,active:!0,cache:e.cache};d.evalScripts(e.content)}if(document.all){b=document.getElementsByTagName("select");for(c=0;c<b.length;c++)0===b[c].style.visibility.length&&(b[c].style.visibility=
"visible")}$("body_content").style.display="";d.sizeBodyToSidebar();d.done=!0;Ninja.isServiceDeskFrame&&top.DesktopContext.fireAfterLoadPage(window.name);bodyOnLoad&&"true"===a.executeBodyOnLoad&&bodyOnLoad();"true"===a.executeGlobalHeaderJavascript&&window.SfdcCmp&&SfdcCmp.init(Sfdc.get("globalHeaderBar"));return!1}};
Ninja.View.ShowLayout={before:function(b,h){var a=b.layout;if(a&&0<a.length){if(!b.maintainLocation&&b.params){var g=0,e=$H(b.params),d;for(d in e)if(e.hasOwnProperty(d)){var c=e[d];if(c&&""!==c){var f=typeof c;"function"!=f&&("string"!=f&&"number"!=f&&(c=Shepherd.Util.toJSON(c)),"{}"!=c&&(a=0===g?a+"?":a+"\x26",a+=d+"\x3d"+encodeURIComponent(c),g++))}}}try{b.maintainLocation||a===window.location.href.split("#")[1]?Shepherd.run("view","show",{layout:b.layout,params:b.params}):Ninja.isServiceDeskFrame&&
Ninja.View.isTabLink?srcUp(DesktopContext.preserveDesktopPageUrl(Shepherd.Transport.getContentURL("/#"+a),Desktop.NAVIGATOR)):h.add(a)}finally{Ninja.View.isTabLink=!1}}return!1}};Ninja.View.isTabLink=!1;
Ninja.View.ShowView={before:function(a){var b=a.container;b||(b=a.parent);Shepherd.run("view","show",{views:[{container:b,page:a.page,cache:a.cache,spin:a.spin,params:a.params}]});return!1}};
Ninja.View.Toggle={before:function(a){var b=a.button;Shepherd.run("state","set",{set:b,state:"updating"});Sfdc.userAgent.isIE7||Effect.toggle(a.elementId,"slide",{duration:0.25});a.toggleOn?(Sfdc.userAgent.isIE7&&($(a.elementId).style.display=""),a.setFocus&&window.setTimeout("document.getElementById('"+a.setFocus+"').focus()",250),Shepherd.run("state","set",{set:b,state:"on"})):(Sfdc.userAgent.isIE7&&($(a.elementId).style.display="none"),Shepherd.run("state","set",{set:b,state:"off"}))}};
Ninja.View.Void={before:function(a){return!1}};
Ninja.Workspace.AppendWorkspaceDocumentTagList={before:function(a){if(a.tagList){a=a.tagList.substring(1,a.tagList.length);a=a.substring(0,a.length-1);a=$A(a.split(","));var c=$("managedTagsText"),d=$A(c.value.split(","));a.each(function(a,b){d.include(a)||(d[d.length]=a)});var b=c.value="";d.each(function(a,c){a&&""!==a&&(b+=trim(a),c<d.length-1&&(b+=", "))});c.value=b}return!1}};
Ninja.Workspace.Create={before:function(a){Shepherd.getHelper("bubble").disableAllFormFields();return!0},after:function(a){a.addMembers?Shepherd.run("bubble","show",{modal:!0,position:"center",closeable:!1,width:850,height:800,page:"workspaceMembershipEdit",params:{selectedWorkspaceId:a.id,isNewWorkspace:!0}}):(Shepherd.run("bubble","hide"),Shepherd.run("view","showLayout",{layout:"workspaceView",params:{selectedWorkspaceId:a.id}}));return!1},failure:function(a){Shepherd.getHelper("bubble").enableAllFormFields()}};
Ninja.Workspace.Delete={after:function(a){Shepherd.run("bubble","hide");Ninja.isServiceDeskFrame&&top.DesktopContext?top.DesktopContext.fireCloseTab(window.name):Shepherd.run("view","showLayout",{layout:"workspaces"});return!1},failure:function(a){Shepherd.run("bubble","hide");Shepherd.getHelper("view").setTrayText(a.failureMessage);return!1}};
Ninja.Workspace.LoadOverviewLayout={before:function(a,d){function f(){for(var a=e.getSelectionModel(),b=a.getSelections(),c=!1,d=0;d<b.length&&!c;)c=!b[d++].get("publishable");b=0===a.getCount();Ext.getCmp("deleteSelectedButton").setDisabled(b);Ext.getCmp("publishSelectedButton").setDisabled(b||c);if(b&&(c=Ext.DomQuery.selectNode(".x-grid3-hd-checker",e.view.innerHd)))Ext.fly(c).removeClass("x-grid3-hd-checker-on"),a.clearSelections()}Ext.EventManager.onWindowResize(Shepherd.getHelper("view").resizeObject,
d,!0);Shepherd.getHelper("google").showSplash=a.displayGoogleDocsSplashScreen;Shepherd.getHelper("google").hasValidGoogleSession=a.hasValidGoogleSession;var b=new Ext.Toolbar;b.render("cpbButtons");d.getToolbarButtons(b,a);b.add("-\x3e");b.addElement(Ext.getDom("wsPicker"));b.doLayout();var g=new Ext.data.GroupingStore({proxy:new Ext.data.ShepherdProxy({controller:"contribute",action:"getQueue"}),reader:new Ext.data.JsonReader({root:"queue",id:"name"},[{name:"versionId"},{name:"title"},{name:"iconPath"},
{name:"timeSince"},{name:"timestamp"},{name:"status"},{name:"isPending"},{name:"fileSize"},{name:"publishable"}]),sortInfo:{field:"timestamp",direction:"DESC"},groupField:"status"}),h=new Ext.XTemplate("\x3cspan onclick\x3d\"Shepherd.run('contribute','show', { params : {selectedVersionIds : [ '{versionId}' ]}});\" class\x3d\"link actionlink\"\x3e",'\x3ctpl if\x3d"isPending"\x3e'+a.resumePublishing+"\x3c/tpl\x3e",'\x3ctpl if\x3d"!isPending"\x3e'+a.publish+"\x3c/tpl\x3e","\x3c/span\x3e");h.compile();
var k=new Ext.XTemplate('\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0"\x3e\x3ctr\x3e\x3ctd valign\x3d"top" class\x3d"gridTitleIcon"\x3e','\x3ctpl if\x3d"!isPending"\x3e','\x3cimg width\x3d"16" height\x3d"16" src\x3d"{iconPath}" alt\x3d"'+a.titleTipOpen+'{title}" title\x3d"'+a.titleTipOpen+'{title}" style\x3d"vertical-align:top;" class\x3d"header link" onclick\x3d"Ninja.View.isTabLink\x3dtrue;Shepherd.run(\'document\',\'view\', {selectedVersionId : \'{versionId}\' });"\x3e','\x3c/td\x3e\x3ctd valign\x3d"top" align\x3d"left" \x3e\x3cspan title\x3d"'+
a.titleTipOpen+"{title}\" class\x3d\"title link\" onclick\x3d\"Ninja.View.isTabLink\x3dtrue;Shepherd.run('document','view', {selectedVersionId : '{versionId}' });\"\x3e","\x3c/tpl\x3e",'\x3ctpl if\x3d"isPending"\x3e','\x3cimg width\x3d"16" height\x3d"16" src\x3d"{iconPath}" alt\x3d"{title}" title\x3d"{title}" style\x3d"vertical-align:top;" class\x3d"header"\x3e','\x3c/td\x3e\x3ctd valign\x3d"top" align\x3d"left" \x3e\x3cspan title\x3d"{title}" class\x3d"title actionReq"\x3e',"\x3c/tpl\x3e","{title}\x3c/span\x3e",
"\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e");k.compile();var l=new Ext.XTemplate("\x3cspan\x3e{timeSince}\x26nbsp;\x3c/span\x3e");l.compile();var b=Shepherd.getHelper("workspace").getWidth()-3,m=new Ext.grid.CheckboxSelectionModel({});Shepherd.getHelper("view").destroyExtCmp("myContentGrid");var e=new Ext.grid.GridPanel({id:"myContentGrid",ctCls:"listViewportWrapper",cls:"listViewport",border:!1,autoHeight:!0,width:b,stripeRows:!0,autoExpandColumn:"titleHeader",autoExpandMax:5E3,autoScroll:!0,loadMask:{msg:a.loadMsg},
store:g,sm:m,cm:new Ext.grid.ColumnModel([{id:"gridPlaceHolder",width:20,fixed:!0,menuDisabled:!0,dataIndex:""},m,{id:"actionsHeader",header:a.headerActions,width:70,menuDisabled:!0,renderer:function(a,b,c){b.css="actionColumn";if(c.get("publishable"))return h.apply({isPending:c.get("isPending"),status:c.get("status"),versionId:c.get("versionId")})},sortable:!0},{id:"titleHeader",header:a.headerTitle,width:200,menuDisabled:!0,renderer:function(a,b,c){return k.apply({title:Ext.util.Format.htmlEncode(a),
versionId:c.get("versionId"),isPending:c.get("isPending"),iconPath:c.get("iconPath")})},sortable:!0,dataIndex:"title"},{id:"fileSize",header:a.headerFileSize,width:70,menuDisabled:!0,renderer:"fileSize",sortable:!0,dataIndex:"fileSize"},{id:"dateHeader",header:a.headerLastMod,width:100,menuDisabled:!0,renderer:function(a,b,c){return l.apply({timeSince:c.get("timeSince")})},sortable:!0,dataIndex:"timestamp"},{id:"statusHeader",header:a.headerStatus,dataIndex:"status"}]),view:new Ext.grid.GroupingView({emptyText:a.emptyMsg,
forceFit:!0,showGroupName:!1,hideGroupedColumn:!0,sortClasses:["ASC","DESC"],groupTextTpl:'{text} ({[values.rs.length]} {[values.rs.length \x3e 1 ? "Items" : "Item"]})'}),tbar:['\x3cimg alt\x3d"" src\x3d"/sfc/images/checkbox_arrow.png" style\x3d"margin-left:26px;"/\x3e',new Ext.Button({text:a.deleteSelected,tooltip:a.deleteSelectedTipText,tooltipType:"title",id:"deleteSelectedButton",icon:"/img/content/deletecontent16.gif",handler:function(){this.disabled=!0;Shepherd.run("document","deleteVersions",
{shepherdToken:a.shepherdTokenDocumentDeleteVersions,grid:e})},disabled:"true",cls:"x-btn-text-icon"}),new Ext.Button({text:a.publishSelected,tooltip:a.publishSelectedTipText,tooltipType:"title",id:"publishSelectedButton",icon:"/img/content/publishcontent16.gif",handler:function(){Shepherd.run("contribute","show",{grid:e})},disabled:"true",cls:"x-btn-text-icon"}),"-\x3e","-"]});e.getStore().on("load",f);e.getSelectionModel().on("rowselect",f);e.getSelectionModel().on("rowdeselect",f);Shepherd.getHelper("view").destroyExtCmp("wsTabs");
b=d.activeWSTab;b=new Ext.TabPanel({id:"wsTabs",plain:!0,activeTab:0<b?b:0,defaults:{enableTabScroll:!0,autoScroll:!0},layoutOnTabChange:!0,items:[{title:a.tabSharedContent,id:"sharedWorkspaces",autoHeight:!0,listeners:{render:function(a){Shepherd.run("view","showView",{container:a.body.id,page:"workspaceWidgets"});d.activeWSTab=0},activate:function(){Shepherd.getHelper("view").setWindowTitle(a.windowTitle)}}}]});!0===a.displayPersonalWorkspaceTab&&b.add({title:a.tabPersonalContent,id:"personalWorkspace",
autoHeight:!0,items:e,listeners:{activate:function(b){g.load();d.activeWSTab=1;Shepherd.getHelper("view").setWindowTitle(a.windowTitlePersonal)}},refresh:function(){g.load()}});b.render("wsTabsMain");d.resizeHelper();(Ext.fly("bubbleMask").isVisible()||Ext.getCmp("contributeTabsWin"))&&Shepherd.getHelper("bubble").hideInterferingElements();return!1}};
Ninja.Workspace.LoadPersonalWS={before:function(b,a){a.activeWSTab=1;Shepherd.run("view","showLayout",{layout:"workspaces"});return!1}};
Ninja.Workspace.LoadViewLayout={before:function(a,c){Shepherd.getHelper("google").showSplash=a.displayGoogleDocsSplashScreen;Shepherd.getHelper("google").hasValidGoogleSession=a.hasValidGoogleSession;null!==a.selectedWorkspaceId&&void 0!==a.selectedWorkspaceId&&Shepherd.getHelper("view").setWindowTitle(Ext.util.Format.htmlDecode(a.windowTitleSelected));var b=new Ext.Toolbar;b.render("cpbButtons");c.getToolbarButtons(b,a);b.add("-\x3e");b.addElement(Ext.getDom("wsPicker"));b.doLayout();(Ext.fly("bubbleMask").isVisible()||
Ext.getCmp("contributeTabsWin"))&&Shepherd.getHelper("bubble").hideInterferingElements();return!1}};
Ninja.Workspace.MemberAdd={after:function(a){Shepherd.run("bubble","hide");$("container_workspaceViewMembers")?a.wasManaging?Shepherd.run("view","showLayout",{layout:"workspaceView",params:{selectedWorkspaceId:a.workspaceId}}):Shepherd.run("view","showView",{page:"workspaceViewMembers",container:"container_workspaceViewMembers",spin:!1,params:{selectedWorkspaceId:a.workspaceId}}):Shepherd.run("view","showView",{page:"workspaceListOverview",container:"container_content",spin:!1});return!1}};
Ninja.Workspace.MemberAddFilter={before:function(a){a.reset&&(a.potFilterText="",$("wsMemberFilter").value="");var b=$("selectedMembers"),c=[];b&&b.options&&(c=Shepherd.Util.convertToArray(Shepherd.Util.getAllOptions(b)));Shepherd.run("view","showView",{page:"workspaceMembershipPotential",container:"workspaceMembershipPotential",spin:!1,cache:"lazy",params:{selectedWorkspaceId:a.selectedWorkspaceId,potFilterText:a.potFilterText,potPage:a.potPage,memberType:a.memberType,selectedMembers:c}});return!1}};
Ninja.Workspace.MemberDelete={after:function(a){a.removedSelf&&!a.wasManaging?a.canManage?Shepherd.run("view","showLayout",{layout:"workspaceView",params:{selectedWorkspaceId:a.selectedWorkspaceId}}):Shepherd.run("view","showView",{page:"workspaceListOverview",container:"container_content",spin:!1}):Shepherd.run("view","showView",{page:"workspaceViewMembers",container:"container_workspaceViewMembers",spin:!1,cache:"lazy",params:{selectedWorkspaceId:a.selectedWorkspaceId,existFilterPageNo:a.existFilterPageNo,
existFilterTextKey:a.existFilterText,memberType:a.memberType}})}};
Ninja.Workspace.MemberEditFormClose={before:function(a){Shepherd.run("view","showView",{page:"workspaceListOverview",container:"container_content",spin:!1});Shepherd.run("bubble","hide");return!1}};
Ninja.Workspace.MemberFilter={before:function(a){a.reset&&(a.existFilterText="");Shepherd.run("view","showLayout",{layout:"workspaceUpdate",container:"existMembers",params:{selectedWorkspaceId:a.selectedWorkspaceId,existFilterText:a.existFilterText}});return!1}};
Ninja.Workspace.MemberSelect={before:function(a){var b=$("memberTypeSelect"),c=$("potPage"),d=$("wsMemberFilter");a.deselect?Shepherd.run("display","removeOptions",{from:"selectedMembers"}):Shepherd.run("display","moveOptions",{from:"potentialMembers",to:"selectedMembers"});Shepherd.run("workspace","memberAddFilter",{selectedWorkspaceId:a.selectedWorkspaceId,potFilterText:d.value,potPage:c.value,memberType:b.value});return!1}};
Ninja.Workspace.MemberWspermChoose={before:function(c){for(var d=$("selectedMembers").options,b=[],a=0;a<d.length;a++)b[a]=d[a].value;0<b.length&&(c.selectedMembers=b,Shepherd.run("view","showView",{container:"container_bubble",page:"workspaceMembershipWsperms",params:c}));return!1}};
Ninja.Workspace.MemberWspermUpdate={before:function(a){var b=$(a.wspermSelectBox);a.wspermId=Shepherd.Util.getSelectValue(b);return!0}};
Ninja.Workspace.MoveContentTypeOptions={before:function(a){$("restrictContentTypesCheck").checked?(Shepherd.run("display","moveOptions",{from:a.from,to:a.to}),$("contentTypeErrorMessage").innerHTML=""):$("contentTypeErrorMessage").innerHTML=a.unchecked;return!1}};
Ninja.Workspace.ReloadTopContent={before:function(a){a.listConfig="wsListSettings";Shepherd.run("view","showView",{page:"workspaceViewContentList",container:"workspaceViewContentList",params:a});return!1}};
Ninja.Workspace.SwitchTaggingModel={before:function(a){$("suggestedTags").className="U"==a.taggingModel?"hidden":"section1_2";return!1}};
Ninja.Workspace.ToggleRestrictContentTypes={before:function(b){$("contentTypeErrorMessage").innerHTML="";var a=$("restrictContentTypesCheck").checked;$("enforceRestrictionsAcrossNonOwnerWorkspacesCheck").disabled=!a;$("skipDocValidationCheck").disabled=!a;a?(a=[],b.contentTypeIdsUsedOnWs&&(a=b.contentTypeIdsUsedOnWs),Shepherd.run("display","selectOptions",{options:"availableContentTypeIds",selectItems:a}),Shepherd.run("display","moveOptions",{from:"availableContentTypeIds",to:"restrictedContentTypeIds"})):
($("skipDocValidationCheck").checked=!1,Shepherd.run("display","selectOptions",{options:"restrictedContentTypeIds",selectAll:!0}),Shepherd.run("display","moveOptions",{from:"restrictedContentTypeIds",to:"availableContentTypeIds"}));return!1}};
Ninja.Workspace.Update={after:function(a){Shepherd.run("view","showLayout",{layout:"workspaceView",params:{selectedWorkspaceId:a.id}});Shepherd.run("bubble","hide");return!1}};
Ninja.Workspace.UpdateAllowedContentTypes={before:function(a){$("contentTypeErrorMessage").innerHTML="";for(var b=[],d=$("restrictedContentTypeIds").options,c=0;c<d.length;c++)b[b.length]=d[c].value;a.restrictedContentTypeIds=b;a.enforceRestrictionsAcrossNonOwnerWorkspaces=!$("enforceRestrictionsAcrossNonOwnerWorkspacesCheck").checked;return!0},after:function(a){Shepherd.run("bubble","hide");Shepherd.run("view","showLayout",{layout:"workspaceView",params:{selectedWorkspaceId:a.id}});return!1}};
Ninja.Workspace.UpdateTaggingModel={before:function(a){a.selectedTags=Shepherd.Util.convertToArray(a.selectedTags).without(" ");return!0},after:function(a){Shepherd.run("bubble","hide");Shepherd.run("view","showLayout",{layout:"workspaceView",params:{selectedWorkspaceId:a.id}});return!1}};
Ninja.Workspace.ViewMembersFilter={before:function(a){var b=$("existFilterTextInput");a.reset&&(b.value="");Shepherd.run("view","showView",{page:"workspaceViewMembers",container:"container_workspaceViewMembers",spin:!1,cache:"lazy",params:{selectedWorkspaceId:a.selectedWorkspaceId,existFilterText:b.value,existPage:a.existPage,memberType:a.memberType}});return!1}};
Ninja.Wsperm.Create={before:function(a){a.permissions=Shepherd.Util.convertToArray(a.permissions);return!0},after:function(a){Shepherd.run("view","showLayout",{layout:"wspermSetup"})}};
Ninja.Wsperm.CreateStandard={after:function(a){Shepherd.run("view","showLayout",{layout:"wspermSetup"})}};
Ninja.Wsperm.Delete={after:function(a){Shepherd.run("view","showLayout",{layout:"wspermSetup"})}};
Ninja.Wsperm.Update={before:function(a){a.permissions=Shepherd.Util.convertToArray(a.permissions);return!0},after:function(a){Shepherd.run("view","showLayout",{layout:"wspermSetup"})}};

//# sourceMappingURL=/javascript/1446716270000/sfdc/source/ShepherdBootstrap.js.map
