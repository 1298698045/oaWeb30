/*
 * This code is for Internal Salesforce use only, and subject to change without notice.
 * Customers shouldn't reference this file in any web pages.
 */
(function(t,p){function oa(a,b,d){if(d===p&&1===a.nodeType)if(d=a.getAttribute("data-"+b),"string"===typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:!c.isNaN(d)?parseFloat(d):Va.test(d)?c.parseJSON(d):d}catch(e){}c.data(a,b,d)}else d=p;return d}function ca(a){for(var b in a)if("toJSON"!==b)return!1;return!0}function E(){return!1}function K(){return!0}function pa(a,b,d){var e=c.extend({},d[0]);e.type=a;e.originalEvent={};e.liveFired=p;c.event.handle.call(b,e);e.isDefaultPrevented()&&d[0].preventDefault()}
function Wa(a){var b,d,e,f,h,g,k,l,n,q,m,p=[];f=[];h=c._data(this,"events");if(!(a.liveFired===this||!h||!h.live||a.target.disabled||a.button&&"click"===a.type)){a.namespace&&(m=RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)"));a.liveFired=this;var s=h.live.slice(0);for(k=0;k<s.length;k++)h=s[k],h.origType.replace(R,"")===a.type?f.push(h.selector):s.splice(k--,1);f=c(a.target).closest(f,a.currentTarget);l=0;for(n=f.length;l<n;l++){q=f[l];for(k=0;k<s.length;k++)if(h=s[k],q.selector===
h.selector&&(!m||m.test(h.namespace))&&!q.elem.disabled){g=q.elem;e=null;if("mouseenter"===h.preType||"mouseleave"===h.preType)a.type=h.preType,e=c(a.relatedTarget).closest(h.selector)[0];(!e||e!==g)&&p.push({elem:g,handleObj:h,level:q.level})}}l=0;for(n=p.length;l<n;l++){f=p[l];if(d&&f.level>d)break;a.currentTarget=f.elem;a.data=f.handleObj.data;a.handleObj=f.handleObj;m=f.handleObj.origHandler.apply(f.elem,arguments);if(!1===m||a.isPropagationStopped())if(d=f.level,!1===m&&(b=!1),a.isImmediatePropagationStopped())break}return b}}
function W(a,b){return(a&&"*"!==a?a+".":"")+b.replace(Ya,"`").replace(Za,"\x26")}function qa(a,b,d){if(c.isFunction(b))return c.grep(a,function(a,c){return!!b.call(a,c,a)===d});if(b.nodeType)return c.grep(a,function(a,c){return a===b===d});if("string"===typeof b){var e=c.grep(a,function(a){return 1===a.nodeType});if($a.test(b))return c.filter(b,e,!d);b=c.filter(b,e)}return c.grep(a,function(a,e){return 0<=c.inArray(a,b)===d})}function ra(a,b){if(1===b.nodeType&&c.hasData(a)){var d=c.expando,e=c.data(a),
f=c.data(b,e);if(e=e[d]){var h=e.events,f=f[d]=c.extend({},e);if(h){delete f.handle;f.events={};for(var g in h){d=0;for(e=h[g].length;d<e;d++)c.event.add(b,g+(h[g][d].namespace?".":"")+h[g][d].namespace,h[g][d],h[g][d].data)}}}}}function sa(a,b){if(1===b.nodeType){var d=b.nodeName.toLowerCase();b.clearAttributes();b.mergeAttributes(a);if("object"===d)b.outerHTML=a.outerHTML;else if("input"===d&&("checkbox"===a.type||"radio"===a.type))a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&
(b.value=a.value);else if("option"===d)b.selected=a.defaultSelected;else if("input"===d||"textarea"===d)b.defaultValue=a.defaultValue;b.removeAttribute(c.expando)}}function X(a){return"getElementsByTagName"in a?a.getElementsByTagName("*"):"querySelectorAll"in a?a.querySelectorAll("*"):[]}function ab(a,b){b.src?c.ajax({url:b.src,async:!1,dataType:"script"}):c.globalEval(b.text||b.textContent||b.innerHTML||"");b.parentNode&&b.parentNode.removeChild(b)}function ta(a,b,d){var e="width"===b?a.offsetWidth:
a.offsetHeight;if("border"===d)return e;c.each("width"===b?bb:cb,function(){d||(e-=parseFloat(c.css(a,"padding"+this))||0);e="margin"===d?e+(parseFloat(c.css(a,"margin"+this))||0):e-(parseFloat(c.css(a,"border"+this+"Width"))||0)});return e}function ua(a){return function(b,d){"string"!==typeof b&&(d=b,b="*");if(c.isFunction(d))for(var e=b.toLowerCase().split(va),f=0,h=e.length,g,k;f<h;f++)g=e[f],(k=/^\+/.test(g))&&(g=g.substr(1)||"*"),g=a[g]=a[g]||[],g[k?"unshift":"push"](d)}}function Y(a,b,c,e,f,
h){f=f||b.dataTypes[0];h=h||{};h[f]=!0;f=a[f];for(var g=0,k=f?f.length:0,l=a===da,n;g<k&&(l||!n);g++)n=f[g](b,c,e),"string"===typeof n&&(!l||h[n]?n=p:(b.dataTypes.unshift(n),n=Y(a,b,c,e,n,h)));if((l||!n)&&!h["*"])n=Y(a,b,c,e,"*",h);return n}function ea(a,b,d,e){if(c.isArray(b)&&b.length)c.each(b,function(b,f){d||db.test(a)?e(a,f):ea(a+"["+("object"===typeof f||c.isArray(f)?b:"")+"]",f,d,e)});else if(!d&&null!=b&&"object"===typeof b)if(c.isArray(b)||c.isEmptyObject(b))e(a,"");else for(var f in b)ea(a+
"["+f+"]",b[f],d,e);else e(a,b)}function eb(){c(t).unload(function(){for(var a in H)H[a](0,1)})}function wa(){try{return new t.XMLHttpRequest}catch(a){}}function F(a,b){var d={};c.each(xa.concat.apply([],xa.slice(0,b)),function(){d[this]=a});return d}function ya(a){if(!fa[a]){var b=c("\x3c"+a+"\x3e").appendTo("body"),d=b.css("display");b.remove();if("none"===d||""===d)d="block";fa[a]=d}return fa[a]}function ga(a){return c.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var m=t.document,
c=function(){function a(){if(!b.isReady){try{m.documentElement.doScroll("left")}catch(c){setTimeout(a,1);return}b.ready()}}var b=function(a,c){return new b.fn.init(a,c,f)},c=t.jQuery,e=t.$,f,h=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,g=/\S/,k=/^\s+/,l=/\s+$/,n=/\d/,q=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,Xa=/^[\],:{}\s]*$/,y=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,s=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,v=/(?:^|:|,)(?:\s*\[)+/g,z=/(webkit)[ \/]([\w.]+)/,w=/(opera)(?:.*version)?[ \/]([\w.]+)/,
O=/(msie) ([\w.]+)/,x=/(mozilla)(?:.*? rv:([\w.]+))?/,r=navigator.userAgent,B=!1,ha,ia="then done fail isResolved isRejected promise".split(" "),S,fb=Object.prototype.toString,ja=Object.prototype.hasOwnProperty,ka=Array.prototype.push,V=Array.prototype.slice,za=String.prototype.trim,Aa=Array.prototype.indexOf,Ba={};b.fn=b.prototype={constructor:b,init:function(a,c,d){var e;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("body"===a&&!c&&m.body)return this.context=
m,this[0]=m.body,this.selector="body",this.length=1,this;if("string"===typeof a){if((e=h.exec(a))&&(e[1]||!c)){if(e[1])return d=(c=c instanceof b?c[0]:c)?c.ownerDocument||c:m,(a=q.exec(a))?b.isPlainObject(c)?(a=[m.createElement(a[1])],b.fn.attr.call(a,c,!0)):a=[d.createElement(a[1])]:(a=b.buildFragment([e[1]],[d]),a=(a.cacheable?b.clone(a.fragment):a.fragment).childNodes),b.merge(this,a);if((c=m.getElementById(e[2]))&&c.parentNode){if(c.id!==e[2])return d.find(a);this.length=1;this[0]=c}this.context=
m;this.selector=a;return this}return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a)}if(b.isFunction(a))return d.ready(a);a.selector!==p&&(this.selector=a.selector,this.context=a.context);return b.makeArray(a,this)},selector:"",jquery:"1.5.1",length:0,size:function(){return this.length},toArray:function(){return V.call(this,0)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,c,d){var e=this.constructor();b.isArray(a)?ka.apply(e,a):b.merge(e,
a);e.prevObject=this;e.context=this.context;"find"===c?e.selector=this.selector+(this.selector?" ":"")+d:c&&(e.selector=this.selector+"."+c+"("+d+")");return e},each:function(a,c){return b.each(this,a,c)},ready:function(a){b.bindReady();ha.done(a);return this},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(V.apply(this,arguments),"slice",V.call(arguments).join(","))},map:function(a){return this.pushStack(b.map(this,
function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:ka,sort:[].sort,splice:[].splice};b.fn.init.prototype=b.fn;b.extend=b.fn.extend=function(){var a,c,d,e,f,r=arguments[0]||{},h=1,g=arguments.length,B=!1;"boolean"===typeof r&&(B=r,r=arguments[1]||{},h=2);"object"!==typeof r&&!b.isFunction(r)&&(r={});g===h&&(r=this,--h);for(;h<g;h++)if(null!=(a=arguments[h]))for(c in a)d=r[c],e=a[c],r!==e&&(B&&e&&(b.isPlainObject(e)||(f=b.isArray(e)))?(f?(f=!1,
d=d&&b.isArray(d)?d:[]):d=d&&b.isPlainObject(d)?d:{},r[c]=b.extend(B,d,e)):e!==p&&(r[c]=e));return r};b.extend({noConflict:function(a){t.$=e;a&&(t.jQuery=c);return b},isReady:!1,readyWait:1,ready:function(a){!0===a&&b.readyWait--;if(!b.readyWait||!0!==a&&!b.isReady){if(!m.body)return setTimeout(b.ready,1);b.isReady=!0;!0!==a&&0<--b.readyWait||(ha.resolveWith(m,[b]),b.fn.trigger&&b(m).trigger("ready").unbind("ready"))}},bindReady:function(){if(!B){B=!0;if("complete"===m.readyState)return setTimeout(b.ready,
1);if(m.addEventListener)m.addEventListener("DOMContentLoaded",S,!1),t.addEventListener("load",b.ready,!1);else if(m.attachEvent){m.attachEvent("onreadystatechange",S);t.attachEvent("onload",b.ready);var c=!1;try{c=null==t.frameElement}catch(d){}m.documentElement.doScroll&&c&&a()}}},isFunction:function(a){return"function"===b.type(a)},isArray:Array.isArray||function(a){return"array"===b.type(a)},isWindow:function(a){return a&&"object"===typeof a&&"setInterval"in a},isNaN:function(a){return null==
a||!n.test(a)||isNaN(a)},type:function(a){return null==a?String(a):Ba[fb.call(a)]||"object"},isPlainObject:function(a){if(!a||("object"!==b.type(a)||a.nodeType||b.isWindow(a))||a.constructor&&!ja.call(a,"constructor")&&!ja.call(a.constructor.prototype,"isPrototypeOf"))return!1;for(var c in a);return c===p||ja.call(a,c)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw a;},parseJSON:function(a){if("string"!==typeof a||!a)return null;a=b.trim(a);if(Xa.test(a.replace(y,
"@").replace(s,"]").replace(v,"")))return t.JSON&&t.JSON.parse?t.JSON.parse(a):(new Function("return "+a))();b.error("Invalid JSON: "+a)},parseXML:function(a,c,d){t.DOMParser?(d=new DOMParser,c=d.parseFromString(a,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(a));d=c.documentElement;(!d||!d.nodeName||"parsererror"===d.nodeName)&&b.error("Invalid XML: "+a);return c},noop:function(){},globalEval:function(a){if(a&&g.test(a)){var c=m.head||m.getElementsByTagName("head")[0]||
m.documentElement,d=m.createElement("script");b.support.scriptEval()?d.appendChild(m.createTextNode(a)):d.text=a;c.insertBefore(d,c.firstChild);c.removeChild(d)}},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var e,f=0,r=a.length,h=r===p||b.isFunction(a);if(d)if(h)for(e in a){if(!1===c.apply(a[e],d))break}else for(;f<r&&!1!==c.apply(a[f++],d););else if(h)for(e in a){if(!1===c.call(a[e],e,a[e]))break}else for(d=a[0];f<r&&!1!==c.call(d,f,
d);d=a[++f]);return a},trim:za?function(a){return null==a?"":za.call(a)}:function(a){return null==a?"":a.toString().replace(k,"").replace(l,"")},makeArray:function(a,c){var d=c||[];if(null!=a){var e=b.type(a);null==a.length||"string"===e||"function"===e||"regexp"===e||b.isWindow(a)?ka.call(d,a):b.merge(d,a)}return d},inArray:function(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return c;return-1},merge:function(a,b){var c=a.length,d=0;if("number"===typeof b.length)for(var e=
b.length;d<e;d++)a[c++]=b[d];else for(;b[d]!==p;)a[c++]=b[d++];a.length=c;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,r=a.length;f<r;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,b,c){for(var d=[],e,f=0,r=a.length;f<r;f++)e=b(a[f],f,c),null!=e&&(d[d.length]=e);return d.concat.apply([],d)},guid:1,proxy:function(a,c,d){2===arguments.length&&("string"===typeof c?(d=a,a=d[c],c=p):c&&!b.isFunction(c)&&(d=c,c=p));!c&&a&&(c=function(){return a.apply(d||this,arguments)});
a&&(c.guid=a.guid=a.guid||c.guid||b.guid++);return c},access:function(a,c,d,e,f,r){var h=a.length;if("object"===typeof c){for(var g in c)b.access(a,g,c[g],e,f,d);return a}if(d!==p){e=!r&&e&&b.isFunction(d);for(g=0;g<h;g++)f(a[g],c,e?d.call(a[g],g,f(a[g],c)):d,r);return a}return h?f(a[0],c):p},now:function(){return(new Date).getTime()},_Deferred:function(){var a=[],c,d,e,f={done:function(){if(!e){var d=arguments,r,h,g,B,n;c&&(n=c,c=0);r=0;for(h=d.length;r<h;r++)g=d[r],B=b.type(g),"array"===B?f.done.apply(f,
g):"function"===B&&a.push(g);n&&f.resolveWith(n[0],n[1])}return this},resolveWith:function(b,f){if(!e&&!c&&!d){d=1;try{for(;a[0];)a.shift().apply(b,f)}catch(r){throw r;}finally{c=[b,f],d=0}}return this},resolve:function(){f.resolveWith(b.isFunction(this.promise)?this.promise():this,arguments);return this},isResolved:function(){return!(!d&&!c)},cancel:function(){e=1;a=[];return this}};return f},Deferred:function(a){var c=b._Deferred(),d=b._Deferred(),e;b.extend(c,{then:function(a,b){c.done(a).fail(b);
return this},fail:d.done,rejectWith:d.resolveWith,reject:d.resolve,isRejected:d.isResolved,promise:function(a){if(null==a){if(e)return e;e=a={}}for(var b=ia.length;b--;)a[ia[b]]=c[ia[b]];return a}});c.done(d.cancel).fail(c.cancel);delete c.cancel;a&&a.call(c,c);return c},when:function(a){var c=arguments.length,d=1>=c&&a&&b.isFunction(a.promise)?a:b.Deferred(),e=d.promise();if(1<c){for(var f=V.call(arguments,0),r=c,h=function(a){return function(b){f[a]=1<arguments.length?V.call(arguments,0):b;--r||
d.resolveWith(e,f)}};c--;)(a=f[c])&&b.isFunction(a.promise)?a.promise().then(h(c),d.reject):--r;r||d.resolveWith(e,f)}else d!==a&&d.resolve(a);return e},uaMatch:function(a){a=a.toLowerCase();a=z.exec(a)||w.exec(a)||O.exec(a)||0>a.indexOf("compatible")&&x.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}b.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.subclass=this.subclass;a.fn.init=function(d,e){e&&
(e instanceof b&&!(e instanceof a))&&(e=a(e));return b.fn.init.call(this,d,e,c)};a.fn.init.prototype=a.fn;var c=a(m);return a},browser:{}});ha=b._Deferred();b.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){Ba["[object "+b+"]"]=b.toLowerCase()});r=b.uaMatch(r);r.browser&&(b.browser[r.browser]=!0,b.browser.version=r.version);b.browser.webkit&&(b.browser.safari=!0);Aa&&(b.inArray=function(a,b){return Aa.call(b,a)});g.test("\u00a0")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/);
f=b(m);m.addEventListener?S=function(){m.removeEventListener("DOMContentLoaded",S,!1);b.ready()}:m.attachEvent&&(S=function(){"complete"===m.readyState&&(m.detachEvent("onreadystatechange",S),b.ready())});return b}();(function(){c.support={};var a=m.createElement("div");a.style.display="none";a.innerHTML="   \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a' style\x3d'color:red;float:left;opacity:.55;'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e";var b=a.getElementsByTagName("*"),d=a.getElementsByTagName("a")[0],
e=m.createElement("select"),f=e.appendChild(m.createElement("option")),h=a.getElementsByTagName("input")[0];if(b&&b.length&&d){c.support={leadingWhitespace:3===a.firstChild.nodeType,tbody:!a.getElementsByTagName("tbody").length,htmlSerialize:!!a.getElementsByTagName("link").length,style:/red/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.55$/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===h.value,optSelected:f.selected,deleteExpando:!0,optDisabled:!1,
checkClone:!1,noCloneEvent:!0,noCloneChecked:!0,boxModel:null,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableHiddenOffsets:!0};h.checked=!0;c.support.noCloneChecked=h.cloneNode(!0).checked;e.disabled=!0;c.support.optDisabled=!f.disabled;var g=null;c.support.scriptEval=function(){if(null===g){var a=m.documentElement,b=m.createElement("script"),d="script"+c.now();try{b.appendChild(m.createTextNode("window."+d+"\x3d1;"))}catch(e){}a.insertBefore(b,a.firstChild);t[d]?(g=!0,delete t[d]):g=!1;a.removeChild(b)}return g};
try{delete a.test}catch(k){c.support.deleteExpando=!1}!a.addEventListener&&(a.attachEvent&&a.fireEvent)&&(a.attachEvent("onclick",function n(){c.support.noCloneEvent=!1;a.detachEvent("onclick",n)}),a.cloneNode(!0).fireEvent("onclick"));a=m.createElement("div");a.innerHTML="\x3cinput type\x3d'radio' name\x3d'radiotest' checked\x3d'checked'/\x3e";b=m.createDocumentFragment();b.appendChild(a.firstChild);c.support.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked;c(function(){var a=m.createElement("div"),
b=m.getElementsByTagName("body")[0];if(b){a.style.width=a.style.paddingLeft="1px";b.appendChild(a);c.boxModel=c.support.boxModel=2===a.offsetWidth;"zoom"in a.style&&(a.style.display="inline",a.style.zoom=1,c.support.inlineBlockNeedsLayout=2===a.offsetWidth,a.style.display="",a.innerHTML="\x3cdiv style\x3d'width:4px;'\x3e\x3c/div\x3e",c.support.shrinkWrapBlocks=2!==a.offsetWidth);a.innerHTML="\x3ctable\x3e\x3ctr\x3e\x3ctd style\x3d'padding:0;border:0;display:none'\x3e\x3c/td\x3e\x3ctd\x3et\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e";
var d=a.getElementsByTagName("td");c.support.reliableHiddenOffsets=0===d[0].offsetHeight;d[0].style.display="";d[1].style.display="none";c.support.reliableHiddenOffsets=c.support.reliableHiddenOffsets&&0===d[0].offsetHeight;a.innerHTML="";b.removeChild(a).style.display="none"}});b=function(a){var b=m.createElement("div");a="on"+a;if(!b.attachEvent)return!0;var c=a in b;c||(b.setAttribute(a,"return;"),c="function"===typeof b[a]);return c};c.support.submitBubbles=b("submit");c.support.changeBubbles=
b("change");a=b=d=null}})();var Va=/^(?:\{.*\}|\[.*\])$/;c.extend({cache:{},uuid:0,expando:"jQuery"+(c.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?c.cache[a[c.expando]]:a[c.expando];return!!a&&!ca(a)},data:function(a,b,d,e){if(c.acceptData(a)){var f=c.expando,h="string"===typeof b,g=a.nodeType,k=g?c.cache:a,l=g?a[c.expando]:a[c.expando]&&c.expando;if(l&&(!e||!l||k[l][f])||!(h&&d===p)){l||
(g?a[c.expando]=l=++c.uuid:l=c.expando);k[l]||(k[l]={},g||(k[l].toJSON=c.noop));if("object"===typeof b||"function"===typeof b)e?k[l][f]=c.extend(k[l][f],b):k[l]=c.extend(k[l],b);a=k[l];e&&(a[f]||(a[f]={}),a=a[f]);d!==p&&(a[b]=d);return"events"===b&&!a[b]?a[f]&&a[f].events:h?a[b]:a}}},removeData:function(a,b,d){if(c.acceptData(a)){var e=c.expando,f=a.nodeType,h=f?c.cache:a,g=f?a[c.expando]:c.expando;if(h[g]){if(b){var k=d?h[g][e]:h[g];if(k&&(delete k[b],!ca(k)))return}if(d&&(delete h[g][e],!ca(h[g])))return;
b=h[g][e];c.support.deleteExpando||h!=t?delete h[g]:h[g]=null;b?(h[g]={},f||(h[g].toJSON=c.noop),h[g][e]=b):f&&(c.support.deleteExpando?delete a[c.expando]:a.removeAttribute?a.removeAttribute(c.expando):a[c.expando]=null)}}},_data:function(a,b,d){return c.data(a,b,d,!0)},acceptData:function(a){if(a.nodeName){var b=c.noData[a.nodeName.toLowerCase()];if(b)return!(!0===b||a.getAttribute("classid")!==b)}return!0}});c.fn.extend({data:function(a,b){var d=null;if("undefined"===typeof a){if(this.length&&
(d=c.data(this[0]),1===this[0].nodeType))for(var e=this[0].attributes,f,h=0,g=e.length;h<g;h++)f=e[h].name,0===f.indexOf("data-")&&(f=f.substr(5),oa(this[0],f,d[f]));return d}if("object"===typeof a)return this.each(function(){c.data(this,a)});var k=a.split(".");k[1]=k[1]?"."+k[1]:"";return b===p?(d=this.triggerHandler("getData"+k[1]+"!",[k[0]]),d===p&&this.length&&(d=c.data(this[0],a),d=oa(this[0],a,d)),d===p&&k[1]?this.data(k[0]):d):this.each(function(){var d=c(this),e=[k[0],b];d.triggerHandler("setData"+
k[1]+"!",e);c.data(this,a,b);d.triggerHandler("changeData"+k[1]+"!",e)})},removeData:function(a){return this.each(function(){c.removeData(this,a)})}});c.extend({queue:function(a,b,d){if(a){b=(b||"fx")+"queue";var e=c._data(a,b);if(!d)return e||[];!e||c.isArray(d)?e=c._data(a,b,c.makeArray(d)):e.push(d);return e}},dequeue:function(a,b){b=b||"fx";var d=c.queue(a,b),e=d.shift();"inprogress"===e&&(e=d.shift());e&&("fx"===b&&d.unshift("inprogress"),e.call(a,function(){c.dequeue(a,b)}));d.length||c.removeData(a,
b+"queue",!0)}});c.fn.extend({queue:function(a,b){"string"!==typeof a&&(b=a,a="fx");return b===p?c.queue(this[0],a):this.each(function(d){d=c.queue(this,a,b);"fx"===a&&"inprogress"!==d[0]&&c.dequeue(this,a)})},dequeue:function(a){return this.each(function(){c.dequeue(this,a)})},delay:function(a,b){a=c.fx?c.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(){var d=this;setTimeout(function(){c.dequeue(d,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])}});var Ca=/[\n\t\r]/g,la=/\s+/,
gb=/\r/g,hb=/^(?:href|src|style)$/,ib=/^(?:button|input)$/i,jb=/^(?:button|input|object|select|textarea)$/i,kb=/^a(?:rea)?$/i,Da=/^(?:radio|checkbox)$/i;c.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};c.fn.extend({attr:function(a,b){return c.access(this,a,b,!0,c.attr)},removeAttr:function(a,b){return this.each(function(){c.attr(this,a,
"");1===this.nodeType&&this.removeAttribute(a)})},addClass:function(a){if(c.isFunction(a))return this.each(function(b){var d=c(this);d.addClass(a.call(this,b,d.attr("class")))});if(a&&"string"===typeof a)for(var b=(a||"").split(la),d=0,e=this.length;d<e;d++){var f=this[d];if(1===f.nodeType)if(f.className){for(var h=" "+f.className+" ",g=f.className,k=0,l=b.length;k<l;k++)0>h.indexOf(" "+b[k]+" ")&&(g+=" "+b[k]);f.className=c.trim(g)}else f.className=a}return this},removeClass:function(a){if(c.isFunction(a))return this.each(function(b){var d=
c(this);d.removeClass(a.call(this,b,d.attr("class")))});if(a&&"string"===typeof a||a===p)for(var b=(a||"").split(la),d=0,e=this.length;d<e;d++){var f=this[d];if(1===f.nodeType&&f.className)if(a){for(var h=(" "+f.className+" ").replace(Ca," "),g=0,k=b.length;g<k;g++)h=h.replace(" "+b[g]+" "," ");f.className=c.trim(h)}else f.className=""}return this},toggleClass:function(a,b){var d=typeof a,e="boolean"===typeof b;return c.isFunction(a)?this.each(function(d){var e=c(this);e.toggleClass(a.call(this,d,
e.attr("class"),b),b)}):this.each(function(){if("string"===d)for(var f,h=0,g=c(this),k=b,l=a.split(la);f=l[h++];)k=e?k:!g.hasClass(f),g[k?"addClass":"removeClass"](f);else if("undefined"===d||"boolean"===d)this.className&&c._data(this,"__className__",this.className),this.className=this.className||!1===a?"":c._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(-1<(" "+this[b].className+" ").replace(Ca," ").indexOf(a))return!0;return!1},val:function(a){if(!arguments.length){var b=
this[0];if(b){if(c.nodeName(b,"option")){var d=b.attributes.value;return!d||d.specified?b.value:b.text}if(c.nodeName(b,"select")){var d=b.selectedIndex,e=[],f=b.options,b="select-one"===b.type;if(0>d)return null;for(var h=b?d:0,g=b?d+1:f.length;h<g;h++){var k=f[h];if(k.selected&&(c.support.optDisabled?!k.disabled:null===k.getAttribute("disabled"))&&(!k.parentNode.disabled||!c.nodeName(k.parentNode,"optgroup"))){a=c(k).val();if(b)return a;e.push(a)}}return b&&!e.length&&f.length?c(f[d]).val():e}return Da.test(b.type)&&
!c.support.checkOn?null===b.getAttribute("value")?"on":b.value:(b.value||"").replace(gb,"")}return p}var l=c.isFunction(a);return this.each(function(b){var d=c(this),e=a;if(1===this.nodeType)if(l&&(e=a.call(this,b,d.val())),null==e?e="":"number"===typeof e?e+="":c.isArray(e)&&(e=c.map(e,function(a){return null==a?"":a+""})),c.isArray(e)&&Da.test(this.type))this.checked=0<=c.inArray(d.val(),e);else if(c.nodeName(this,"select")){var f=c.makeArray(e);c("option",this).each(function(){this.selected=0<=
c.inArray(c(this).val(),f)});f.length||(this.selectedIndex=-1)}else this.value=e})}});c.extend({attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,b,d,e){if(!a||3===a.nodeType||8===a.nodeType||2===a.nodeType)return p;if(e&&b in c.attrFn)return c(a)[b](d);e=1!==a.nodeType||!c.isXMLDoc(a);var f=d!==p;b=e&&c.props[b]||b;if(1===a.nodeType){var h=hb.test(b);if("selected"===b&&!c.support.optSelected){var g=a.parentNode;g&&(g.selectedIndex,g.parentNode&&g.parentNode.selectedIndex)}if((b in
a||a[b]!==p)&&e&&!h)return f&&("type"===b&&(ib.test(a.nodeName)&&a.parentNode)&&c.error("type property can't be changed"),null===d?1===a.nodeType&&a.removeAttribute(b):a[b]=d),c.nodeName(a,"form")&&a.getAttributeNode(b)?a.getAttributeNode(b).nodeValue:"tabIndex"===b?(b=a.getAttributeNode("tabIndex"))&&b.specified?b.value:jb.test(a.nodeName)||kb.test(a.nodeName)&&a.href?0:p:a[b];if(!c.support.style&&e&&"style"===b)return f&&(a.style.cssText=""+d),a.style.cssText;f&&a.setAttribute(b,""+d);if(!a.attributes[b]&&
a.hasAttribute&&!a.hasAttribute(b))return p;a=!c.support.hrefNormalized&&e&&h?a.getAttribute(b,2):a.getAttribute(b);return null===a?p:a}f&&(a[b]=d);return a[b]}});var R=/\.(.*)$/,ma=/^(?:textarea|input|select)$/i,Ya=/\./g,Za=/ /g,lb=/[^\w\s.|`]/g,mb=function(a){return a.replace(lb,"\\$\x26")};c.event={add:function(a,b,d,e){if(!(3===a.nodeType||8===a.nodeType)){try{c.isWindow(a)&&(a!==t&&!a.frameElement)&&(a=t)}catch(f){}if(!1===d)d=E;else if(!d)return;var h,g;d.handler&&(h=d,d=h.handler);d.guid||
(d.guid=c.guid++);if(g=c._data(a)){var k=g.events,l=g.handle;k||(g.events=k={});l||(g.handle=l=function(){return"undefined"!==typeof c&&!c.event.triggered?c.event.handle.apply(l.elem,arguments):p});l.elem=a;b=b.split(" ");for(var n,q=0,m;n=b[q++];){g=h?c.extend({},h):{handler:d,data:e};-1<n.indexOf(".")?(m=n.split("."),n=m.shift(),g.namespace=m.slice(0).sort().join(".")):(m=[],g.namespace="");g.type=n;g.guid||(g.guid=d.guid);var y=k[n],s=c.event.special[n]||{};if(!y&&(y=k[n]=[],!s.setup||!1===s.setup.call(a,
e,m,l)))a.addEventListener?a.addEventListener(n,l,!1):a.attachEvent&&a.attachEvent("on"+n,l);s.add&&(s.add.call(a,g),g.handler.guid||(g.handler.guid=d.guid));y.push(g);c.event.global[n]=!0}a=null}}},global:{},remove:function(a,b,d,e){if(!(3===a.nodeType||8===a.nodeType)){!1===d&&(d=E);var f,h,g=0,k,l,n,q,m,t,s=c.hasData(a)&&c._data(a),v=s&&s.events;if(s&&v)if(b&&b.type&&(d=b.handler,b=b.type),!b||"string"===typeof b&&"."===b.charAt(0))for(f in b=b||"",v)c.event.remove(a,f+b);else{for(b=b.split(" ");f=
b[g++];)if(q=f,k=0>f.indexOf("."),l=[],k||(l=f.split("."),f=l.shift(),n=RegExp("(^|\\.)"+c.map(l.slice(0).sort(),mb).join("\\.(?:.*\\.)?")+"(\\.|$)")),m=v[f])if(d){q=c.event.special[f]||{};for(h=e||0;h<m.length;h++)if(t=m[h],d.guid===t.guid){if(k||n.test(t.namespace))null==e&&m.splice(h--,1),q.remove&&q.remove.call(a,t);if(null!=e)break}if(0===m.length||null!=e&&1===m.length)(!q.teardown||!1===q.teardown.call(a,l))&&c.removeEvent(a,f,s.handle),delete v[f]}else for(h=0;h<m.length;h++)if(t=m[h],k||
n.test(t.namespace))c.event.remove(a,q,t.handler,h),m.splice(h--,1);if(c.isEmptyObject(v)){if(b=s.handle)b.elem=null;delete s.events;delete s.handle;c.isEmptyObject(s)&&c.removeData(a,p,!0)}}}},trigger:function(a,b,d,e){var f=a.type||a;if(!e){a="object"===typeof a?a[c.expando]?a:c.extend(c.Event(f),a):c.Event(f);0<=f.indexOf("!")&&(a.type=f=f.slice(0,-1),a.exclusive=!0);d||(a.stopPropagation(),c.event.global[f]&&c.each(c.cache,function(){var d=this[c.expando];d&&(d.events&&d.events[f])&&c.event.trigger(a,
b,d.handle.elem)}));if(!d||3===d.nodeType||8===d.nodeType)return p;a.result=p;a.target=d;b=c.makeArray(b);b.unshift(a)}a.currentTarget=d;(e=c._data(d,"handle"))&&e.apply(d,b);e=d.parentNode||d.ownerDocument;try{if((!d||!d.nodeName||!c.noData[d.nodeName.toLowerCase()])&&d["on"+f]&&!1===d["on"+f].apply(d,b))a.result=!1,a.preventDefault()}catch(h){}if(!a.isPropagationStopped()&&e)c.event.trigger(a,b,e,!0);else if(!a.isDefaultPrevented()){var g;e=a.target;var k=f.replace(R,""),l=c.nodeName(e,"a")&&"click"===
k,n=c.event.special[k]||{};if((!n._default||!1===n._default.call(d,a))&&!l&&(!e||!e.nodeName||!c.noData[e.nodeName.toLowerCase()])){try{e[k]&&((g=e["on"+k])&&(e["on"+k]=null),c.event.triggered=!0,e[k]())}catch(m){}g&&(e["on"+k]=g);c.event.triggered=!1}}},handle:function(a){var b,d,e,f;d=[];var h=c.makeArray(arguments);a=h[0]=c.event.fix(a||t.event);a.currentTarget=this;b=0>a.type.indexOf(".")&&!a.exclusive;b||(e=a.type.split("."),a.type=e.shift(),d=e.slice(0).sort(),e=RegExp("(^|\\.)"+d.join("\\.(?:.*\\.)?")+
"(\\.|$)"));a.namespace=a.namespace||d.join(".");f=c._data(this,"events");d=(f||{})[a.type];if(f&&d){d=d.slice(0);f=0;for(var g=d.length;f<g;f++){var k=d[f];if(b||e.test(k.namespace))if(a.handler=k.handler,a.data=k.data,a.handleObj=k,k=k.handler.apply(this,h),k!==p&&(a.result=k,!1===k&&(a.preventDefault(),a.stopPropagation())),a.isImmediatePropagationStopped())break}}return a.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(a){if(a[c.expando])return a;var b=a;a=c.Event(b);for(var d=this.props.length,e;d;)e=this.props[--d],a[e]=b[e];a.target||(a.target=a.srcElement||m);3===a.target.nodeType&&(a.target=a.target.parentNode);!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);null==a.pageX&&null!=a.clientX&&(b=m.documentElement,d=m.body,a.pageX=a.clientX+(b&&b.scrollLeft||d&&d.scrollLeft||0)-(b&&b.clientLeft||d&&d.clientLeft||0),a.pageY=a.clientY+(b&&b.scrollTop||
d&&d.scrollTop||0)-(b&&b.clientTop||d&&d.clientTop||0));if(null==a.which&&(null!=a.charCode||null!=a.keyCode))a.which=null!=a.charCode?a.charCode:a.keyCode;!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey);!a.which&&a.button!==p&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);return a},guid:1E8,proxy:c.proxy,special:{ready:{setup:c.bindReady,teardown:c.noop},live:{add:function(a){c.event.add(this,W(a.origType,a.selector),c.extend({},a,{handler:Wa,guid:a.handler.guid}))},remove:function(a){c.event.remove(this,
W(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,d){c.isWindow(this)&&(this.onbeforeunload=d)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}}};c.removeEvent=m.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)};c.Event=function(a){if(!this.preventDefault)return new c.Event(a);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||
!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?K:E):this.type=a;this.timeStamp=c.now();this[c.expando]=!0};c.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K;this.stopPropagation()},
isDefaultPrevented:E,isPropagationStopped:E,isImmediatePropagationStopped:E};var Ea=function(a){var b=a.relatedTarget;try{if(b===m||b.parentNode){for(;b&&b!==this;)b=b.parentNode;b!==this&&(a.type=a.data,c.event.handle.apply(this,arguments))}}catch(d){}},Fa=function(a){a.type=a.data;c.event.handle.apply(this,arguments)};c.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){c.event.special[a]={setup:function(d){c.event.add(this,b,d&&d.selector?Fa:Ea,a)},teardown:function(a){c.event.remove(this,
b,a&&a.selector?Fa:Ea)}}});c.support.submitBubbles||(c.event.special.submit={setup:function(a,b){if(this.nodeName&&"form"!==this.nodeName.toLowerCase())c.event.add(this,"click.specialSubmit",function(a){var b=a.target,f=b.type;("submit"===f||"image"===f)&&c(b).closest("form").length&&pa("submit",this,arguments)}),c.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,f=b.type;("text"===f||"password"===f)&&(c(b).closest("form").length&&13===a.keyCode)&&pa("submit",this,arguments)});else return!1},
teardown:function(a){c.event.remove(this,".specialSubmit")}});if(!c.support.changeBubbles){var I,Ga=function(a){var b=a.type,d=a.value;"radio"===b||"checkbox"===b?d=a.checked:"select-multiple"===b?d=-1<a.selectedIndex?c.map(a.options,function(a){return a.selected}).join("-"):"":"select"===a.nodeName.toLowerCase()&&(d=a.selectedIndex);return d},Z=function(a,b){var d=a.target,e,f;if(ma.test(d.nodeName)&&!d.readOnly&&(e=c._data(d,"_change_data"),f=Ga(d),("focusout"!==a.type||"radio"!==d.type)&&c._data(d,
"_change_data",f),!(e===p||f===e)))if(null!=e||f)a.type="change",a.liveFired=p,c.event.trigger(a,b,d)};c.event.special.change={filters:{focusout:Z,beforedeactivate:Z,click:function(a){var b=a.target,c=b.type;("radio"===c||"checkbox"===c||"select"===b.nodeName.toLowerCase())&&Z.call(this,a)},keydown:function(a){var b=a.target,c=b.type;(13===a.keyCode&&"textarea"!==b.nodeName.toLowerCase()||32===a.keyCode&&("checkbox"===c||"radio"===c)||"select-multiple"===c)&&Z.call(this,a)},beforeactivate:function(a){a=
a.target;c._data(a,"_change_data",Ga(a))}},setup:function(a,b){if("file"===this.type)return!1;for(var d in I)c.event.add(this,d+".specialChange",I[d]);return ma.test(this.nodeName)},teardown:function(a){c.event.remove(this,".specialChange");return ma.test(this.nodeName)}};I=c.event.special.change.filters;I.focus=I.beforeactivate}m.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function d(a){a=c.event.fix(a);a.type=b;return c.event.handle.call(this,a)}c.event.special[b]={setup:function(){this.addEventListener(a,
d,!0)},teardown:function(){this.removeEventListener(a,d,!0)}}});c.each(["bind","one"],function(a,b){c.fn[b]=function(a,e,f){if("object"===typeof a){for(var h in a)this[b](h,e,a[h],f);return this}if(c.isFunction(e)||!1===e)f=e,e=p;var g="one"===b?c.proxy(f,function(a){c(this).unbind(a,g);return f.apply(this,arguments)}):f;if("unload"===a&&"one"!==b)this.one(a,e,f);else{h=0;for(var k=this.length;h<k;h++)c.event.add(this[h],a,g,e)}return this}});c.fn.extend({unbind:function(a,b){if("object"===typeof a&&
!a.preventDefault)for(var d in a)this.unbind(d,a[d]);else{d=0;for(var e=this.length;d<e;d++)c.event.remove(this[d],a,b)}return this},delegate:function(a,b,c,e){return this.live(b,c,e,a)},undelegate:function(a,b,c){return 0===arguments.length?this.unbind("live"):this.die(b,null,c,a)},trigger:function(a,b){return this.each(function(){c.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0]){var d=c.Event(a);d.preventDefault();d.stopPropagation();c.event.trigger(d,b,this[0]);return d.result}},
toggle:function(a){for(var b=arguments,d=1;d<b.length;)c.proxy(a,b[d++]);return this.click(c.proxy(a,function(e){var f=(c._data(this,"lastToggle"+a.guid)||0)%d;c._data(this,"lastToggle"+a.guid,f+1);e.preventDefault();return b[f].apply(this,arguments)||!1}))},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var Ha={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};c.each(["live","die"],function(a,b){c.fn[b]=function(a,e,f,h){var g,k=0,l,n,m=h||this.selector;
h=h?this:c(this.context);if("object"===typeof a&&!a.preventDefault){for(g in a)h[b](g,e,a[g],m);return this}c.isFunction(e)&&(f=e,e=p);for(a=(a||"").split(" ");null!=(g=a[k++]);)if(l=R.exec(g),n="",l&&(n=l[0],g=g.replace(R,"")),"hover"===g)a.push("mouseenter"+n,"mouseleave"+n);else if(l=g,"focus"===g||"blur"===g?(a.push(Ha[g]+n),g+=n):g=(Ha[g]||g)+n,"live"===b){n=0;for(var t=h.length;n<t;n++)c.event.add(h[n],"live."+W(g,m),{data:e,selector:m,handler:f,origType:g,origHandler:f,preType:l})}else h.unbind("live."+
W(g,m),f);return this}});c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){c.fn[b]=function(a,c){null==c&&(c=a,a=null);return 0<arguments.length?this.bind(b,a,c):this.trigger(b)};c.attrFn&&(c.attrFn[b]=!0)});(function(){function a(a,b,c,d,e,f){e=0;for(var h=d.length;e<h;e++){var g=d[e];if(g){for(var k=!1,g=g[a];g;){if(g.sizcache===
c){k=d[g.sizset];break}1===g.nodeType&&!f&&(g.sizcache=c,g.sizset=e);if(g.nodeName.toLowerCase()===b){k=g;break}g=g[a]}d[e]=k}}}function b(a,b,c,d,e,f){e=0;for(var h=d.length;e<h;e++){var g=d[e];if(g){for(var k=!1,g=g[a];g;){if(g.sizcache===c){k=d[g.sizset];break}if(1===g.nodeType)if(f||(g.sizcache=c,g.sizset=e),"string"!==typeof b){if(g===b){k=!0;break}}else if(0<n.filter(b,[g]).length){k=g;break}g=g[a]}d[e]=k}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
e=0,f=Object.prototype.toString,h=!1,g=!0,k=/\\/g,l=/\W/;[0,0].sort(function(){g=!1;return 0});var n=function(a,b,c,e){c=c||[];var h=b=b||m;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!==typeof a)return c;var g,k,l,p,s,w=!0,y=n.isXML(b),u=[],z=a;do if(d.exec(""),g=d.exec(z))if(z=g[3],u.push(g[1]),g[2]){p=g[3];break}while(g);if(1<u.length&&t.exec(a))if(2===u.length&&q.relative[u[0]])k=x(u[0]+u[1],b);else for(k=q.relative[u[0]]?[b]:n(u.shift(),b);u.length;)a=u.shift(),q.relative[a]&&(a+=
u.shift()),k=x(a,k);else if(!e&&(1<u.length&&9===b.nodeType&&!y&&q.match.ID.test(u[0])&&!q.match.ID.test(u[u.length-1]))&&(g=n.find(u.shift(),b,y),b=g.expr?n.filter(g.expr,g.set)[0]:g.set[0]),b){g=e?{expr:u.pop(),set:v(e)}:n.find(u.pop(),1===u.length&&("~"===u[0]||"+"===u[0])&&b.parentNode?b.parentNode:b,y);k=g.expr?n.filter(g.expr,g.set):g.set;for(0<u.length?l=v(k):w=!1;u.length;)g=s=u.pop(),q.relative[s]?g=u.pop():s="",null==g&&(g=b),q.relative[s](l,g,y)}else l=[];l||(l=k);l||n.error(s||a);if("[object Array]"===
f.call(l))if(w)if(b&&1===b.nodeType)for(a=0;null!=l[a];a++)l[a]&&(!0===l[a]||1===l[a].nodeType&&n.contains(b,l[a]))&&c.push(k[a]);else for(a=0;null!=l[a];a++)l[a]&&1===l[a].nodeType&&c.push(k[a]);else c.push.apply(c,l);else v(l,c);p&&(n(p,h,c,e),n.uniqueSort(c));return c};n.uniqueSort=function(a){if(w&&(h=g,a.sort(w),h))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a};n.matches=function(a,b){return n(a,null,null,b)};n.matchesSelector=function(a,b){return 0<n(b,null,null,[a]).length};
n.find=function(a,b,c){var d;if(!a)return[];for(var e=0,f=q.order.length;e<f;e++){var g,h=q.order[e];if(g=q.leftMatch[h].exec(a)){var l=g[1];g.splice(1,1);if("\\"!==l.substr(l.length-1)&&(g[1]=(g[1]||"").replace(k,""),d=q.find[h](g,b,c),null!=d)){a=a.replace(q.match[h],"");break}}}d||(d="undefined"!==typeof b.getElementsByTagName?b.getElementsByTagName("*"):[]);return{set:d,expr:a}};n.filter=function(a,b,c,d){for(var e,f,g=a,h=[],k=b,l=b&&b[0]&&n.isXML(b[0]);a&&b.length;){for(var m in q.filter)if(null!=
(e=q.leftMatch[m].exec(a))&&e[2]){var s,u,t=q.filter[m];u=e[1];f=!1;e.splice(1,1);if("\\"!==u.substr(u.length-1)){k===h&&(h=[]);if(q.preFilter[m])if(e=q.preFilter[m](e,k,c,h,d,l)){if(!0===e)continue}else f=s=!0;if(e)for(var v=0;null!=(u=k[v]);v++)if(u){s=t(u,e,v,k);var w=d^!!s;c&&null!=s?w?f=!0:k[v]=!1:w&&(h.push(u),f=!0)}if(s!==p){c||(k=h);a=a.replace(q.match[m],"");if(!f)return[];break}}}if(a===g)if(null==f)n.error(a);else break;g=a}return k};n.error=function(a){throw"Syntax error, unrecognized expression: "+
a;};var q=n.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,
PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c="string"===typeof b,d=c&&!l.test(b),c=c&&!d;d&&(b=b.toLowerCase());for(var d=0,e=a.length,f;d<e;d++)if(f=a[d]){for(;(f=f.previousSibling)&&1!==f.nodeType;);a[d]=c||f&&f.nodeName.toLowerCase()===b?f||!1:f===b}c&&n.filter(b,
a,!0)},"\x3e":function(a,b){var c,d="string"===typeof b,e=0,f=a.length;if(d&&!l.test(b))for(b=b.toLowerCase();e<f;e++){if(c=a[e])c=c.parentNode,a[e]=c.nodeName.toLowerCase()===b?c:!1}else{for(;e<f;e++)(c=a[e])&&(a[e]=d?c.parentNode:c.parentNode===b);d&&n.filter(b,a,!0)}},"":function(c,d,f){var g,h=e++,k=b;"string"===typeof d&&!l.test(d)&&(g=d=d.toLowerCase(),k=a);k("parentNode",d,h,c,g,f)},"~":function(c,d,f){var g,h=e++,k=b;"string"===typeof d&&!l.test(d)&&(g=d=d.toLowerCase(),k=a);k("previousSibling",
d,h,c,g,f)}},find:{ID:function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if("undefined"!==typeof b.getElementsByName){for(var c=[],d=b.getElementsByName(a[1]),e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return 0===c.length?null:c}},TAG:function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(k,
"")+" ";if(f)return a;f=0;for(var g;null!=(g=b[f]);f++)g&&(e^(g.className&&0<=(" "+g.className+" ").replace(/[\t\n\r]/g," ").indexOf(a))?c||d.push(g):c&&(b[f]=!1));return!1},ID:function(a){return a[1].replace(k,"")},TAG:function(a,b){return a[1].replace(k,"").toLowerCase()},CHILD:function(a){if("nth"===a[1]){a[2]||n.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-
0;a[3]=b[3]-0}else a[2]&&n.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){b=a[1]=a[1].replace(k,"");!f&&q.attrMap[b]&&(a[1]=q.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(k,"");"~\x3d"===a[2]&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,c,e,f){if("not"===a[1])if(1<(d.exec(a[3])||"").length||/^\w/.test(a[3]))a[3]=n(a[3],null,null,b);else return a=n.filter(a[3],b,c,1^f),c||e.push.apply(e,a),!1;else if(q.match.POS.test(a[0])||q.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);
return a}},filters:{enabled:function(a){return!1===a.disabled&&"hidden"!==a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!n(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.getAttribute("type")},radio:function(a){return"radio"===
a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||"button"===a.nodeName.toLowerCase()},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,c,d){return b===
d.length-1},even:function(a,b){return 0===b%2},odd:function(a,b){return 1===b%2},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=q.filters[e];if(f)return f(a,c,b,d);if("contains"===e)return 0<=(a.textContent||a.innerText||n.getText([a])||"").indexOf(b[3]);if("not"===e){b=b[3];c=0;for(d=b.length;c<d;c++)if(b[c]===a)return!1;return!0}n.error(e)},CHILD:function(a,
b){var c=b[1],d=a;switch(c){case "only":case "first":for(;d=d.previousSibling;)if(1===d.nodeType)return!1;if("first"===c)return!0;d=a;case "last":for(;d=d.nextSibling;)if(1===d.nodeType)return!1;return!0;case "nth":var c=b[2],e=b[3];if(1===c&&0===e)return!0;var f=b[0],g=a.parentNode;if(g&&(g.sizcache!==f||!a.nodeIndex)){for(var h=0,d=g.firstChild;d;d=d.nextSibling)1===d.nodeType&&(d.nodeIndex=++h);g.sizcache=f}d=a.nodeIndex-e;return 0===c?0===d:0===d%c&&0<=d/c}},ID:function(a,b){return 1===a.nodeType&&
a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return-1<(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)},ATTR:function(a,b){var c=b[1],c=q.attrHandle[c]?q.attrHandle[c](a):null!=a[c]?a[c]:a.getAttribute(c),d=c+"",e=b[2],f=b[4];return null==c?"!\x3d"===e:"\x3d"===e?d===f:"*\x3d"===e?0<=d.indexOf(f):"~\x3d"===e?0<=(" "+d+" ").indexOf(f):!f?d&&!1!==c:"!\x3d"===e?d!==f:"^\x3d"===e?0===d.indexOf(f):"$\x3d"===e?d.substr(d.length-
f.length)===f:"|\x3d"===e?d===f||d.substr(0,f.length+1)===f+"-":!1},POS:function(a,b,c,d){var e=q.setFilters[b[2]];if(e)return e(a,c,b,d)}}},t=q.match.POS,y=function(a,b){return"\\"+(b-0+1)},s;for(s in q.match)q.match[s]=RegExp(q.match[s].source+/(?![^\[]*\])(?![^\(]*\))/.source),q.leftMatch[s]=RegExp(/(^(?:.|\r|\n)*?)/.source+q.match[s].source.replace(/\\(\d+)/g,y));var v=function(a,b){a=Array.prototype.slice.call(a,0);return b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(m.documentElement.childNodes,
0)[0].nodeType}catch(z){v=function(a,b){var c=0,d=b||[];if("[object Array]"===f.call(a))Array.prototype.push.apply(d,a);else if("number"===typeof a.length)for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var w,O;m.documentElement.compareDocumentPosition?w=function(a,b){return a===b?(h=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(w=function(a,b){var c,d,e=[],f=[];c=a.parentNode;d=b.parentNode;
var g=c;if(a===b)return h=!0,0;if(c===d)return O(a,b);if(c){if(!d)return 1}else return-1;for(;g;)e.unshift(g),g=g.parentNode;for(g=d;g;)f.unshift(g),g=g.parentNode;c=e.length;d=f.length;for(g=0;g<c&&g<d;g++)if(e[g]!==f[g])return O(e[g],f[g]);return g===c?O(a,f[g],-1):O(e[g],b,1)},O=function(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1});n.getText=function(a){for(var b="",c,d=0;a[d];d++)c=a[d],3===c.nodeType||4===c.nodeType?b+=c.nodeValue:8!==c.nodeType&&
(b+=n.getText(c.childNodes));return b};(function(){var a=m.createElement("div"),b="script"+(new Date).getTime(),c=m.documentElement;a.innerHTML="\x3ca name\x3d'"+b+"'/\x3e";c.insertBefore(a,c.firstChild);m.getElementById(b)&&(q.find.ID=function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(b=b.getElementById(a[1]))?b.id===a[1]||"undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id").nodeValue===a[1]?[b]:p:[]},q.filter.ID=function(a,b){var c="undefined"!==typeof a.getAttributeNode&&
a.getAttributeNode("id");return 1===a.nodeType&&c&&c.nodeValue===b});c.removeChild(a);c=a=null})();(function(){var a=m.createElement("div");a.appendChild(m.createComment(""));0<a.getElementsByTagName("*").length&&(q.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var d=[],e=0;c[e];e++)1===c[e].nodeType&&d.push(c[e]);c=d}return c});a.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e";a.firstChild&&("undefined"!==typeof a.firstChild.getAttribute&&"#"!==a.firstChild.getAttribute("href"))&&
(q.attrHandle.href=function(a){return a.getAttribute("href",2)});a=null})();m.querySelectorAll&&function(){var a=n,b=m.createElement("div");b.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e";if(!(b.querySelectorAll&&0===b.querySelectorAll(".TEST").length)){n=function(b,c,d,e){c=c||m;if(!e&&!n.isXML(c)){var f=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(f&&(1===c.nodeType||9===c.nodeType)){if(f[1])return v(c.getElementsByTagName(b),d);if(f[2]&&q.find.CLASS&&c.getElementsByClassName)return v(c.getElementsByClassName(f[2]),
d)}if(9===c.nodeType){if("body"===b&&c.body)return v([c.body],d);if(f&&f[3]){var g=c.getElementById(f[3]);if(g&&g.parentNode){if(g.id===f[3])return v([g],d)}else return v([],d)}try{return v(c.querySelectorAll(b),d)}catch(h){}}else if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){var f=c,k=(g=c.getAttribute("id"))||"__sizzle__",l=c.parentNode,p=/^\s*[+~]/.test(b);g?k=k.replace(/'/g,"\\$\x26"):c.setAttribute("id",k);p&&l&&(c=c.parentNode);try{if(!p||l)return v(c.querySelectorAll("[id\x3d'"+k+
"'] "+b),d)}catch(s){}finally{g||f.removeAttribute("id")}}}return a(b,c,d,e)};for(var c in a)n[c]=a[c];b=null}}();(function(){var a=m.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector,c=!1;try{b.call(m.documentElement,"[test!\x3d'']:sizzle")}catch(d){c=!0}b&&(n.matchesSelector=function(a,d){d=d.replace(/\=\s*([^'"\]]*)\s*\]/g,"\x3d'$1']");if(!n.isXML(a))try{if(c||!q.match.PSEUDO.test(d)&&!/!=/.test(d))return b.call(a,d)}catch(e){}return 0<n(d,
null,null,[a]).length})})();(function(){var a=m.createElement("div");a.innerHTML="\x3cdiv class\x3d'test e'\x3e\x3c/div\x3e\x3cdiv class\x3d'test'\x3e\x3c/div\x3e";a.getElementsByClassName&&0!==a.getElementsByClassName("e").length&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length&&(q.order.splice(1,0,"CLASS"),q.find.CLASS=function(a,b,c){if("undefined"!==typeof b.getElementsByClassName&&!c)return b.getElementsByClassName(a[1])},a=null))})();n.contains=m.documentElement.contains?
function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:m.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(){return!1};n.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1};var x=function(a,b){for(var c,d=[],e="",f=b.nodeType?[b]:b;c=q.match.PSEUDO.exec(a);)e+=c[0],a=a.replace(q.match.PSEUDO,"");a=q.relative[a]?a+"*":a;c=0;for(var g=f.length;c<g;c++)n(a,f[c],d);return n.filter(e,d)};c.find=n;c.expr=
n.selectors;c.expr[":"]=c.expr.filters;c.unique=n.uniqueSort;c.text=n.getText;c.isXMLDoc=n.isXML;c.contains=n.contains})();var nb=/Until$/,ob=/^(?:parents|prevUntil|prevAll)/,pb=/,/,$a=/^.[^:#\[\.,]*$/,qb=Array.prototype.slice,rb=c.expr.match.POS,sb={children:!0,contents:!0,next:!0,prev:!0};c.fn.extend({find:function(a){for(var b=this.pushStack("","find",a),d=0,e=0,f=this.length;e<f;e++)if(d=b.length,c.find(a,this[e],b),0<e)for(var h=d;h<b.length;h++)for(var g=0;g<d;g++)if(b[g]===b[h]){b.splice(h--,
1);break}return b},has:function(a){var b=c(a);return this.filter(function(){for(var a=0,e=b.length;a<e;a++)if(c.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(qa(this,a,!1),"not",a)},filter:function(a){return this.pushStack(qa(this,a,!0),"filter",a)},is:function(a){return!!a&&0<c.filter(a,this).length},closest:function(a,b){var d=[],e,f,h=this[0];if(c.isArray(a)){var g,k={},l=1;if(h&&a.length){e=0;for(f=a.length;e<f;e++)g=a[e],k[g]||(k[g]=c.expr.match.POS.test(g)?c(g,b||this.context):
g);for(;h&&h.ownerDocument&&h!==b;){for(g in k)e=k[g],(e.jquery?-1<e.index(h):c(h).is(e))&&d.push({selector:g,elem:h,level:l});h=h.parentNode;l++}}return d}g=rb.test(a)?c(a,b||this.context):null;e=0;for(f=this.length;e<f;e++)for(h=this[e];h;)if(g?-1<g.index(h):c.find.matchesSelector(h,a)){d.push(h);break}else if(h=h.parentNode,!h||!h.ownerDocument||h===b)break;d=1<d.length?c.unique(d):d;return this.pushStack(d,"closest",a)},index:function(a){return!a||"string"===typeof a?c.inArray(this[0],a?c(a):
this.parent().children()):c.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var d="string"===typeof a?c(a,b):c.makeArray(a),e=c.merge(this.get(),d);return this.pushStack(!d[0]||!d[0].parentNode||11===d[0].parentNode.nodeType||!e[0]||!e[0].parentNode||11===e[0].parentNode.nodeType?e:c.unique(e))},andSelf:function(){return this.add(this.prevObject)}});c.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return c.dir(a,"parentNode")},parentsUntil:function(a,
b,d){return c.dir(a,"parentNode",d)},next:function(a){return c.nth(a,2,"nextSibling")},prev:function(a){return c.nth(a,2,"previousSibling")},nextAll:function(a){return c.dir(a,"nextSibling")},prevAll:function(a){return c.dir(a,"previousSibling")},nextUntil:function(a,b,d){return c.dir(a,"nextSibling",d)},prevUntil:function(a,b,d){return c.dir(a,"previousSibling",d)},siblings:function(a){return c.sibling(a.parentNode.firstChild,a)},children:function(a){return c.sibling(a.firstChild)},contents:function(a){return c.nodeName(a,
"iframe")?a.contentDocument||a.contentWindow.document:c.makeArray(a.childNodes)}},function(a,b){c.fn[a]=function(d,e){var f=c.map(this,b,d),h=qb.call(arguments);nb.test(a)||(e=d);e&&"string"===typeof e&&(f=c.filter(e,f));f=1<this.length&&!sb[a]?c.unique(f):f;if((1<this.length||pb.test(e))&&ob.test(a))f=f.reverse();return this.pushStack(f,a,h.join(","))}});c.extend({filter:function(a,b,d){d&&(a=":not("+a+")");return 1===b.length?c.find.matchesSelector(b[0],a)?[b[0]]:[]:c.find.matches(a,b)},dir:function(a,
b,d){var e=[];for(a=a[b];a&&9!==a.nodeType&&(d===p||1!==a.nodeType||!c(a).is(d));)1===a.nodeType&&e.push(a),a=a[b];return e},nth:function(a,b,c,e){b=b||1;for(e=0;a&&!(1===a.nodeType&&++e===b);a=a[c]);return a},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var tb=/ jQuery\d+="(?:\d+|null)"/g,na=/^\s+/,Ia=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Ja=/<([\w:]+)/,ub=/<tbody/i,vb=/<|&#?\w+;/,Ka=/<(?:script|object|embed|option|style)/i,
La=/checked\s*(?:[^=]|=\s*.checked.)/i,x={option:[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"],legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],area:[1,"\x3cmap\x3e","\x3c/map\x3e"],_default:[0,
"",""]};x.optgroup=x.option;x.tbody=x.tfoot=x.colgroup=x.caption=x.thead;x.th=x.td;c.support.htmlSerialize||(x._default=[1,"div\x3cdiv\x3e","\x3c/div\x3e"]);c.fn.extend({text:function(a){return c.isFunction(a)?this.each(function(b){var d=c(this);d.text(a.call(this,b,d.text()))}):"object"!==typeof a&&a!==p?this.empty().append((this[0]&&this[0].ownerDocument||m).createTextNode(a)):c.text(this)},wrapAll:function(a){if(c.isFunction(a))return this.each(function(b){c(this).wrapAll(a.call(this,b))});if(this[0]){var b=
c(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return c.isFunction(a)?this.each(function(b){c(this).wrapInner(a.call(this,b))}):this.each(function(){var b=c(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){c(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){c.nodeName(this,
"body")||c(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=c(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,
"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,c(arguments[0]).toArray());return a}},remove:function(a,b){for(var d=0,e;null!=(e=this[d]);d++)if(!a||c.filter(a,[e]).length)!b&&1===e.nodeType&&(c.cleanData(e.getElementsByTagName("*")),c.cleanData([e])),e.parentNode&&e.parentNode.removeChild(e);return this},
empty:function(){for(var a=0,b;null!=(b=this[a]);a++)for(1===b.nodeType&&c.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return c.clone(this,a,b)})},html:function(a){if(a===p)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(tb,""):null;if("string"===typeof a&&!Ka.test(a)&&(c.support.leadingWhitespace||!na.test(a))&&!x[(Ja.exec(a)||["",""])[1].toLowerCase()]){a=
a.replace(Ia,"\x3c$1\x3e\x3c/$2\x3e");try{for(var b=0,d=this.length;b<d;b++)1===this[b].nodeType&&(c.cleanData(this[b].getElementsByTagName("*")),this[b].innerHTML=a)}catch(e){this.empty().append(a)}}else c.isFunction(a)?this.each(function(b){var d=c(this);d.html(a.call(this,b,d.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(c.isFunction(a))return this.each(function(b){var d=c(this),e=d.html();d.replaceWith(a.call(this,b,e))});"string"!==
typeof a&&(a=c(a).detach());return this.each(function(){var b=this.nextSibling,d=this.parentNode;c(this).remove();b?c(b).before(a):c(d).append(a)})}return this.pushStack(c(c.isFunction(a)?a():a),"replaceWith",a)},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,d){var e,f,h,g=a[0],k=[];if(!c.support.checkClone&&3===arguments.length&&"string"===typeof g&&La.test(g))return this.each(function(){c(this).domManip(a,b,d,!0)});if(c.isFunction(g))return this.each(function(e){var f=c(this);
a[0]=g.call(this,e,b?f.html():p);f.domManip(a,b,d)});if(this[0]){e=g&&g.parentNode;e=c.support.parentNode&&e&&11===e.nodeType&&e.childNodes.length===this.length?{fragment:e}:c.buildFragment(a,this,k);h=e.fragment;if(f=1===h.childNodes.length?h=h.firstChild:h.firstChild){b=b&&c.nodeName(f,"tr");f=0;for(var l=this.length,n=l-1;f<l;f++)d.call(b?c.nodeName(this[f],"table")?this[f].getElementsByTagName("tbody")[0]||this[f].appendChild(this[f].ownerDocument.createElement("tbody")):this[f]:this[f],e.cacheable||
1<l&&f<n?c.clone(h,!0,!0):h)}k.length&&c.each(k,ab)}return this}});c.buildFragment=function(a,b,d){var e,f,h;b=b&&b[0]?b[0].ownerDocument||b[0]:m;if(1===a.length&&"string"===typeof a[0]&&512>a[0].length&&b===m&&"\x3c"===a[0].charAt(0)&&!Ka.test(a[0])&&(c.support.checkClone||!La.test(a[0])))f=!0,(h=c.fragments[a[0]])&&1!==h&&(e=h);e||(e=b.createDocumentFragment(),c.clean(a,b,e,d));f&&(c.fragments[a[0]]=h?e:1);return{fragment:e,cacheable:f}};c.fragments={};c.each({appendTo:"append",prependTo:"prepend",
insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){c.fn[a]=function(d){var e=[];d=c(d);var f=1===this.length&&this[0].parentNode;if(f&&11===f.nodeType&&1===f.childNodes.length&&1===d.length)return d[b](this[0]),this;for(var f=0,h=d.length;f<h;f++){var g=(0<f?this.clone(!0):this).get();c(d[f])[b](g);e=e.concat(g)}return this.pushStack(e,a,d.selector)}});c.extend({clone:function(a,b,d){var e=a.cloneNode(!0),f,h,g;if((!c.support.noCloneEvent||!c.support.noCloneChecked)&&
(1===a.nodeType||11===a.nodeType)&&!c.isXMLDoc(a)){sa(a,e);f=X(a);h=X(e);for(g=0;f[g];++g)sa(f[g],h[g])}if(b&&(ra(a,e),d)){f=X(a);h=X(e);for(g=0;f[g];++g)ra(f[g],h[g])}return e},clean:function(a,b,d,e){b=b||m;"undefined"===typeof b.createElement&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||m);for(var f=[],h=0,g;null!=(g=a[h]);h++)if("number"===typeof g&&(g+=""),g){if("string"===typeof g&&!vb.test(g))g=b.createTextNode(g);else if("string"===typeof g){g=g.replace(Ia,"\x3c$1\x3e\x3c/$2\x3e");var k=
(Ja.exec(g)||["",""])[1].toLowerCase(),l=x[k]||x._default,n=l[0],q=b.createElement("div");for(q.innerHTML=l[1]+g+l[2];n--;)q=q.lastChild;if(!c.support.tbody){n=ub.test(g);k="table"===k&&!n?q.firstChild&&q.firstChild.childNodes:"\x3ctable\x3e"===l[1]&&!n?q.childNodes:[];for(l=k.length-1;0<=l;--l)c.nodeName(k[l],"tbody")&&!k[l].childNodes.length&&k[l].parentNode.removeChild(k[l])}!c.support.leadingWhitespace&&na.test(g)&&q.insertBefore(b.createTextNode(na.exec(g)[0]),q.firstChild);g=q.childNodes}g.nodeType?
f.push(g):f=c.merge(f,g)}if(d)for(h=0;f[h];h++)e&&c.nodeName(f[h],"script")&&(!f[h].type||"text/javascript"===f[h].type.toLowerCase())?e.push(f[h].parentNode?f[h].parentNode.removeChild(f[h]):f[h]):(1===f[h].nodeType&&f.splice.apply(f,[h+1,0].concat(c.makeArray(f[h].getElementsByTagName("script")))),d.appendChild(f[h]));return f},cleanData:function(a){for(var b,d,e=c.cache,f=c.expando,h=c.event.special,g=c.support.deleteExpando,k=0,l;null!=(l=a[k]);k++)if(!l.nodeName||!c.noData[l.nodeName.toLowerCase()])if(d=
l[c.expando]){if((b=e[d]&&e[d][f])&&b.events){for(var n in b.events)h[n]?c.event.remove(l,n):c.removeEvent(l,n,b.handle);b.handle&&(b.handle.elem=null)}g?delete l[c.expando]:l.removeAttribute&&l.removeAttribute(c.expando);delete e[d]}}});var Ma=/alpha\([^)]*\)/i,wb=/opacity=([^)]*)/,xb=/-([a-z])/ig,yb=/([A-Z])/g,Na=/^-?\d+(?:px)?$/i,zb=/^-?\d/,Ab={position:"absolute",visibility:"hidden",display:"block"},bb=["Left","Right"],cb=["Top","Bottom"],P,Oa,$,Bb=function(a,b){return b.toUpperCase()};c.fn.css=
function(a,b){return 2===arguments.length&&b===p?this:c.access(this,a,b,!0,function(a,b,f){return f!==p?c.style(a,b,f):c.css(a,b)})};c.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=P(a,"opacity","opacity");return""===c?"1":c}return a.style.opacity}}},cssNumber:{zIndex:!0,fontWeight:!0,opacity:!0,zoom:!0,lineHeight:!0},cssProps:{"float":c.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,d,e){if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){var f,h=c.camelCase(b),g=a.style,
k=c.cssHooks[h];b=c.cssProps[h]||h;if(d!==p){if(!("number"===typeof d&&isNaN(d)||null==d))if("number"===typeof d&&!c.cssNumber[h]&&(d+="px"),!k||!("set"in k)||(d=k.set(a,d))!==p)try{g[b]=d}catch(l){}}else return k&&"get"in k&&(f=k.get(a,!1,e))!==p?f:g[b]}},css:function(a,b,d){var e,f=c.camelCase(b),h=c.cssHooks[f];b=c.cssProps[f]||f;if(h&&"get"in h&&(e=h.get(a,!0,d))!==p)return e;if(P)return P(a,b,f)},swap:function(a,b,c){var e={},f;for(f in b)e[f]=a.style[f],a.style[f]=b[f];c.call(a);for(f in b)a.style[f]=
e[f]},camelCase:function(a){return a.replace(xb,Bb)}});c.curCSS=c.css;c.each(["height","width"],function(a,b){c.cssHooks[b]={get:function(a,e,f){var h;if(e)return 0!==a.offsetWidth?h=ta(a,b,f):c.swap(a,Ab,function(){h=ta(a,b,f)}),0>=h&&(h=P(a,b,b),"0px"===h&&$&&(h=$(a,b,b)),null!=h)?""===h||"auto"===h?"0px":h:0>h||null==h?(h=a.style[b],""===h||"auto"===h?"0px":h):"string"===typeof h?h:h+"px"},set:function(a,b){if(Na.test(b)){if(b=parseFloat(b),0<=b)return b+"px"}else return b}}});c.support.opacity||
(c.cssHooks.opacity={get:function(a,b){return wb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var d=a.style;d.zoom=1;var e=c.isNaN(b)?"":"alpha(opacity\x3d"+100*b+")",f=d.filter||"";d.filter=Ma.test(f)?f.replace(Ma,e):d.filter+" "+e}});m.defaultView&&m.defaultView.getComputedStyle&&(Oa=function(a,b,d){var e;d=d.replace(yb,"-$1").toLowerCase();if(!(b=a.ownerDocument.defaultView))return p;if(b=b.getComputedStyle(a,null))e=
b.getPropertyValue(d),""===e&&!c.contains(a.ownerDocument.documentElement,a)&&(e=c.style(a,d));return e});m.documentElement.currentStyle&&($=function(a,b){var c,e=a.currentStyle&&a.currentStyle[b],f=a.runtimeStyle&&a.runtimeStyle[b],h=a.style;!Na.test(e)&&zb.test(e)&&(c=h.left,f&&(a.runtimeStyle.left=a.currentStyle.left),h.left="fontSize"===b?"1em":e||0,e=h.pixelLeft+"px",h.left=c,f&&(a.runtimeStyle.left=f));return""===e?"auto":e});P=Oa||$;c.expr&&c.expr.filters&&(c.expr.filters.hidden=function(a){var b=
a.offsetHeight;return 0===a.offsetWidth&&0===b||!c.support.reliableHiddenOffsets&&"none"===(a.style.display||c.css(a,"display"))},c.expr.filters.visible=function(a){return!c.expr.filters.hidden(a)});var Cb=/%20/g,db=/\[\]$/,Pa=/\r?\n/g,Db=/#.*$/,Eb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Fb=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Gb=/^(?:GET|HEAD)$/,Hb=/^\/\//,Qa=/\?/,Ib=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Jb=/^(?:select|textarea)/i,
va=/\s+/,Kb=/([?&])_=[^&]*/,Lb=/(^|\-)([a-z])/g,Mb=function(a,b,c){return b+c.toUpperCase()},Ra=/^([\w\+\.\-]+:)\/\/([^\/?#:]*)(?::(\d+))?/,Sa=c.fn.load,da={},Ta={},C,G;try{C=m.location.href}catch(Sb){C=m.createElement("a"),C.href="",C=C.href}G=Ra.exec(C.toLowerCase());c.fn.extend({load:function(a,b,d){if("string"!==typeof a&&Sa)return Sa.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(0<=e){var f=a.slice(e,a.length);a=a.slice(0,e)}e="GET";b&&(c.isFunction(b)?(d=b,b=p):"object"===
typeof b&&(b=c.param(b,c.ajaxSettings.traditional),e="POST"));var h=this;c.ajax({url:a,type:e,dataType:"html",data:b,complete:function(a,b,e){e=a.responseText;a.isResolved()&&(a.done(function(a){e=a}),h.html(f?c("\x3cdiv\x3e").append(e.replace(Ib,"")).find(f):e));d&&h.each(d,[e,b,a])}});return this},serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?c.makeArray(this.elements):this}).filter(function(){return this.name&&
!this.disabled&&(this.checked||Jb.test(this.nodeName)||Fb.test(this.type))}).map(function(a,b){var d=c(this).val();return null==d?null:c.isArray(d)?c.map(d,function(a,c){return{name:b.name,value:a.replace(Pa,"\r\n")}}):{name:b.name,value:d.replace(Pa,"\r\n")}}).get()}});c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){c.fn[b]=function(a){return this.bind(b,a)}});c.each(["get","post"],function(a,b){c[b]=function(a,e,f,h){c.isFunction(e)&&(h=h||f,f=e,
e=p);return c.ajax({type:b,url:a,data:e,success:f,dataType:h})}});c.extend({getScript:function(a,b){return c.get(a,p,b,"script")},getJSON:function(a,b,d){return c.get(a,b,d,"json")},ajaxSetup:function(a,b){b?c.extend(!0,a,c.ajaxSettings,b):(b=a,a=c.extend(!0,c.ajaxSettings,b));for(var d in{context:1,url:1})d in b?a[d]=b[d]:d in c.ajaxSettings&&(a[d]=c.ajaxSettings[d]);return a},ajaxSettings:{url:C,isLocal:/(?:^file|^widget|\-extension):$/.test(G[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",
processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":c.parseJSON,"text xml":c.parseXML}},ajaxPrefilter:ua(da),ajaxTransport:ua(Ta),ajax:function(a,b){function d(a,b,d,m){if(2!==w){w=2;v&&clearTimeout(v);s=p;t=m||"";r.readyState=a?4:0;var q,y,z;if(d){m=
e;var C=r,B=m.contents,u=m.dataTypes,E=m.responseFields,D,A,L,G;for(A in E)A in d&&(C[E[A]]=d[A]);for(;"*"===u[0];)u.shift(),D===p&&(D=m.mimeType||C.getResponseHeader("content-type"));if(D)for(A in B)if(B[A]&&B[A].test(D)){u.unshift(A);break}if(u[0]in d)L=u[0];else{for(A in d){if(!u[0]||m.converters[A+" "+u[0]]){L=A;break}G||(G=A)}L=L||G}L?(L!==u[0]&&u.unshift(L),d=d[L]):d=void 0}else d=p;if(200<=a&&300>a||304===a){if(e.ifModified){if(D=r.getResponseHeader("Last-Modified"))c.lastModified[n]=D;if(D=
r.getResponseHeader("Etag"))c.etag[n]=D}if(304===a)b="notmodified",q=!0;else try{D=e;D.dataFilter&&(d=D.dataFilter(d,D.dataType));var H=D.dataTypes;A={};var F,I,P=H.length,J,M=H[0],T,K,N,Q,U;for(F=1;F<P;F++){if(1===F)for(I in D.converters)"string"===typeof I&&(A[I.toLowerCase()]=D.converters[I]);T=M;M=H[F];if("*"===M)M=T;else if("*"!==T&&T!==M){K=T+" "+M;N=A[K]||A["* "+M];if(!N)for(Q in U=p,A)if(J=Q.split(" "),J[0]===T||"*"===J[0])if(U=A[J[1]+" "+M]){Q=A[Q];!0===Q?N=U:!0===U&&(N=Q);break}!N&&!U&&
c.error("No conversion from "+K.replace(" "," to "));!0!==N&&(d=N?N(d):U(Q(d)))}}y=d;b="success";q=!0}catch(R){b="parsererror",z=R}}else if(z=b,!b||a)b="error",0>a&&(a=0);r.status=a;r.statusText=b;q?g.resolveWith(f,[y,b,r]):g.rejectWith(f,[r,b,z]);r.statusCode(l);l=p;x&&h.trigger("ajax"+(q?"Success":"Error"),[r,e,q?y:z]);k.resolveWith(f,[r,b]);x&&(h.trigger("ajaxComplete",[r,e]),--c.active||c.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=p);b=b||{};var e=c.ajaxSetup({},b),f=e.context||e,
h=f!==e&&(f.nodeType||f instanceof c)?c(f):c.event,g=c.Deferred(),k=c._Deferred(),l=e.statusCode||{},n,m={},t,y,s,v,z,w=0,x,C,r={readyState:0,setRequestHeader:function(a,b){w||(m[a.toLowerCase().replace(Lb,Mb)]=b);return this},getAllResponseHeaders:function(){return 2===w?t:null},getResponseHeader:function(a){var b;if(2===w){if(!y)for(y={};b=Eb.exec(t);)y[b[1].toLowerCase()]=b[2];b=y[a.toLowerCase()]}return b===p?null:b},overrideMimeType:function(a){w||(e.mimeType=a);return this},abort:function(a){a=
a||"abort";s&&s.abort(a);d(0,a);return this}};g.promise(r);r.success=r.done;r.error=r.fail;r.complete=k.done;r.statusCode=function(a){if(a){var b;if(2>w)for(b in a)l[b]=[l[b],a[b]];else b=a[r.status],r.then(b,b)}return this};e.url=((a||e.url)+"").replace(Db,"").replace(Hb,G[1]+"//");e.dataTypes=c.trim(e.dataType||"*").toLowerCase().split(va);e.crossDomain||(z=Ra.exec(e.url.toLowerCase()),e.crossDomain=!(!z||!(z[1]!=G[1]||z[2]!=G[2]||(z[3]||("http:"===z[1]?80:443))!=(G[3]||("http:"===G[1]?80:443)))));
e.data&&(e.processData&&"string"!==typeof e.data)&&(e.data=c.param(e.data,e.traditional));Y(da,e,b,r);if(2===w)return!1;x=e.global;e.type=e.type.toUpperCase();e.hasContent=!Gb.test(e.type);x&&0===c.active++&&c.event.trigger("ajaxStart");if(!e.hasContent&&(e.data&&(e.url+=(Qa.test(e.url)?"\x26":"?")+e.data),n=e.url,!1===e.cache)){z=c.now();var B=e.url.replace(Kb,"$1_\x3d"+z);e.url=B+(B===e.url?(Qa.test(e.url)?"\x26":"?")+"_\x3d"+z:"")}if(e.data&&e.hasContent&&!1!==e.contentType||b.contentType)m["Content-Type"]=
e.contentType;e.ifModified&&(n=n||e.url,c.lastModified[n]&&(m["If-Modified-Since"]=c.lastModified[n]),c.etag[n]&&(m["If-None-Match"]=c.etag[n]));m.Accept=e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+("*"!==e.dataTypes[0]?", */*; q\x3d0.01":""):e.accepts["*"];for(C in e.headers)r.setRequestHeader(C,e.headers[C]);if(e.beforeSend&&(!1===e.beforeSend.call(f,r,e)||2===w))return r.abort(),!1;for(C in{success:1,error:1,complete:1})r[C](e[C]);if(s=Y(Ta,e,b,r)){r.readyState=1;x&&h.trigger("ajaxSend",
[r,e]);e.async&&0<e.timeout&&(v=setTimeout(function(){r.abort("timeout")},e.timeout));try{w=1,s.send(m,d)}catch(E){2>status?d(-1,E):c.error(E)}}else d(-1,"No Transport");return r},param:function(a,b){var d=[],e=function(a,b){b=c.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"\x3d"+encodeURIComponent(b)};b===p&&(b=c.ajaxSettings.traditional);if(c.isArray(a)||a.jquery&&!c.isPlainObject(a))c.each(a,function(){e(this.name,this.value)});else for(var f in a)ea(f,a[f],b,e);return d.join("\x26").replace(Cb,
"+")}});c.extend({active:0,lastModified:{},etag:{}});var Nb=c.now(),aa=/(\=)\?(&|$)|()\?\?()/i;c.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return c.expando+"_"+Nb++}});c.ajaxPrefilter("json jsonp",function(a,b,d){var e="string"===typeof a.data;if("jsonp"===a.dataTypes[0]||b.jsonpCallback||null!=b.jsonp||!1!==a.jsonp&&(aa.test(a.url)||e&&aa.test(a.data))){var f,h=a.jsonpCallback=c.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,g=t[h];b=a.url;var k=a.data,l="$1"+h+"$2",n=function(){t[h]=
g;if(f&&c.isFunction(g))t[h](f[0])};!1!==a.jsonp&&(b=b.replace(aa,l),a.url===b&&(e&&(k=k.replace(aa,l)),a.data===k&&(b+=(/\?/.test(b)?"\x26":"?")+a.jsonp+"\x3d"+h)));a.url=b;a.data=k;t[h]=function(a){f=[a]};d.then(n,n);a.converters["script json"]=function(){f||c.error(h+" was not called");return f[0]};a.dataTypes[0]="json";return"script"}});c.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},
converters:{"text script":function(a){c.globalEval(a);return a}}});c.ajaxPrefilter("script",function(a){a.cache===p&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});c.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=m.head||m.getElementsByTagName("head")[0]||m.documentElement;return{send:function(e,f){b=m.createElement("script");b.async="async";a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,e){if(!b.readyState||/loaded|complete/.test(b.readyState))b.onload=
b.onreadystatechange=null,c&&b.parentNode&&c.removeChild(b),b=p,e||f(200,"success")};c.insertBefore(b,c.firstChild)},abort:function(){if(b)b.onload(0,1)}}}});var Ob=c.now(),H,J;c.ajaxSettings.xhr=t.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&wa()))a:{try{a=new t.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:wa;J=c.ajaxSettings.xhr();c.support.ajax=!!J;c.support.cors=J&&"withCredentials"in J;J=p;c.support.ajax&&c.ajaxTransport(function(a){if(!a.crossDomain||c.support.cors){var b;
return{send:function(d,e){var f=a.xhr(),h,g;a.username?f.open(a.type,a.url,a.async,a.username,a.password):f.open(a.type,a.url,a.async);if(a.xhrFields)for(g in a.xhrFields)f[g]=a.xhrFields[g];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType);if((!a.crossDomain||a.hasContent)&&!d["X-Requested-With"])d["X-Requested-With"]="XMLHttpRequest";try{for(g in d)f.setRequestHeader(g,d[g])}catch(k){}f.send(a.hasContent&&a.data||null);b=function(d,g){var k,m,t,s,v;try{if(b&&(g||4===f.readyState))if(b=
p,h&&(f.onreadystatechange=c.noop,delete H[h]),g)4!==f.readyState&&f.abort();else{k=f.status;t=f.getAllResponseHeaders();s={};if((v=f.responseXML)&&v.documentElement)s.xml=v;s.text=f.responseText;try{m=f.statusText}catch(z){m=""}!k&&a.isLocal&&!a.crossDomain?k=s.text?200:404:1223===k&&(k=204)}}catch(w){g||e(-1,w)}s&&e(k,m,s,t)};!a.async||4===f.readyState?b():(H||(H={},eb()),h=Ob++,f.onreadystatechange=H[h]=b)},abort:function(){b&&b(0,1)}}}});var fa={},Pb=/^(?:toggle|show|hide)$/,Qb=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,
ba,xa=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];c.fn.extend({show:function(a,b,d){if(a||0===a)return this.animate(F("show",3),a,b,d);d=0;for(var e=this.length;d<e;d++)a=this[d],b=a.style.display,!c._data(a,"olddisplay")&&"none"===b&&(b=a.style.display=""),""===b&&"none"===c.css(a,"display")&&c._data(a,"olddisplay",ya(a.nodeName));for(d=0;d<e;d++)if(a=this[d],b=a.style.display,""===b||"none"===
b)a.style.display=c._data(a,"olddisplay")||"";return this},hide:function(a,b,d){if(a||0===a)return this.animate(F("hide",3),a,b,d);a=0;for(b=this.length;a<b;a++)d=c.css(this[a],"display"),"none"!==d&&!c._data(this[a],"olddisplay")&&c._data(this[a],"olddisplay",d);for(a=0;a<b;a++)this[a].style.display="none";return this},_toggle:c.fn.toggle,toggle:function(a,b,d){var e="boolean"===typeof a;c.isFunction(a)&&c.isFunction(b)?this._toggle.apply(this,arguments):null==a||e?this.each(function(){var b=e?a:
c(this).is(":hidden");c(this)[b?"show":"hide"]()}):this.animate(F("toggle",3),a,b,d);return this},fadeTo:function(a,b,c,e){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,e)},animate:function(a,b,d,e){var f=c.speed(b,d,e);return c.isEmptyObject(a)?this.each(f.complete):this[!1===f.queue?"each":"queue"](function(){var b=c.extend({},f),d,e=1===this.nodeType,l=e&&c(this).is(":hidden"),n=this;for(d in a){var m=c.camelCase(d);d!==m&&(a[m]=a[d],delete a[d],d=m);if("hide"===
a[d]&&l||"show"===a[d]&&!l)return b.complete.call(this);if(e&&("height"===d||"width"===d))b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===c.css(this,"display")&&"none"===c.css(this,"float")&&(c.support.inlineBlockNeedsLayout?"inline"===ya(this.nodeName)?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1):this.style.display="inline-block");c.isArray(a[d])&&((b.specialEasing=b.specialEasing||{})[d]=a[d][1],a[d]=a[d][0])}null!=b.overflow&&
(this.style.overflow="hidden");b.curAnim=c.extend({},a);c.each(a,function(d,e){var f=new c.fx(n,b,d);if(Pb.test(e))f["toggle"===e?l?"show":"hide":e](a);else{var g=Qb.exec(e),k=f.cur();if(g){var m=parseFloat(g[2]),p=g[3]||(c.cssNumber[d]?"":"px");"px"!==p&&(c.style(n,d,(m||1)+p),k*=(m||1)/f.cur(),c.style(n,d,k+p));g[1]&&(m=("-\x3d"===g[1]?-1:1)*m+k);f.custom(k,m,p)}else f.custom(k,e,"")}});return!0})},stop:function(a,b){var d=c.timers;a&&this.queue([]);this.each(function(){for(var a=d.length-1;0<=
a;a--)if(d[a].elem===this){if(b)d[a](!0);d.splice(a,1)}});b||this.dequeue();return this}});c.each({slideDown:F("show",1),slideUp:F("hide",1),slideToggle:F("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){c.fn[a]=function(a,c,f){return this.animate(b,a,c,f)}});c.extend({speed:function(a,b,d){var e=a&&"object"===typeof a?c.extend({},a):{complete:d||!d&&b||c.isFunction(a)&&a,duration:a,easing:d&&b||b&&!c.isFunction(b)&&b};e.duration=c.fx.off?0:
"number"===typeof e.duration?e.duration:e.duration in c.fx.speeds?c.fx.speeds[e.duration]:c.fx.speeds._default;e.old=e.complete;e.complete=function(){!1!==e.queue&&c(this).dequeue();c.isFunction(e.old)&&e.old.call(this)};return e},easing:{linear:function(a,b,c,e){return c+e*a},swing:function(a,b,c,e){return(-Math.cos(a*Math.PI)/2+0.5)*e+c}},timers:[],fx:function(a,b,c){this.options=b;this.elem=a;this.prop=c;b.orig||(b.orig={})}});c.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,
this.now,this);(c.fx.step[this.prop]||c.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var a,b=c.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||"auto"===b?0:b:a},custom:function(a,b,d){function e(a){return f.step(a)}var f=this,h=c.fx;this.startTime=c.now();this.start=a;this.end=b;this.unit=d||this.unit||(c.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;e.elem=
this.elem;e()&&(c.timers.push(e)&&!ba)&&(ba=setInterval(h.tick,h.interval))},show:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.show=!0;this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur());c(this.elem).show()},hide:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(a){var b=c.now(),d=!0;if(a||b>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=
1;this.update();this.options.curAnim[this.prop]=!0;for(var e in this.options.curAnim)!0!==this.options.curAnim[e]&&(d=!1);if(d){if(null!=this.options.overflow&&!c.support.shrinkWrapBlocks){var f=this.elem,h=this.options;c.each(["","X","Y"],function(a,b){f.style["overflow"+b]=h.overflow[a]})}this.options.hide&&c(this.elem).hide();if(this.options.hide||this.options.show)for(var g in this.options.curAnim)c.style(this.elem,g,this.options.orig[g]);this.options.complete.call(this.elem)}return!1}a=b-this.startTime;
this.state=a/this.options.duration;b=this.options.easing||(c.easing.swing?"swing":"linear");this.pos=c.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||b](this.state,a,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update();return!0}};c.extend(c.fx,{tick:function(){for(var a=c.timers,b=0;b<a.length;b++)a[b]()||a.splice(b--,1);a.length||c.fx.stop()},interval:13,stop:function(){clearInterval(ba);ba=null},speeds:{slow:600,fast:200,_default:400},
step:{opacity:function(a){c.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=("width"===a.prop||"height"===a.prop?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}});c.expr&&c.expr.filters&&(c.expr.filters.animated=function(a){return c.grep(c.timers,function(b){return a===b.elem}).length});var Rb=/^t(?:able|d|h)$/i,Ua=/^(?:body|html)$/i;c.fn.offset="getBoundingClientRect"in m.documentElement?function(a){var b=this[0],d;if(a)return this.each(function(b){c.offset.setOffset(this,
a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);try{d=b.getBoundingClientRect()}catch(e){}var f=b.ownerDocument,h=f.documentElement;if(!d||!c.contains(h,b))return d?{top:d.top,left:d.left}:{top:0,left:0};b=f.body;f=ga(f);return{top:d.top+(f.pageYOffset||c.support.boxModel&&h.scrollTop||b.scrollTop)-(h.clientTop||b.clientTop||0),left:d.left+(f.pageXOffset||c.support.boxModel&&h.scrollLeft||b.scrollLeft)-(h.clientLeft||b.clientLeft||0)}}:function(a){var b=
this[0];if(a)return this.each(function(b){c.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);c.offset.initialize();var d,e=b.offsetParent,f=b.ownerDocument,h=f.documentElement,g=f.body;d=(f=f.defaultView)?f.getComputedStyle(b,null):b.currentStyle;for(var k=b.offsetTop,l=b.offsetLeft;(b=b.parentNode)&&(b!==g&&b!==h)&&!(c.offset.supportsFixedPosition&&"fixed"===d.position);){d=f?f.getComputedStyle(b,null):b.currentStyle;k-=b.scrollTop;
l-=b.scrollLeft;if(b===e){k+=b.offsetTop;l+=b.offsetLeft;if(c.offset.doesNotAddBorder&&(!c.offset.doesAddBorderForTableAndCells||!Rb.test(b.nodeName)))k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0;e=b.offsetParent}c.offset.subtractsBorderForOverflowNotVisible&&"visible"!==d.overflow&&(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0)}if("relative"===d.position||"static"===d.position)k+=g.offsetTop,l+=g.offsetLeft;c.offset.supportsFixedPosition&&"fixed"===
d.position&&(k+=Math.max(h.scrollTop,g.scrollTop),l+=Math.max(h.scrollLeft,g.scrollLeft));return{top:k,left:l}};c.offset={initialize:function(){var a=m.body,b=m.createElement("div"),d,e,f,h=parseFloat(c.css(a,"marginTop"))||0;c.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});b.innerHTML="\x3cdiv style\x3d'position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e\x3ctable style\x3d'position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding\x3d'0' cellspacing\x3d'0'\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e";
a.insertBefore(b,a.firstChild);d=b.firstChild;e=d.firstChild;f=d.nextSibling.firstChild.firstChild;this.doesNotAddBorder=5!==e.offsetTop;this.doesAddBorderForTableAndCells=5===f.offsetTop;e.style.position="fixed";e.style.top="20px";this.supportsFixedPosition=20===e.offsetTop||15===e.offsetTop;e.style.position=e.style.top="";d.style.overflow="hidden";d.style.position="relative";this.subtractsBorderForOverflowNotVisible=-5===e.offsetTop;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==h;a.removeChild(b);
c.offset.initialize=c.noop},bodyOffset:function(a){var b=a.offsetTop,d=a.offsetLeft;c.offset.initialize();c.offset.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(c.css(a,"marginTop"))||0,d+=parseFloat(c.css(a,"marginLeft"))||0);return{top:b,left:d}},setOffset:function(a,b,d){var e=c.css(a,"position");"static"===e&&(a.style.position="relative");var f=c(a),h=f.offset(),g=c.css(a,"top"),k=c.css(a,"left"),l="absolute"===e&&-1<c.inArray("auto",[g,k]),e={},m={};l&&(m=f.position());g=l?m.top:parseInt(g,
10)||0;k=l?m.left:parseInt(k,10)||0;c.isFunction(b)&&(b=b.call(a,d,h));null!=b.top&&(e.top=b.top-h.top+g);null!=b.left&&(e.left=b.left-h.left+k);"using"in b?b.using.call(a,e):f.css(e)}};c.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),d=this.offset(),e=Ua.test(b[0].nodeName)?{top:0,left:0}:b.offset();d.top-=parseFloat(c.css(a,"marginTop"))||0;d.left-=parseFloat(c.css(a,"marginLeft"))||0;e.top+=parseFloat(c.css(b[0],"borderTopWidth"))||0;e.left+=parseFloat(c.css(b[0],
"borderLeftWidth"))||0;return{top:d.top-e.top,left:d.left-e.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||m.body;a&&!Ua.test(a.nodeName)&&"static"===c.css(a,"position");)a=a.offsetParent;return a})}});c.each(["Left","Top"],function(a,b){var d="scroll"+b;c.fn[d]=function(b){var f=this[0],h;return!f?null:b!==p?this.each(function(){(h=ga(this))?h.scrollTo(!a?b:c(h).scrollLeft(),a?b:c(h).scrollTop()):this[d]=b}):(h=ga(f))?"pageXOffset"in h?h[a?"pageYOffset":"pageXOffset"]:
c.support.boxModel&&h.document.documentElement[d]||h.document.body[d]:f[d]}});c.each(["Height","Width"],function(a,b){var d=b.toLowerCase();c.fn["inner"+b]=function(){return this[0]?parseFloat(c.css(this[0],d,"padding")):null};c.fn["outer"+b]=function(a){return this[0]?parseFloat(c.css(this[0],d,a?"margin":"border")):null};c.fn[d]=function(a){var f=this[0];if(!f)return null==a?null:this;if(c.isFunction(a))return this.each(function(b){var f=c(this);f[d](a.call(this,b,f[d]()))});if(c.isWindow(f)){var h=
f.document.documentElement["client"+b];return"CSS1Compat"===f.document.compatMode&&h||f.document.body["client"+b]||h}return 9===f.nodeType?Math.max(f.documentElement["client"+b],f.body["scroll"+b],f.documentElement["scroll"+b],f.body["offset"+b],f.documentElement["offset"+b]):a===p?(f=c.css(f,d),h=parseFloat(f),c.isNaN(h)?f:h):this.css(d,"string"===typeof a?a:a+"px")}});t.jQuery=t.$=c})(window);
(function(c,k){function a(a){return!c(a).parents().andSelf().filter(function(){return"hidden"===c.curCSS(this,"visibility")||c.expr.filters.hidden(this)}).length}c.ui=c.ui||{};c.ui.version||(c.extend(c.ui,{version:"1.8.11",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,
PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),c.fn.extend({_focus:c.fn.focus,focus:function(a,b){return"number"===typeof a?this.each(function(){var e=this;setTimeout(function(){c(e).focus();b&&b.call(e)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;a=c.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.curCSS(this,
"position",1))&&/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?c(document):a},zIndex:function(a){if(a!==k)return this.css("zIndex",a);if(this.length){a=c(this[0]);for(var b;a.length&&a[0]!==document;){b=a.css("position");
if("absolute"===b||"relative"===b||"fixed"===b)if(b=parseInt(a.css("zIndex"),10),!isNaN(b)&&0!==b)return b;a=a.parent()}}return 0},disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(c){c.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),c.each(["Width","Height"],function(a,b){function e(b,a,d,e){c.each(f,function(){a-=parseFloat(c.curCSS(b,"padding"+this,!0))||0;d&&(a-=parseFloat(c.curCSS(b,
"border"+this+"Width",!0))||0);e&&(a-=parseFloat(c.curCSS(b,"margin"+this,!0))||0)});return a}var f="Width"===b?["Left","Right"]:["Top","Bottom"],g=b.toLowerCase(),h={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+b]=function(a){return a===k?h["inner"+b].call(this):this.each(function(){c(this).css(g,e(this,a)+"px")})};c.fn["outer"+b]=function(a,d){return"number"!==typeof a?h["outer"+b].call(this,a):this.each(function(){c(this).css(g,
e(this,a,!0,d)+"px")})}}),c.extend(c.expr[":"],{data:function(a,b,e){return!!c.data(a,e[3])},focusable:function(d){var b=d.nodeName.toLowerCase(),e=c.attr(d,"tabindex");if("area"===b){b=d.parentNode;e=b.name;if(!d.href||!e||"map"!==b.nodeName.toLowerCase())return!1;d=c("img[usemap\x3d#"+e+"]")[0];return!!d&&a(d)}return(/input|select|textarea|button|object/.test(b)?!d.disabled:"a"==b?d.href||!isNaN(e):!isNaN(e))&&a(d)},tabbable:function(a){var b=c.attr(a,"tabindex");return(isNaN(b)||0<=b)&&c(a).is(":focusable")}}),
c(function(){var a=document.body,b=a.appendChild(b=document.createElement("div"));c.extend(b.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});c.support.minHeight=100===b.offsetHeight;c.support.selectstart="onselectstart"in b;a.removeChild(b).style.display="none"}),c.extend(c.ui,{plugin:{add:function(a,b,e){a=c.ui[a].prototype;for(var f in e)a.plugins[f]=a.plugins[f]||[],a.plugins[f].push([b,e[f]])},call:function(a,b,c){if((b=a.plugins[b])&&a.element[0].parentNode)for(var f=0;f<b.length;f++)a.options[b[f][0]]&&
b[f][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(a,b){if("hidden"===c(a).css("overflow"))return!1;var e=b&&"left"===b?"scrollLeft":"scrollTop",f=!1;if(0<a[e])return!0;a[e]=1;f=0<a[e];a[e]=0;return f},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(a,b,e,f,g,h){return c.ui.isOverAxis(a,e,g)&&c.ui.isOverAxis(b,f,h)}}))})(jQuery);
(function(c,k){if(c.cleanData){var a=c.cleanData;c.cleanData=function(b){for(var e=0,d;null!=(d=b[e]);e++)c(d).triggerHandler("remove");a(b)}}else{var d=c.fn.remove;c.fn.remove=function(b,a){return this.each(function(){a||(!b||c.filter(b,[this]).length)&&c("*",this).add([this]).each(function(){c(this).triggerHandler("remove")});return d.call(c(this),b,a)})}}c.widget=function(b,a,d){var g=b.split(".")[0],h;b=b.split(".")[1];h=g+"-"+b;d||(d=a,a=c.Widget);c.expr[":"][h]=function(a){return!!c.data(a,
b)};c[g]=c[g]||{};c[g][b]=function(a,b){arguments.length&&this._createWidget(a,b)};a=new a;a.options=c.extend(!0,{},a.options);c[g][b].prototype=c.extend(!0,a,{namespace:g,widgetName:b,widgetEventPrefix:c[g][b].prototype.widgetEventPrefix||b,widgetBaseClass:h},d);c.widget.bridge(b,c[g][b])};c.widget.bridge=function(a,d){c.fn[a]=function(f){var g="string"===typeof f,h=Array.prototype.slice.call(arguments,1),m=this;f=!g&&h.length?c.extend.apply(null,[!0,f].concat(h)):f;if(g&&"_"===f.charAt(0))return m;
g?this.each(function(){var d=c.data(this,a),e=d&&c.isFunction(d[f])?d[f].apply(d,h):d;if(e!==d&&e!==k)return m=e,!1}):this.each(function(){var g=c.data(this,a);g?g.option(f||{})._init():c.data(this,a,new d(f,this))});return m}};c.Widget=function(a,c){arguments.length&&this._createWidget(a,c)};c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(a,d){c.data(d,this.widgetName,this);this.element=c(d);this.options=c.extend(!0,{},this.options,this._getCreateOptions(),
a);var f=this;this.element.bind("remove."+this.widgetName,function(){f.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return c.metadata&&c.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},
option:function(a,d){var f=a;if(0===arguments.length)return c.extend({},this.options);if("string"===typeof a){if(d===k)return this.options[a];f={};f[a]=d}this._setOptions(f);return this},_setOptions:function(a){var d=this;c.each(a,function(a,b){d._setOption(a,b)});return this},_setOption:function(a,c){this.options[a]=c;"disabled"===a&&this.widget()[c?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",c);return this},enable:function(){return this._setOption("disabled",
!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(a,d,f){var g=this.options[a];d=c.Event(d);d.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();f=f||{};if(d.originalEvent){a=c.event.props.length;for(var h;a;)h=c.event.props[--a],d[h]=d.originalEvent[h]}this.element.trigger(d,f);return!(c.isFunction(g)&&!1===g.call(this.element[0],d,f)||d.isDefaultPrevented())}}})(jQuery);
(function(c,k){c.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(c){return a._mouseDown(c)}).bind("click."+this.widgetName,function(d){if(!0===c.data(d.target,a.widgetName+".preventClickEvent"))return c.removeData(d.target,a.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(a){a.originalEvent=
a.originalEvent||{};if(!a.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(a);this._mouseDownEvent=a;var d=this,b=1==a.which,e="string"==typeof this.options.cancel?c(a.target).parents().add(a.target).filter(this.options.cancel).length:!1;if(!b||e||!this._mouseCapture(a))return!0;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=
!1!==this._mouseStart(a),!this._mouseStarted))return a.preventDefault(),!0;!0===c.data(a.target,this.widgetName+".preventClickEvent")&&c.removeData(a.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return d._mouseMove(a)};this._mouseUpDelegate=function(a){return d._mouseUp(a)};c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.preventDefault();return a.originalEvent.mouseHandled=!0}},_mouseMove:function(a){if(c.browser.msie&&
!(9<=document.documentMode)&&!a.button)return this._mouseUp(a);if(this._mouseStarted)return this._mouseDrag(a),a.preventDefault();this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,a))?this._mouseDrag(a):this._mouseUp(a));return!this._mouseStarted},_mouseUp:function(a){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=
!1,a.target==this._mouseDownEvent.target&&c.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return!0}})})(jQuery);
(function(c,k){c.widget("ui.draggable",c.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&
(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(a){var d=this.options;if(this.helper||d.disabled||c(a.target).is(".ui-resizable-handle"))return!1;
this.handle=this._getHandle(a);return!this.handle?!1:!0},_mouseStart:function(a){var d=this.options;this.helper=this._createHelper(a);this._cacheHelperProportions();c.ui.ddmanager&&(c.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};c.extend(this.offset,{click:{left:a.pageX-
this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt);d.containment&&this._setContainment();if(!1===this._trigger("start",a))return this._clear(),!1;this._cacheHelperProportions();c.ui.ddmanager&&!d.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,a);this.helper.addClass("ui-draggable-dragging");
this._mouseDrag(a,!0);return!0},_mouseDrag:function(a,d){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!d){var b=this._uiHash();if(!1===this._trigger("drag",a,b))return this._mouseUp({}),!1;this.position=b.position}if(!this.options.axis||"y"!=this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!=this.options.axis)this.helper[0].style.top=this.position.top+"px";c.ui.ddmanager&&c.ui.ddmanager.drag(this,a);return!1},
_mouseStop:function(a){var d=!1;c.ui.ddmanager&&!this.options.dropBehaviour&&(d=c.ui.ddmanager.drop(this,a));this.dropped&&(d=this.dropped,this.dropped=!1);if((!this.element[0]||!this.element[0].parentNode)&&"original"==this.options.helper)return!1;if("invalid"==this.options.revert&&!d||"valid"==this.options.revert&&d||!0===this.options.revert||c.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)){var b=this;c(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,
10),function(){!1!==b._trigger("stop",a)&&b._clear()})}else!1!==this._trigger("stop",a)&&this._clear();return!1},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(a){var d=!this.options.handle||!c(this.options.handle,this.element).length?!0:!1;c(this.options.handle,this.element).find("*").andSelf().each(function(){this==a.target&&(d=!0)});return d},_createHelper:function(a){var d=this.options;a=c.isFunction(d.helper)?c(d.helper.apply(this.element[0],
[a])):"clone"==d.helper?this.element.clone():this.element;a.parents("body").length||a.appendTo("parent"==d.appendTo?this.element[0].parentNode:d.appendTo);a[0]!=this.element[0]&&!/(fixed|absolute)/.test(a.css("position"))&&a.css("position","absolute");return a},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" "));c.isArray(a)&&(a={left:+a[0],top:+a[1]||0});"left"in a&&(this.offset.click.left=a.left+this.margins.left);"right"in a&&(this.offset.click.left=this.helperProportions.width-
a.right+this.margins.left);"top"in a&&(this.offset.click.top=a.top+this.margins.top);"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();"absolute"==this.cssPosition&&(this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0]))&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==
document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&c.browser.msie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),
10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;"parent"==a.containment&&
(a.containment=this.helper[0].parentNode);if("document"==a.containment||"window"==a.containment)this.containment=[("document"==a.containment?0:c(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,("document"==a.containment?0:c(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,("document"==a.containment?0:c(window).scrollLeft())+c("document"==a.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==a.containment?0:c(window).scrollTop())+
(c("document"==a.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){var d=c(a.containment)[0];if(d){var a=c(a.containment).offset(),b="hidden"!=c(d).css("overflow");this.containment=[a.left+(parseInt(c(d).css("borderLeftWidth"),10)||0)+(parseInt(c(d).css("paddingLeft"),10)||0),a.top+(parseInt(c(d).css("borderTopWidth"),10)||0)+(parseInt(c(d).css("paddingTop"),
10)||0),a.left+(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c(d).css("borderLeftWidth"),10)||0)-(parseInt(c(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,a.top+(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c(d).css("borderTopWidth"),10)||0)-(parseInt(c(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom]}}else a.containment.constructor==Array&&(this.containment=
a.containment)},_convertPositionTo:function(a,d){d||(d=this.position);var b="absolute"==a?1:-1,e="absolute"==this.cssPosition&&!(this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(e[0].tagName);return{top:d.top+this.offset.relative.top*b+this.offset.parent.top*b-(c.browser.safari&&526>c.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*
b),left:d.left+this.offset.relative.left*b+this.offset.parent.left*b-(c.browser.safari&&526>c.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*b)}},_generatePosition:function(a){var d=this.options,b="absolute"==this.cssPosition&&!(this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(b[0].tagName),f=a.pageX,g=a.pageY;this.originalPosition&&
(this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),d.grid&&(g=this.originalPageY+Math.round((g-this.originalPageY)/d.grid[1])*d.grid[1],g=this.containment?
!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:!(g-this.offset.click.top<this.containment[1])?g-d.grid[1]:g+d.grid[1]:g,f=this.originalPageX+Math.round((f-this.originalPageX)/d.grid[0])*d.grid[0],f=this.containment?!(f-this.offset.click.left<this.containment[0]||f-this.offset.click.left>this.containment[2])?f:!(f-this.offset.click.left<this.containment[0])?f-d.grid[0]:f+d.grid[0]:f));return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+
(c.browser.safari&&526>c.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:b.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(c.browser.safari&&526>c.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:b.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&
this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(a,d,b){b=b||this._uiHash();c.ui.plugin.call(this,a,[d,b]);"drag"==a&&(this.positionAbs=this._convertPositionTo("absolute"));return c.Widget.prototype._trigger.call(this,a,d,b)},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});c.extend(c.ui.draggable,{version:"1.8.11"});c.ui.plugin.add("draggable","connectToSortable",
{start:function(a,d){var b=c(this).data("draggable"),e=b.options,f=c.extend({},d,{item:b.element});b.sortables=[];c(e.connectToSortable).each(function(){var d=c.data(this,"sortable");d&&!d.options.disabled&&(b.sortables.push({instance:d,shouldRevert:d.options.revert}),d.refreshPositions(),d._trigger("activate",a,f))})},stop:function(a,d){var b=c(this).data("draggable"),e=c.extend({},d,{item:b.element});c.each(b.sortables,function(){this.instance.isOver?(this.instance.isOver=0,b.cancelHelperRemoval=
!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(a),this.instance.options.helper=this.instance.options._helper,"original"==b.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",a,e))})},drag:function(a,d){var b=c(this).data("draggable"),e=this;c.each(b.sortables,function(f){this.instance.positionAbs=b.positionAbs;this.instance.helperProportions=
b.helperProportions;this.instance.offset.click=b.offset.click;this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=c(e).clone().appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return d.helper[0]},a.target=this.instance.currentItem[0],this.instance._mouseCapture(a,!0),this.instance._mouseStart(a,!0,!0),this.instance.offset.click.top=
b.offset.click.top,this.instance.offset.click.left=b.offset.click.left,this.instance.offset.parent.left-=b.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=b.offset.parent.top-this.instance.offset.parent.top,b._trigger("toSortable",a),b.dropped=this.instance.element,b.currentItem=b.element,this.instance.fromOutside=b),this.instance.currentItem&&this.instance._mouseDrag(a)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=
!1,this.instance._trigger("out",a,this.instance._uiHash(this.instance)),this.instance._mouseStop(a,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),b._trigger("fromSortable",a),b.dropped=!1)})}});c.ui.plugin.add("draggable","cursor",{start:function(a,d){var b=c("body"),e=c(this).data("draggable").options;b.css("cursor")&&(e._cursor=b.css("cursor"));b.css("cursor",e.cursor)},stop:function(a,
d){var b=c(this).data("draggable").options;b._cursor&&c("body").css("cursor",b._cursor)}});c.ui.plugin.add("draggable","iframeFix",{start:function(a,d){var b=c(this).data("draggable").options;c(!0===b.iframeFix?"iframe":b.iframeFix).each(function(){c('\x3cdiv class\x3d"ui-draggable-iframeFix" style\x3d"background: #fff;"\x3e\x3c/div\x3e').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(c(this).offset()).appendTo("body")})},stop:function(a,
d){c("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});c.ui.plugin.add("draggable","opacity",{start:function(a,d){var b=c(d.helper),e=c(this).data("draggable").options;b.css("opacity")&&(e._opacity=b.css("opacity"));b.css("opacity",e.opacity)},stop:function(a,d){var b=c(this).data("draggable").options;b._opacity&&c(d.helper).css("opacity",b._opacity)}});c.ui.plugin.add("draggable","scroll",{start:function(a,d){var b=c(this).data("draggable");b.scrollParent[0]!=document&&
"HTML"!=b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(a,d){var b=c(this).data("draggable"),e=b.options,f=!1;if(b.scrollParent[0]!=document&&"HTML"!=b.scrollParent[0].tagName){if(!e.axis||"x"!=e.axis)b.overflowOffset.top+b.scrollParent[0].offsetHeight-a.pageY<e.scrollSensitivity?b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop+e.scrollSpeed:a.pageY-b.overflowOffset.top<e.scrollSensitivity&&(b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop-e.scrollSpeed);
if(!e.axis||"y"!=e.axis)b.overflowOffset.left+b.scrollParent[0].offsetWidth-a.pageX<e.scrollSensitivity?b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft+e.scrollSpeed:a.pageX-b.overflowOffset.left<e.scrollSensitivity&&(b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft-e.scrollSpeed)}else{if(!e.axis||"x"!=e.axis)a.pageY-c(document).scrollTop()<e.scrollSensitivity?f=c(document).scrollTop(c(document).scrollTop()-e.scrollSpeed):c(window).height()-(a.pageY-c(document).scrollTop())<
e.scrollSensitivity&&(f=c(document).scrollTop(c(document).scrollTop()+e.scrollSpeed));if(!e.axis||"y"!=e.axis)a.pageX-c(document).scrollLeft()<e.scrollSensitivity?f=c(document).scrollLeft(c(document).scrollLeft()-e.scrollSpeed):c(window).width()-(a.pageX-c(document).scrollLeft())<e.scrollSensitivity&&(f=c(document).scrollLeft(c(document).scrollLeft()+e.scrollSpeed))}!1!==f&&(c.ui.ddmanager&&!e.dropBehaviour)&&c.ui.ddmanager.prepareOffsets(b,a)}});c.ui.plugin.add("draggable","snap",{start:function(a,
d){var b=c(this).data("draggable"),e=b.options;b.snapElements=[];c(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var a=c(this),d=a.offset();this!=b.element[0]&&b.snapElements.push({item:this,width:a.outerWidth(),height:a.outerHeight(),top:d.top,left:d.left})})},drag:function(a,d){for(var b=c(this).data("draggable"),e=b.options,f=e.snapTolerance,g=d.offset.left,h=g+b.helperProportions.width,m=d.offset.top,k=m+b.helperProportions.height,l=b.snapElements.length-
1;0<=l;l--){var n=b.snapElements[l].left,q=n+b.snapElements[l].width,p=b.snapElements[l].top,r=p+b.snapElements[l].height;if(n-f<g&&g<q+f&&p-f<m&&m<r+f||n-f<g&&g<q+f&&p-f<k&&k<r+f||n-f<h&&h<q+f&&p-f<m&&m<r+f||n-f<h&&h<q+f&&p-f<k&&k<r+f){if("inner"!=e.snapMode){var s=Math.abs(p-k)<=f,t=Math.abs(r-m)<=f,u=Math.abs(n-h)<=f,v=Math.abs(q-g)<=f;s&&(d.position.top=b._convertPositionTo("relative",{top:p-b.helperProportions.height,left:0}).top-b.margins.top);t&&(d.position.top=b._convertPositionTo("relative",
{top:r,left:0}).top-b.margins.top);u&&(d.position.left=b._convertPositionTo("relative",{top:0,left:n-b.helperProportions.width}).left-b.margins.left);v&&(d.position.left=b._convertPositionTo("relative",{top:0,left:q}).left-b.margins.left)}var w=s||t||u||v;"outer"!=e.snapMode&&(s=Math.abs(p-m)<=f,t=Math.abs(r-k)<=f,u=Math.abs(n-g)<=f,v=Math.abs(q-h)<=f,s&&(d.position.top=b._convertPositionTo("relative",{top:p,left:0}).top-b.margins.top),t&&(d.position.top=b._convertPositionTo("relative",{top:r-b.helperProportions.height,
left:0}).top-b.margins.top),u&&(d.position.left=b._convertPositionTo("relative",{top:0,left:n}).left-b.margins.left),v&&(d.position.left=b._convertPositionTo("relative",{top:0,left:q-b.helperProportions.width}).left-b.margins.left));!b.snapElements[l].snapping&&(s||t||u||v||w)&&b.options.snap.snap&&b.options.snap.snap.call(b.element,a,c.extend(b._uiHash(),{snapItem:b.snapElements[l].item}));b.snapElements[l].snapping=s||t||u||v||w}else b.snapElements[l].snapping&&b.options.snap.release&&b.options.snap.release.call(b.element,
a,c.extend(b._uiHash(),{snapItem:b.snapElements[l].item})),b.snapElements[l].snapping=!1}}});c.ui.plugin.add("draggable","stack",{start:function(a,d){var b=c(this).data("draggable").options,b=c.makeArray(c(b.stack)).sort(function(a,b){return(parseInt(c(a).css("zIndex"),10)||0)-(parseInt(c(b).css("zIndex"),10)||0)});if(b.length){var e=parseInt(b[0].style.zIndex)||0;c(b).each(function(a){this.style.zIndex=e+a});this[0].style.zIndex=e+b.length}}});c.ui.plugin.add("draggable","zIndex",{start:function(a,
d){var b=c(d.helper),e=c(this).data("draggable").options;b.css("zIndex")&&(e._zIndex=b.css("zIndex"));b.css("zIndex",e.zIndex)},stop:function(a,d){var b=c(this).data("draggable").options;b._zIndex&&c(d.helper).css("zIndex",b._zIndex)}})})(jQuery);
var JSON;JSON||(JSON={});
(function(){function m(a){return 10>a?"0"+a:a}function r(a){s.lastIndex=0;return s.test(a)?'"'+a.replace(s,function(a){var c=u[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function p(a,l){var c,d,h,q,g=e,f,b=l[a];b&&("object"===typeof b&&"function"===typeof b.toJSON)&&(b=b.toJSON(a));"function"===typeof k&&(b=k.call(l,a,b));switch(typeof b){case "string":return r(b);case "number":return isFinite(b)?String(b):"null";case "boolean":case "null":return String(b);case "object":if(!b)return"null";
e+=n;f=[];if("[object Array]"===Object.prototype.toString.apply(b)){q=b.length;for(c=0;c<q;c+=1)f[c]=p(c,b)||"null";h=0===f.length?"[]":e?"[\n"+e+f.join(",\n"+e)+"\n"+g+"]":"["+f.join(",")+"]";e=g;return h}if(k&&"object"===typeof k){q=k.length;for(c=0;c<q;c+=1)"string"===typeof k[c]&&(d=k[c],(h=p(d,b))&&f.push(r(d)+(e?": ":":")+h))}else for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(h=p(d,b))&&f.push(r(d)+(e?": ":":")+h);h=0===f.length?"{}":e?"{\n"+e+f.join(",\n"+e)+"\n"+g+"}":"{"+f.join(",")+
"}";e=g;return h}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+m(this.getUTCMonth()+1)+"-"+m(this.getUTCDate())+"T"+m(this.getUTCHours())+":"+m(this.getUTCMinutes())+":"+m(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var t=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,n,u={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,l,c){var d;n=e="";if("number"===typeof c)for(d=0;d<c;d+=1)n+=" ";else"string"===typeof c&&(n=c);if((k=l)&&"function"!==typeof l&&("object"!==typeof l||"number"!==typeof l.length))throw Error("JSON.stringify");return p("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,e){function c(a,d){var g,f,b=a[d];if(b&&"object"===typeof b)for(g in b)Object.prototype.hasOwnProperty.call(b,g)&&(f=c(b,g),void 0!==f?b[g]=f:delete b[g]);return e.call(a,d,b)}var d;a=String(a);t.lastIndex=0;t.test(a)&&(a=a.replace(t,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"===typeof e?c({"":d},""):d;throw new SyntaxError("JSON.parse");})})();
(function(){var s=this,F=s._,p={},k=Array.prototype,q=Object.prototype,f=k.slice,G=k.unshift,H=q.toString,n=q.hasOwnProperty,v=k.forEach,w=k.map,x=k.reduce,y=k.reduceRight,z=k.filter,A=k.every,B=k.some,r=k.indexOf,C=k.lastIndexOf,q=Array.isArray,I=Object.keys,t=Function.prototype.bind,b=function(a){return new l(a)};"undefined"!==typeof module&&module.exports?(module.exports=b,b._=b):s._=b;b.VERSION="1.1.6";var h=b.each=b.forEach=function(a,c,d){if(null!=a)if(v&&a.forEach===v)a.forEach(c,d);else if(b.isNumber(a.length))for(var e=
0,m=a.length;e<m&&c.call(d,a[e],e,a)!==p;e++);else for(e in a)if(n.call(a,e)&&c.call(d,a[e],e,a)===p)break};b.map=function(a,c,b){var e=[];if(null==a)return e;if(w&&a.map===w)return a.map(c,b);h(a,function(a,g,J){e[e.length]=c.call(b,a,g,J)});return e};b.reduce=b.foldl=b.inject=function(a,c,d,e){var m=void 0!==d;null==a&&(a=[]);if(x&&a.reduce===x)return e&&(c=b.bind(c,e)),m?a.reduce(c,d):a.reduce(c);h(a,function(a,b,f){!m&&0===b?(d=a,m=!0):d=c.call(e,d,a,b,f)});if(!m)throw new TypeError("Reduce of empty array with no initial value");
return d};b.reduceRight=b.foldr=function(a,c,d,e){null==a&&(a=[]);if(y&&a.reduceRight===y)return e&&(c=b.bind(c,e)),void 0!==d?a.reduceRight(c,d):a.reduceRight(c);a=(b.isArray(a)?a.slice():b.toArray(a)).reverse();return b.reduce(a,c,d,e)};b.find=b.detect=function(a,c,b){var e;D(a,function(a,g,f){if(c.call(b,a,g,f))return e=a,!0});return e};b.filter=b.select=function(a,c,b){var e=[];if(null==a)return e;if(z&&a.filter===z)return a.filter(c,b);h(a,function(a,g,f){c.call(b,a,g,f)&&(e[e.length]=a)});return e};
b.reject=function(a,c,b){var e=[];if(null==a)return e;h(a,function(a,g,f){c.call(b,a,g,f)||(e[e.length]=a)});return e};b.every=b.all=function(a,c,b){var e=!0;if(null==a)return e;if(A&&a.every===A)return a.every(c,b);h(a,function(a,g,f){if(!(e=e&&c.call(b,a,g,f)))return p});return e};var D=b.some=b.any=function(a,c,d){c||(c=b.identity);var e=!1;if(null==a)return e;if(B&&a.some===B)return a.some(c,d);h(a,function(a,b,f){if(e=c.call(d,a,b,f))return p});return e};b.include=b.contains=function(a,c){var b=
!1;if(null==a)return b;if(r&&a.indexOf===r)return-1!=a.indexOf(c);D(a,function(a){if(b=a===c)return!0});return b};b.invoke=function(a,c){var d=f.call(arguments,2);return b.map(a,function(a){return(c.call?c||a:a[c]).apply(a,d)})};b.pluck=function(a,c){return b.map(a,function(a){return a[c]})};b.max=function(a,c,d){if(!c&&b.isArray(a))return Math.max.apply(Math,a);var e={computed:-Infinity};h(a,function(a,b,f){b=c?c.call(d,a,b,f):a;b>=e.computed&&(e={value:a,computed:b})});return e.value};b.min=function(a,
c,d){if(!c&&b.isArray(a))return Math.min.apply(Math,a);var e={computed:Infinity};h(a,function(a,b,f){b=c?c.call(d,a,b,f):a;b<e.computed&&(e={value:a,computed:b})});return e.value};b.sortBy=function(a,c,d){return b.pluck(b.map(a,function(a,b,f){return{value:a,criteria:c.call(d,a,b,f)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0}),"value")};b.sortedIndex=function(a,c,d){d||(d=b.identity);for(var e=0,f=a.length;e<f;){var g=e+f>>1;d(a[g])<d(c)?e=g+1:f=g}return e};b.toArray=
function(a){return!a?[]:a.toArray?a.toArray():b.isArray(a)?a:b.isArguments(a)?f.call(a):b.values(a)};b.size=function(a){return b.toArray(a).length};b.first=b.head=function(a,b,d){return null!=b&&!d?f.call(a,0,b):a[0]};b.rest=b.tail=function(a,b,d){return f.call(a,null==b||d?1:b)};b.last=function(a){return a[a.length-1]};b.compact=function(a){return b.filter(a,function(a){return!!a})};b.flatten=function(a){return b.reduce(a,function(a,d){if(b.isArray(d))return a.concat(b.flatten(d));a[a.length]=d;
return a},[])};b.without=function(a){var c=f.call(arguments,1);return b.filter(a,function(a){return!b.include(c,a)})};b.uniq=b.unique=function(a,c){return b.reduce(a,function(a,e,f){if(0==f||(!0===c?b.last(a)!=e:!b.include(a,e)))a[a.length]=e;return a},[])};b.intersect=function(a){var c=f.call(arguments,1);return b.filter(b.uniq(a),function(a){return b.every(c,function(c){return 0<=b.indexOf(c,a)})})};b.zip=function(){for(var a=f.call(arguments),c=b.max(b.pluck(a,"length")),d=Array(c),e=0;e<c;e++)d[e]=
b.pluck(a,""+e);return d};b.indexOf=function(a,c,d){if(null==a)return-1;var e;if(d)return d=b.sortedIndex(a,c),a[d]===c?d:-1;if(r&&a.indexOf===r)return a.indexOf(c);d=0;for(e=a.length;d<e;d++)if(a[d]===c)return d;return-1};b.lastIndexOf=function(a,b){if(null==a)return-1;if(C&&a.lastIndexOf===C)return a.lastIndexOf(b);for(var d=a.length;d--;)if(a[d]===b)return d;return-1};b.range=function(a,b,d){1>=arguments.length&&(b=a||0,a=0);d=arguments[2]||1;for(var e=Math.max(Math.ceil((b-a)/d),0),f=0,g=Array(e);f<
e;)g[f++]=a,a+=d;return g};b.bind=function(a,b){if(a.bind===t&&t)return t.apply(a,f.call(arguments,1));var d=f.call(arguments,2);return function(){return a.apply(b,d.concat(f.call(arguments)))}};b.bindAll=function(a){var c=f.call(arguments,1);0==c.length&&(c=b.functions(a));h(c,function(c){a[c]=b.bind(a[c],a)});return a};b.memoize=function(a,c){var d={};c||(c=b.identity);return function(){var b=c.apply(this,arguments);return n.call(d,b)?d[b]:d[b]=a.apply(this,arguments)}};b.delay=function(a,b){var d=
f.call(arguments,2);return setTimeout(function(){return a.apply(a,d)},b)};b.defer=function(a){return b.delay.apply(b,[a,1].concat(f.call(arguments,1)))};var E=function(a,b,d){var e;return function(){var f=this,g=arguments,h=function(){e=null;a.apply(f,g)};d&&clearTimeout(e);if(d||!e)e=setTimeout(h,b)}};b.throttle=function(a,b){return E(a,b,!1)};b.debounce=function(a,b){return E(a,b,!0)};b.once=function(a){var b=!1,d;return function(){if(b)return d;b=!0;return d=a.apply(this,arguments)}};b.wrap=function(a,
b){return function(){var d=[a].concat(f.call(arguments));return b.apply(this,d)}};b.compose=function(){var a=f.call(arguments);return function(){for(var b=f.call(arguments),d=a.length-1;0<=d;d--)b=[a[d].apply(this,b)];return b[0]}};b.after=function(a,b){return function(){if(1>--a)return b.apply(this,arguments)}};b.keys=I||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],d;for(d in a)n.call(a,d)&&(b[b.length]=d);return b};b.values=function(a){return b.map(a,b.identity)};
b.functions=b.methods=function(a){return b.filter(b.keys(a),function(c){return b.isFunction(a[c])}).sort()};b.extend=function(a){h(f.call(arguments,1),function(b){for(var d in b)void 0!==b[d]&&(a[d]=b[d])});return a};b.defaults=function(a){h(f.call(arguments,1),function(b){for(var d in b)null==a[d]&&(a[d]=b[d])});return a};b.clone=function(a){return b.isArray(a)?a.slice():b.extend({},a)};b.tap=function(a,b){b(a);return a};b.isEqual=function(a,c){if(a===c)return!0;var d=typeof a;if(d!=typeof c)return!1;
if(a==c)return!0;if(!a&&c||a&&!c)return!1;a._chain&&(a=a._wrapped);c._chain&&(c=c._wrapped);if(a.isEqual)return a.isEqual(c);if(b.isDate(a)&&b.isDate(c))return a.getTime()===c.getTime();if(b.isNaN(a)&&b.isNaN(c))return!1;if(b.isRegExp(a)&&b.isRegExp(c))return a.source===c.source&&a.global===c.global&&a.ignoreCase===c.ignoreCase&&a.multiline===c.multiline;if("object"!==d||a.length&&a.length!==c.length)return!1;var d=b.keys(a),e=b.keys(c);if(d.length!=e.length)return!1;for(var f in a)if(!(f in c)||
!b.isEqual(a[f],c[f]))return!1;return!0};b.isEmpty=function(a){if(b.isArray(a)||b.isString(a))return 0===a.length;for(var c in a)if(n.call(a,c))return!1;return!0};b.isElement=function(a){return!!(a&&1==a.nodeType)};b.isArray=q||function(a){return"[object Array]"===H.call(a)};b.isArguments=function(a){return!(!a||!n.call(a,"callee"))};b.isFunction=function(a){return!(!a||!a.constructor||!a.call||!a.apply)};b.isString=function(a){return!!(""===a||a&&a.charCodeAt&&a.substr)};b.isNumber=function(a){return!!(0===
a||a&&a.toExponential&&a.toFixed)};b.isNaN=function(a){return a!==a};b.isBoolean=function(a){return!0===a||!1===a};b.isDate=function(a){return!(!a||!a.getTimezoneOffset||!a.setUTCFullYear)};b.isRegExp=function(a){return!(!a||!a.test||!a.exec||!(a.ignoreCase||!1===a.ignoreCase))};b.isNull=function(a){return null===a};b.isUndefined=function(a){return void 0===a};b.noConflict=function(){s._=F;return this};b.identity=function(a){return a};b.times=function(a,b,d){for(var e=0;e<a;e++)b.call(d,e)};b.mixin=
function(a){h(b.functions(a),function(c){K(c,b[c]=a[c])})};var L=0;b.uniqueId=function(a){var b=L++;return a?a+b:b};b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g};b.template=function(a,c){var d=b.templateSettings,d="var __p\x3d[],print\x3dfunction(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(d.interpolate,function(a,b){return"',"+b.replace(/\\'/g,"'")+",'"}).replace(d.evaluate||null,function(a,b){return"');"+
b.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",d=new Function("obj",d);return c?d(c):d};var l=function(a){this._wrapped=a};b.prototype=l.prototype;var u=function(a,c){return c?b(a).chain():a},K=function(a,c){l.prototype[a]=function(){var a=f.call(arguments);G.call(a,this._wrapped);return u(c.apply(b,a),this._chain)}};b.mixin(b);h("pop push reverse shift sort splice unshift".split(" "),function(a){var b=
k[a];l.prototype[a]=function(){b.apply(this._wrapped,arguments);return u(this._wrapped,this._chain)}});h(["concat","join","slice"],function(a){var b=k[a];l.prototype[a]=function(){return u(b.apply(this._wrapped,arguments),this._chain)}});l.prototype.chain=function(){this._chain=!0;return this};l.prototype.value=function(){return this._wrapped}})();
(function(){window.socialJQ=$.noConflict(!0)})();
(function(g){var d;d="undefined"!==typeof exports?exports:this.Backbone={};d.VERSION="0.3.3";var e=this._;!e&&"undefined"!==typeof require&&(e=require("underscore")._);g=g||this.Zepto;d.emulateHTTP=!1;d.emulateJSON=!1;d.Events={bind:function(a,b){this._callbacks||(this._callbacks={});(this._callbacks[a]||(this._callbacks[a]=[])).push(b);return this},unbind:function(a,b){var c;if(a){if(c=this._callbacks)if(b){c=c[a];if(!c)return this;for(var f=0,d=c.length;f<d;f++)if(b===c[f]){c.splice(f,1);break}}else c[a]=
[]}else this._callbacks={};return this},trigger:function(a){var b,c,f,d;if(!(c=this._callbacks))return this;if(b=c[a]){f=0;for(d=b.length;f<d;f++)b[f].apply(this,Array.prototype.slice.call(arguments,1))}if(b=c.all){f=0;for(d=b.length;f<d;f++)b[f].apply(this,arguments)}return this}};d.Model=function(a,b){a||(a={});this.defaults&&(a=e.extend({},this.defaults,a));this.attributes={};this._escapedAttributes={};this.cid=e.uniqueId("c");this.set(a,{silent:!0});this._previousAttributes=e.clone(this.attributes);
b&&b.collection&&(this.collection=b.collection);this.initialize(a,b)};e.extend(d.Model.prototype,d.Events,{_previousAttributes:null,_changed:!1,initialize:function(){},toJSON:function(){return e.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;if(b=this._escapedAttributes[a])return b;b=this.attributes[a];return this._escapedAttributes[a]=(null==b?"":b).replace(/&(?!\w+;)/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;")},
set:function(a,b){b||(b={});if(!a)return this;a.attributes&&(a=a.attributes);var c=this.attributes,f=this._escapedAttributes;if(!b.silent&&this.validate&&!this._performValidation(a,b))return!1;"id"in a&&(this.id=a.id);for(var d in a){var g=a[d];e.isEqual(c[d],g)||(c[d]=g,delete f[d],b.silent||(this._changed=!0,this.trigger("change:"+d,this,g,b)))}!b.silent&&this._changed&&this.change(b);return this},unset:function(a,b){b||(b={});var c={};c[a]=void 0;if(!b.silent&&this.validate&&!this._performValidation(c,
b))return!1;delete this.attributes[a];delete this._escapedAttributes[a];b.silent||(this._changed=!0,this.trigger("change:"+a,this,void 0,b),this.change(b));return this},clear:function(a){a||(a={});var b=this.attributes,c={};for(attr in b)c[attr]=void 0;if(!a.silent&&this.validate&&!this._performValidation(c,a))return!1;this.attributes={};this._escapedAttributes={};if(!a.silent){this._changed=!0;for(attr in b)this.trigger("change:"+attr,this,void 0,a);this.change(a)}return this},fetch:function(a){a||
(a={});var b=this,c=h(a.error,b,a);(this.sync||d.sync)("read",this,function(c){if(!b.set(b.parse(c),a))return!1;a.success&&a.success(b,c)},c);return this},save:function(a,b){b||(b={});if(a&&!this.set(a,b))return!1;var c=this,f=h(b.error,c,b),e=this.isNew()?"create":"update";(this.sync||d.sync)(e,this,function(a){if(!c.set(c.parse(a),b))return!1;b.success&&b.success(c,a)},f);return this},destroy:function(a){a||(a={});var b=this,c=h(a.error,b,a);(this.sync||d.sync)("delete",this,function(c){b.collection&&
b.collection.remove(b);a.success&&a.success(b,c)},c);return this},url:function(){var a=l(this.collection);return this.isNew()?a:a+("/"==a.charAt(a.length-1)?"":"/")+this.id},parse:function(a){return a},clone:function(){return new this.constructor(this)},isNew:function(){return!this.id},change:function(a){this.trigger("change",this,a);this._previousAttributes=e.clone(this.attributes);this._changed=!1},hasChanged:function(a){return a?this._previousAttributes[a]!=this.attributes[a]:this._changed},changedAttributes:function(a){a||
(a=this.attributes);var b=this._previousAttributes,c=!1,f;for(f in a)e.isEqual(b[f],a[f])||(c=c||{},c[f]=a[f]);return c},previous:function(a){return!a||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return e.clone(this._previousAttributes)},_performValidation:function(a,b){var c=this.validate(a);return c?(b.error?b.error(this,c):this.trigger("error",this,c,b),!1):!0}});d.Collection=function(a,b){b||(b={});b.comparator&&(this.comparator=b.comparator,delete b.comparator);
this._boundOnModelEvent=e.bind(this._onModelEvent,this);this._reset();a&&this.refresh(a,{silent:!0});this.initialize(a,b)};e.extend(d.Collection.prototype,d.Events,{model:d.Model,initialize:function(){},toJSON:function(){return this.map(function(a){return a.toJSON()})},add:function(a,b){if(e.isArray(a))for(var c=0,f=a.length;c<f;c++)this._add(a[c],b);else this._add(a,b);return this},remove:function(a,b){if(e.isArray(a))for(var c=0,f=a.length;c<f;c++)this._remove(a[c],b);else this._remove(a,b);return this},
get:function(a){return null==a?null:this._byId[null!=a.id?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},sort:function(a){a||(a={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");this.models=this.sortBy(this.comparator);a.silent||this.trigger("refresh",this,a);return this},pluck:function(a){return e.map(this.models,function(b){return b.get(a)})},refresh:function(a,b){a||(a=[]);b||(b={});this._reset();this.add(a,{silent:!0});
b.silent||this.trigger("refresh",this,b);return this},fetch:function(a){a||(a={});var b=this,c=h(a.error,b,a);(this.sync||d.sync)("read",this,function(c){b.refresh(b.parse(c));a.success&&a.success(b,c)},c);return this},create:function(a,b){var c=this;b||(b={});a instanceof d.Model?a.collection=c:a=new this.model(a,{collection:c});return a.save(null,{success:function(a,d){c.add(a);b.success&&b.success(a,d)},error:b.error})},parse:function(a){return a},chain:function(){return e(this.models).chain()},
_reset:function(a){this.length=0;this.models=[];this._byId={};this._byCid={}},_add:function(a,b){b||(b={});a instanceof d.Model||(a=new this.model(a,{collection:this}));var c=this.getByCid(a);if(c)throw Error(["Can't add the same model to a set twice",c.id]);this._byId[a.id]=a;this._byCid[a.cid]=a;a.collection=this;c=this.comparator?this.sortedIndex(a,this.comparator):this.length;this.models.splice(c,0,a);a.bind("all",this._boundOnModelEvent);this.length++;b.silent||a.trigger("add",a,this,b);return a},
_remove:function(a,b){b||(b={});a=this.getByCid(a)||this.get(a);if(!a)return null;delete this._byId[a.id];delete this._byCid[a.cid];delete a.collection;this.models.splice(this.indexOf(a),1);this.length--;b.silent||a.trigger("remove",a,this,b);a.unbind("all",this._boundOnModelEvent);return a},_onModelEvent:function(a,b){"change:id"===a&&(delete this._byId[b.previous("id")],this._byId[b.id]=b);this.trigger.apply(this,arguments)}});e.each("forEach each map reduce reduceRight find detect filter select reject every all some any include invoke max min sortBy sortedIndex toArray size first rest last without indexOf lastIndexOf isEmpty".split(" "),
function(a){d.Collection.prototype[a]=function(){return e[a].apply(e,[this.models].concat(e.toArray(arguments)))}});d.Controller=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize(a)};var q=/:([\w\d]+)/g,r=/\*([\w\d]+)/g;e.extend(d.Controller.prototype,d.Events,{initialize:function(){},route:function(a,b,c){d.history||(d.history=new d.History);e.isRegExp(a)||(a=this._routeToRegExp(a));d.history.route(a,e.bind(function(d){d=this._extractParameters(a,d);c.apply(this,
d);this.trigger.apply(this,["route:"+b].concat(d))},this))},saveLocation:function(a){d.history.saveLocation(a)},_bindRoutes:function(){if(this.routes)for(var a in this.routes){var b=this.routes[a];this.route(a,b,this[b])}},_routeToRegExp:function(a){a=a.replace(q,"([^/]*)").replace(r,"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});d.History=function(){this.handlers=[];this.fragment=this.getFragment();e.bindAll(this,"checkUrl")};var m=/^#*/;e.extend(d.History.prototype,
{interval:50,getFragment:function(a){return(a||window.location).hash.replace(m,"")},start:function(){var a=document.documentMode;if(a=g.browser.msie&&(!a||7>=a))this.iframe=g('\x3ciframe src\x3d"javascript:0" tabindex\x3d"-1" /\x3e').hide().appendTo("body")[0].contentWindow;"onhashchange"in window&&!a?g(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval);return this.loadUrl()},route:function(a,b){this.handlers.push({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();
a==this.fragment&&this.iframe&&(a=this.getFragment(this.iframe.location));if(a==this.fragment||a==decodeURIComponent(this.fragment))return!1;this.iframe&&(window.location.hash=this.iframe.location.hash=a);this.loadUrl()},loadUrl:function(){var a=this.fragment=this.getFragment();return e.any(this.handlers,function(b){if(b.route.test(a))return b.callback(a),!0})},saveLocation:function(a){a=(a||"").replace(m,"");this.fragment!=a&&(window.location.hash=this.fragment=a,this.iframe&&a!=this.getFragment(this.iframe.location)&&
(this.iframe.document.open().close(),this.iframe.location.hash=a))}});d.View=function(a){this._configure(a||{});this._ensureElement();this.delegateEvents();this.initialize(a)};var s=/^(\w+)\s*(.*)$/;e.extend(d.View.prototype,d.Events,{tagName:"div",$:function(a){return g(a,this.el)},initialize:function(){},render:function(){return this},remove:function(){g(this.el).remove();return this},make:function(a,b,c){a=document.createElement(a);b&&g(a).attr(b);c&&g(a).html(c);return a},delegateEvents:function(a){if(a||
(a=this.events)){g(this.el).unbind();for(var b in a){var c=a[b],d=b.match(s),k=d[1],d=d[2],c=e.bind(this[c],this);""===d?g(this.el).bind(k,c):g(this.el).delegate(d,k,c)}}},_configure:function(a){this.options&&(a=e.extend({},this.options,a));a.model&&(this.model=a.model);a.collection&&(this.collection=a.collection);a.el&&(this.el=a.el);a.id&&(this.id=a.id);a.className&&(this.className=a.className);a.tagName&&(this.tagName=a.tagName);this.options=a},_ensureElement:function(){if(!this.el){var a={};this.id&&
(a.id=this.id);this.className&&(a["class"]=this.className);this.el=this.make(this.tagName,a)}}});var n=function(a,b){var c=t(this,a,b);c.extend=n;return c};d.Model.extend=d.Collection.extend=d.Controller.extend=d.View.extend=n;var u={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};d.sync=function(a,b,c,f){var e=u[a];a="create"===a||"update"===a?JSON.stringify(b.toJSON()):null;b={url:l(b),type:e,contentType:"application/json",data:a,dataType:"json",processData:!1,success:c,error:f};d.emulateJSON&&
(b.contentType="application/x-www-form-urlencoded",b.processData=!0,b.data=a?{model:a}:{});if(d.emulateHTTP&&("PUT"===e||"DELETE"===e))d.emulateJSON&&(b.data._method=e),b.type="POST",b.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",e)};g.ajax(b)};var p=function(){},t=function(a,b,c){var d;d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){return a.apply(this,arguments)};p.prototype=a.prototype;d.prototype=new p;b&&e.extend(d.prototype,b);c&&e.extend(d,c);d.prototype.constructor=
d;d.__super__=a.prototype;return d},l=function(a){if(!a||!a.url)throw Error("A 'url' property or function must be specified");return e.isFunction(a.url)?a.url():a.url},h=function(a,b,c){return function(d){a?a(b,d):b.trigger("error",b,d,c)}}})(socialJQ);
(function(d){d.prettyDate=function(a){diff=((new Date).getTime()-a.getTime())/1E3;day_diff=Math.floor(diff/86400);if(!(isNaN(day_diff)||0>day_diff))return 0==day_diff&&(60>diff&&LC.getLabel("SocialCrmHopup_DateFormat","justNow")||120>diff&&LC.getLabel("SocialCrmHopup_DateFormat","oneMinuteAgo")||3600>diff&&LC.getLabel("SocialCrmHopup_DateFormat","minutesAgo",Math.floor(diff/60))||7200>diff&&LC.getLabel("SocialCrmHopup_DateFormat","oneHourAgo")||86400>diff&&LC.getLabel("SocialCrmHopup_DateFormat",
"hoursAgo",Math.floor(diff/3600)))||1==day_diff&&LC.getLabel("SocialCrmHopup_DateFormat","yesterday")||7>day_diff&&LC.getLabel("SocialCrmHopup_DateFormat","daysAgo",day_diff)||LC.getLabel("SocialCrmHopup_DateFormat","weeksAgo",Math.ceil(day_diff/7))};d.prettyDateFromISO8601=function(a){return d.prettyDate(e(a))};var e=function(a){a=a.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?"));var c=0,b=new Date(a[1],
0,1);a[3]&&b.setMonth(a[3]-1);a[5]&&b.setDate(a[5]);a[7]&&b.setHours(a[7]);a[8]&&b.setMinutes(a[8]);a[10]&&b.setSeconds(a[10]);a[12]&&b.setMilliseconds(1E3*Number("0."+a[12]));a[14]&&(c=60*Number(a[16])+Number(a[17]),c*="-"==a[15]?1:-1);c-=b.getTimezoneOffset();time=Number(b)+6E4*c;a=new Date;a.setTime(Number(time));return a}})(socialJQ);
var Mustache=function(){var l=function(){};l.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(a,b,d,c){c||(this.context=b,this.buffer=[]);if(this.includes("",a)){a=this.render_pragmas(a);a=this.render_section(a,b,d);if(c)return this.render_tags(a,b,d,c);this.render_tags(a,b,d,c)}else{if(c)return a;this.send(a)}},send:function(a){this.buffer.push(a)},render_pragmas:function(a){if(!this.includes("%",a))return a;var b=this;return a.replace(RegExp(this.otag+
"%([\\w-]+) ?([\\w]+\x3d[\\w]+)?"+this.ctag),function(a,c,e){if(!b.pragmas_implemented[c])throw{message:"This implementation of mustache doesn't understand the '"+c+"' pragma"};b.pragmas[c]={};e&&(a=e.split("\x3d"),b.pragmas[c][a[0]]=a[1]);return""})},render_partial:function(a,b,d){a=this.trim(a);if(!d||void 0===d[a])throw{message:"unknown_partial '"+a+"'"};return"object"!=typeof b[a]?this.render(d[a],b,d,!0):this.render(d[a],b[a],d,!0)},render_section:function(a,b,d){if(!this.includes("#",a)&&!this.includes("^",
a))return a;var c=this;return a.replace(RegExp(this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]+?)"+this.otag+"\\/\\s*\\2\\s*"+this.ctag+"\\s*","mg"),function(a,g,k,f){a=c.find(k,b);if("^"==g)return!a||c.is_array(a)&&0===a.length?c.render(f,b,d,!0):"";if("#"==g)return c.is_array(a)?c.map(a,function(a){return c.render(f,c.create_context(a),d,!0)}).join(""):c.is_object(a)?c.render(f,c.create_context(a),d,!0):"function"===typeof a?a.call(b,f,function(a){return c.render(a,b,d,!0)}):a?c.render(f,
b,d,!0):""})},render_tags:function(a,b,d,c){var e=this,g=function(){return RegExp(e.otag+"(\x3d|!|\x3e|\\{|%)?([^\\/#\\^]+?)\\1?"+e.ctag+"+","g")},k=g(),f=function(a,c,f){switch(c){case "!":return"";case "\x3d":return e.set_delimiters(f),k=g(),"";case "\x3e":return e.render_partial(f,b,d);case "{":return e.find(f,b);default:return e.escape(e.find(f,b))}};a=a.split("\n");for(var h=0;h<a.length;h++)a[h]=a[h].replace(k,f,this),c||this.send(a[h]);if(c)return a.join("\n")},set_delimiters:function(a){a=
a.split(" ");this.otag=this.escape_regex(a[0]);this.ctag=this.escape_regex(a[1])},escape_regex:function(a){arguments.callee.sRE||(arguments.callee.sRE=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g"));return a.replace(arguments.callee.sRE,"\\$1")},find:function(a,b){a=this.trim(a);var d;if(!1===b[a]||0===b[a]||b[a])d=b[a];else if(!1===this.context[a]||0===this.context[a]||this.context[a])d=this.context[a];return"function"===typeof d?d.apply(b):void 0!==d?d:""},includes:function(a,
b){return-1!=b.indexOf(this.otag+a)},escape:function(a){a=String(null===a?"":a);return a.replace(/&(?!\w+;)|["'<>\\\n]/g,function(a){switch(a){case "\x26":return"\x26amp;";case "\\":return"\\\\";case '"':return"\x26quot;";case "'":return"\x26#39;";case "\x3c":return"\x26lt;";case "\x3e":return"\x26gt;";case "\n":return"\x3cbr/\x3e";default:return a}})},create_context:function(a){if(this.is_object(a))return a;var b=".";this.pragmas["IMPLICIT-ITERATOR"]&&(b=this.pragmas["IMPLICIT-ITERATOR"].iterator);
var d={};d[b]=a;return d},is_object:function(a){return a&&"object"==typeof a},is_array:function(a){return"[object Array]"===Object.prototype.toString.call(a)},trim:function(a){return a.replace(/^\s*|\s*$/g,"")},map:function(a,b){if("function"==typeof a.map)return a.map(b);for(var d=[],c=a.length,e=0;e<c;e++)d.push(b(a[e]));return d}};return{name:"mustache.js",version:"0.3.1-dev",to_html:function(a,b,d,c){var e=new l;c&&(e.send=c);e.render(a,b,d);if(!c)return e.buffer.join("\n")}}}();
(function(e){window.social||(social={},social.socialStateInfo||(social.socialStateInfo={}));social.serviceShortnames=["fb","li","tw","yt","kl"];social.shortnameToLongname={fb:"Facebook",li:"LinkedIn",tw:"Twitter",yt:"YouTube",kl:"Klout"};(function(){social.logger={};!0===social.socialStateInfo.logging?(Sfdc.ClientLogging.addRelay(new Sfdc.ClientLogging.ConsoleLogger,!0),Sfdc.ClientLogging.addRelay(new Sfdc.ClientLogging.SeleniumLogger,!0),social.logger.debug=function(){var a="Social Hopup: ";_.each(arguments,
function(b){a+=JSON.stringify(b)});Sfdc.log(a,Sfdc.Logging.LogLevel.INFO)}):social.logger.debug=function(){}})();social.models={};social.models.BaseModel={makePost:function(a,b,c,d){b._CONFIRMATIONTOKEN=d?d:social.socialStateInfo._CONFIRMATIONTOKEN;e.ajax({url:UserContext.getUrl(a),data:b,dataType:"text",type:"POST",success:function(a){a=Util.evalAjaxServletOutput(a);c&&c(a)},error:function(a,b,d){social.logger.debug("makePost's onError called in base.js");c&&c({result:{error:"InternalServerException"}})},
timeout:1E4})},makeGet:function(a,b){return e.ajax({url:UserContext.getUrl(a),dataType:"text",success:function(a){social.logger.debug("makeGet returned this result: ",a);a=Util.evalAjaxServletOutput(a);b(a)},error:function(a,d,e){social.logger.debug("makeGet's onError called in base.js");b({result:{error:"GenericException"}})},timeout:1E4})},deleteCache:function(a){},processDeferredResult:function(a){return a[0]&&"string"===typeof a[0]?Util.evalAjaxServletOutput(a[0]):a},logEvent:function(a){this.makePost("/_ui/socialcrm/LogEvent?type\x3d"+
social.socialStateInfo.entityType+"_"+a,{})}}})(socialJQ);
(function(d){social.models.contact=_(social.models.BaseModel).extend({setId:function(a){this.id=a},storeDefaultProfile:function(a,b,c){this.makePost("/_ui/socialcrm/SaveDefaultSocialHandle",{providerType:a,parentId:this.id,profilePicURL:b},c)},storeHandle:function(a,b){a.parentId=this.id;var c=_.extend(a,{});this.makePost("/_ui/socialcrm/SocialHandleSaveServlet",c,b)},deleteHandle:function(a,b){this.makePost("/_ui/socialcrm/SocialHandleDeleteServlet",{providerType:a,parentId:this.id},b)}});social.models.contact.setId(social.socialStateInfo.parentId)})(socialJQ);
social.socialStateInfo.fb&&function(f){social.models.facebook=_(social.models.BaseModel).extend({getFacebookMutualFriendIds:function(d,b){var e="/_ui/socialcrm/FeedServiceQueryServlet?providerType\x3dfb\x26query\x3d"+encodeURIComponent("https://api.facebook.com/method/fql.query?query\x3d"+encodeURIComponent("SELECT uid1 FROM friend WHERE uid2\x3d"+d+" AND uid1 IN (SELECT uid2 FROM friend WHERE uid1\x3dme() LIMIT 500)")+"\x26format\x3djson");this.makeGet(e,function(a){if(a.result.fb){results=a.result.fb.apiQueryResult;
a=results.length;var c=[];for(i=0;i<Math.min(results.length,7);i++)c.push(results[i].uid1);results={fb:{userInfo:{mutualFriends:{count:a,ids:c}}}}}else results=a;b&&b("mutualFriends",results)})}})}(socialJQ);
(function(k){var m=function(b){b=b.split(" ");b=new Date(Date.parse(b[1]+" "+b[2]+", "+b[5]+" "+b[3]+" UTC"));return k.prettyDate(b)};social.models.feedservice=_(social.models.BaseModel).extend({isLazyLoading:!1,search:function(b,f,d,a,c){var e=this,g="/_ui/socialcrm/SocialSearchServlet?query\x3d"+encodeURIComponent(b),g=g+("\x26providerType\x3d"+d);a&&(g+="\x26type\x3d"+a);c&&(g+="\x26orderBy\x3d"+c);this.makeGet(g,function(c){e.handleErrors(c);var h=c.result?c.result:c;_.each(_.keys(h),function(c){if(!h[c].error){var d;
if(void 0===a||"user"===a||"business"===a)d=n;else if("feed_item"===a)d=p;else throw"Unsupported searchType: "+a;d=(d=d(h[c].userSearch,c))||{};d={results:d,numResults:d.length,searchTerm:b};h[c].userSearch=d}});_.each(f,function(a){a(h)})})},fetchProfileAndFeed:function(b,f,d,a){var c=this,e="";this.isLazyLoading=!1;"li"==f.type&&-1!==f.userIdentifier.indexOf("/")&&(this.isLazyLoading=!0);f?e="/_ui/socialcrm/SocialDataServlet?"+f.type+"Id\x3d"+f.userIdentifier+"\x26parentId\x3d"+social.socialStateInfo.parentId:
(e=this.getCacheBuster(),e="/_ui/socialcrm/SocialDataServlet?parentId\x3d"+this.id+"\x26cachebuster\x3d"+e,social.socialStateInfo.li&&(f={userIdentifier:social.socialStateInfo.li.handle,type:"li"}));a&&(e+=a);this.makeGet(e,function(a){social.logger.debug("fetchProfileAndFeed called back with this data: ",a);var e=q(a,d);c.handleErrors(e);e=e.result;_.each(b,function(a){a("profileAndFeed",e,f)})})},fetchLinkedInPublicProfile:function(b,f){this.fetchProfileAndFeed(b,f,!1,"\x26getPublicProfile\x3d1")},
getCacheBuster:function(){var b="";_.each(["fb","li","tw"],function(f){b+=social.socialStateInfo[f]&&social.socialStateInfo[f].handle||"!none!"});return b},handleErrors:function(b){var f=0;if(!b.result)return f+=1;if(b.result.error)return f+=1,_.each(social.serviceShortnames,function(a){b.result[a]={};b.result[a].error=b.result.error}),f;var d={};_.each(social.serviceShortnames,function(a){if(b.result[a]&&(b.result[a].userInfo||b.result[a].userSearch||b.result[a].userShow)){var c=b.result[a].userInfo||
b.result[a].userSearch||b.result[a].userShow;if(c.error&&(c.error.responseData||"kl"===a)){var e;try{e=eval("("+c.error.responseData+")")}catch(g){e=c.error.responseData}f+=1;if("li"===a)if(e.status&&404===e.status)d[a]="NotFoundException";else{if(e.status&&(401===e.status||403===e.status))e.message.match("invalid.profile.access")?d[a]="NoAccessException":e.message.match("\\[unauthorized\\]")?d[a]="OAuthException":403===e.status&&(d[a]="APILimitReachedException",f-=1)}else if("tw"===a){if(404===c.error.httpStatus||
e.httpStatus&&404===e.httpStatus)d[a]="NotFoundException";else if(401===c.error.httpStatus||e.httpStatus&&401===e.httpStatus)d[a]="OAuthException";c.error.httpStatus&&400===c.error.httpStatus&&(d[a]="APILimitReachedException");c.error.errorMessage&&"BadInputException"===c.error.errorMessage&&(d[a]="BadInputException")}else if("fb"===a)e.error.type&&"OAuthException"===e.error.type&&(-1!==e.error.message.indexOf("#613")?d[a]="APILimitReachedException":-1!==e.error.message.indexOf("#803")?d[a]="NotFoundException":
d[a]="OAuthException");else if("kl"===a)if(500===c.error.httpStatus)d[a]="GenericException";else if(502===c.error.httpStatus||503===c.error.httpStatus)d[a]="Service Unavailable";else if(404===c.error.httpStatus||400===c.error.httpStatus)d[a]="KloutNotFoundException"}else c.error&&c.error.type&&c.error.message&&"fb"===a&&(c.error.type&&-1!==c.error.message.indexOf("803"))&&(d[a]="NotFoundException");c.error&&!d[a]&&(d[a]="GenericException");"kl"===a&&(c.body&&c.body.error&&!d[a])&&(d[a]="No users"===
c.body.error?"KloutNotFoundException":"GenericException")}});_.each(social.serviceShortnames,function(a){d[a]&&(b.result[a]={},b.result[a].error=d[a]);social.socialStateInfo[a]&&(social.socialStateInfo[a].wasLastFeedServiceRequestSuccessful=!d[a])});return 0<f}});var p=function(b){if(b&&b.data&&b.data.results)return b=b.data.results,_.each(b,function(b){b.created_at=m(b.created_at);b.screen_name=b.from_user}),b},q=function(b,f){if(!b||!b.result)return{};if(b.result.li&&b.result.li.userInfo&&(b.result.li.userInfo.pictureUrl&&
(b.result.li.userInfo.pictureUrl=b.result.li.userInfo.pictureUrl.replace("http://media.linkedin.com","https://www.linkedin.com")),b.result.li.userInfo.relationToViewer)){switch(b.result.li.userInfo.relationToViewer.distance){case 1:b.result.li.userInfo.relationDegree="1st";break;case 2:b.result.li.userInfo.relationDegree="2nd";break;case 3:b.result.li.userInfo.relationDegree="3rd";break;default:b.result.li.userInfo.relationDegree=!1}b.result.li.userInfo.relationToViewer.relatedConnections&&b.result.li.userInfo.relationToViewer.relatedConnections.values&&
(b.result.li.userInfo.relationToViewer.relatedConnections.values=b.result.li.userInfo.relationToViewer.relatedConnections.values.slice(0,6))}if(b.result.tw&&b.result.tw.userInfo){var d=b.result.tw.userInfo.screen_name;b.result.tw.userInfo.profile_image_url&&(b.result.tw.userInfo.profile_image_url=b.result.tw.userInfo.profile_image_url.replace("normal","bigger").replace(/http:\/\/a([0-9]+)\.twimg\.com/i,"https://si$1.twimg.com"));b.result.tw.userTimeline&&b.result.tw.userTimeline.data&&_.each(_.values(b.result.tw.userTimeline.data),
function(a){a.screen_name=d;a.name=d;a.profile_image_url=b.result.tw.userInfo.profile_image_url;a.created_at=m(a.created_at)})}if(b.result.fb&&b.result.fb.userInfo){var a=b.result.fb;if(f){if(a.userInfo.founded||a.userInfo.company_overview||a.userInfo.website||a.userInfo.products||a.userInfo.mission)a.userInfo.hasBasicInfo=!0;a.userInfo.likes=r(a.userInfo.likes,social.socialStateInfo.dataFormat.numberFormatGroupingSeparator);a.userTimeline&&a.userTimeline.data&&_.each(a.userTimeline.data,function(a){if(a.name||
a.message||a.picture||a.caption||a.description)a.hasEnoughInfo=!0,a.time_ago=k.prettyDateFromISO8601(a.created_time),a.actions&&_.each(a.actions,function(a){if(a.name){var b;b=a.name;var c=/<fb:[^>]+>/ig;b=b.replace(c,"");c=/<\/fb:[^>\s]+>/ig;b=b.replace(c,"");c=b.toLowerCase();"like"===c?b=LC.getLabel("SocialCrmHopup_Facebook","wallPostActionLike"):"comment"===c?b=LC.getLabel("SocialCrmHopup_Facebook","wallPostActionComment"):"share"===c?b=LC.getLabel("SocialCrmHopup_Facebook","wallPostActionShare"):
"unfollow post"===c&&(b=LC.getLabel("SocialCrmHopup_Facebook","wallPostActionUnfollowPost"));a.name=b}})})}else{var c,e=a.userInfo.id;a.userInfo.name&&(c=a.userInfo.name.split(" ")[0]);a.userInfo.firstName=c;_.each(_.values(a.userTimeline.data),function(b){!a.userInfo.status_message&&(b.from.id===e&&"status"===b.type)&&(a.userInfo.status_message=b.message,a.userInfo.status_message_time=k.prettyDateFromISO8601(b.updated_time))});a.userInfo.work&&(a.userInfo.work={workHistory:a.userInfo.work})}}if(b.result.kl&&
b.result.kl.userShow){c=b.result.kl;if(c.userTopics){var g="";_.each(c.userTopics,function(a){0<g.length&&(g+=" - ");g+=a.displayName});c.combinedTopics=g}if(c.userShow&&c.userShow.score){var l=c.userShow.score;"number"===typeof l.score&&(l.score=Math.round(l.score))}c.userInfluence&&(c.userInfluence.myInfluencers&&0<c.userInfluence.myInfluencers.length)&&(c.hasInfluencers=!0,_.each(c.userInfluence.myInfluencers,function(a){a.entity&&a.entity.payload&&(a.nick=a.entity.payload.nick,a.entity.payload.score&&
"number"===typeof a.entity.payload.score.score&&(a.score=Math.round(a.entity.payload.score.score)))}));c.userInfluence&&(c.userInfluence.myInfluencees&&0<c.userInfluence.myInfluencees.length)&&(c.hasInfluencees=!0,_.each(c.userInfluence.myInfluencees,function(a){a.entity&&a.entity.payload&&(a.nick=a.entity.payload.nick,a.entity.payload.score&&"number"===typeof a.entity.payload.score.score&&(a.score=Math.round(a.entity.payload.score.score)))}))}return b},r=function(b,f){b+="";for(var d=/(\d+)(\d{3})/;d.test(b);)b=
b.replace(d,"$1"+f+"$2");return b},n=function(b,f){if(!b)return{};var d=[];switch(f){case "li":if(!b.people)break;_.each(b.people.values,function(a){a.pictureUrl&&(a.pictureUrl=a.pictureUrl.replace("http://media.linkedin.com","https://www.linkedin.com"));d.push({name:a.firstName+" "+a.lastName,photo:a.pictureUrl,descriptionLine1:a.headline,descriptionLine2:a.location&&a.location.name,userIdentifier:a.id,type:"li"})});break;case "fb":_.each(b.data,function(a){d.push({name:a.name,photo:"https://graph.facebook.com/"+
a.id+"/picture?return_ssl_resources\x3d1",userIdentifier:a.id,type:"fb"})});break;case "tw":_.each(b.data,function(a){d.push({name:"@"+a.screen_name,subname:a.name,photo:a.profile_image_url.replace("normal","bigger").replace(/http:\/\/a([0-9]+)\.twimg\.com/i,"https://si$1.twimg.com"),descriptionLine1:a.description,descriptionLine2:a.location,userIdentifier:a.id,type:"tw"})});break;case "yt":if(!b.feed&&b.feed.entry)break;_.each(b.feed.entry,function(a){var b=a.media$group.yt$duration.seconds,e=b%
60,b=Math.floor(b/60)+":"+(10>e?"0"+e:e),e=a.yt$statistics?a.yt$statistics.viewCount:"";d.push({name:a.title.$t,subname:a.name,photo:a.media$group.media$thumbnail[0].url.replace("http:","https:"),descriptionLine1:a.media$group.media$description.$t,descriptionLine2:"",viewCount:e,userIdentifier:a.media$group.yt$videoid.$t,type:"yt",author:a.author[0].name.$t,published:k.prettyDateFromISO8601(a.published.$t),duration:b})})}return d}})(socialJQ);
social.socialStateInfo.kl&&function(l){social.models.klout=_(social.models.BaseModel).extend({getKloutUserDetails:function(a,d){var b=[],g=!1,h=!1,k=!1;a.userShow&&(g=!0,userShow=a.userShow,userShow.nick&&b.push(userShow.nick));a.userInfluence&&(a.userInfluence.myInfluencers&&0<a.userInfluence.myInfluencers.length)&&(h=!0,_.each(a.userInfluence.myInfluencers,function(a){a.nick&&b.push(a.nick)}));a.userInfluence&&(a.userInfluence.myInfluencees&&0<a.userInfluence.myInfluencees.length)&&(k=!0,_.each(a.userInfluence.myInfluencees,
function(a){a.nick&&b.push(a.nick)}));social.models.twitter.getTwitterUsersInfo(null,b,function(b){if(g){var e=a.userShow;if(e.nick){var f=b[e.nick.toLowerCase()];if(!f){a.error="GenericException";d(a);return}e.name=f.name;e.profile_image_url=f.profile_image_url}}h&&_.each(a.userInfluence.myInfluencers,function(a){if(a.nick){var c=b[a.nick.toLowerCase()];c&&(a.isTwitterUser="true",a.name=c.name,a.profile_image_url=c.profile_image_url)}});k&&_.each(a.userInfluence.myInfluencees,function(a){if(a.nick){var c=
b[a.nick.toLowerCase()];c&&(a.isTwitterUser="true",a.name=c.name,a.profile_image_url=c.profile_image_url)}});d(a)})},getKloutId:function(a,d){this.makeGet("/_ui/socialcrm/FeedServiceQueryServlet?providerType\x3dkl\x26query\x3d"+encodeURIComponent("http://api.klout.com/v2/identity.json/twitter?screenName\x3d"+a),function(a){a={result:{kl:{userInfo:a.result.kl.apiQueryResult}}};social.models.feedservice.handleErrors(a);d(a)})}})}(socialJQ);
social.socialStateInfo.li&&function(a){_(social.models.BaseModel).extend({})}(socialJQ);
social.socialStateInfo.tw&&function(c){social.models.twitter=_(social.models.BaseModel).extend({getTwitterFollowerAndFollowingPhotos:function(a,h){var d=this,g=this.makeGet("/_ui/socialcrm/FeedServiceQueryServlet?providerType\x3dtw\x26query\x3d"+encodeURIComponent("https://api.twitter.com/1.1/friends/ids.json?screen_name\x3d"+a),function(b){}),e=this.makeGet("/_ui/socialcrm/FeedServiceQueryServlet?providerType\x3dtw\x26query\x3d"+encodeURIComponent("https://api.twitter.com/1.1/followers/ids.json?screen_name\x3d"+
a),function(b){});c.when(e,g).done(function(b,a){if(b&&a&&(b=d.processDeferredResult(b),a=d.processDeferredResult(a),!b.result.tw.apiQueryResult.error&&!a.result.tw.apiQueryResult.error)){var e=b.result.tw.apiQueryResult.ids.slice(0,5),g=a.result.tw.apiQueryResult.ids.slice(0,5),c=e.concat(g);d.getTwitterUsersInfo(c,null,function(b){var a=[];_.each(e,function(f){f=b[f];a.push({image:f.profile_image_url,screen_name:f.screen_name,name:f.name})});var d=[];_.each(g,function(a){a=b[a];d.push({image:a.profile_image_url,
screen_name:a.screen_name,name:a.name})});var c={tw:{}};c.tw.userInfo={followerImages:a,followingImages:d};h("followerFollowingImages",c)})}})},getTwitterUsersInfo:function(a,c,d){this.makeGet("/_ui/socialcrm/FeedServiceQueryServlet?providerType\x3dtw\x26query\x3d"+encodeURIComponent("https://api.twitter.com/1.1/users/lookup.json?"+(a?"user_id\x3d"+a.join(","):"screen_name\x3d"+c.join(","))),function(c){var e={};_.each(c.result.tw.apiQueryResult,function(b){"number"===typeof b.id&&b.screen_name&&
(b.profile_image_url=b.profile_image_url.replace(/http:\/\/a([0-9]+)\.twimg\.com/i,"https://si$1.twimg.com"),e[a?b.id:b.screen_name.toLowerCase()]=b)});d(e)})}})}(socialJQ);
(function(c){social.models.user=_(social.models.BaseModel).extend({logout:function(a,b){this.makePost("/_ui/socialcrm/SocialCrmOauthResetServlet?providerType\x3d"+a,{},b,social.socialStateInfo._CONFIRMATIONTOKEN_userOauth)}})})(socialJQ);
(function(c){var e,s="false"===social.socialStateInfo.parentEditable,t="twitter_contact_template twitter_profile_template twitter_tweets_template facebook_contact_template facebook_account_template facebook_mutualfriends_template linkedin_contact_template youtube_search_template youtube_view_template klout_firsttime_template klout_notwitterprofile_template klout_user_template search_template oauth_template error_template loading_template".split(" "),A=function(){var a={};_.each(t,function(b){var d=
document.getElementById(b);d&&(a[b]=d.innerHTML)});return a},h=function(){return"Account"==social.socialStateInfo.entityType},u=Backbone.View.extend({initialize:function(){_.bindAll(this,"changeStageClassOfSelectedTab","changeStageClassOfTab","createStage");this.tabStages={}},initializeTabs:function(a,b,d,c,e){if(!this.options.$stageDiv)throw"A $stageDiv option must be present in a class that subclasses TabController so that the TabController knows where to render the tabs";var f=this,g=[];this.tabClassName=
b;this.tabStages={};var h={serviceShortname:d,parentHopupView:this.options.parentHopupView};_.each(a,function(a,b){var d=f.createStage(a,b,void 0,h);d.bulkOnloadCallback&&g.push(d.bulkOnloadCallback);f.tabStages[b]||(f.tabStages[b]=d)});return g},createStage:function(a,b,d,c){b={className:"socialHopupStage",parentHopupView:c.parentHopupView,tabSwitcher:d||this,tabShortname:b};c=c?_.extend(b,c):b;return new a(c)},changeStageClassOfSelectedTab:function(a){if(!this.$selectedTab)throw"Can't change selected tab's stageClass because no tab is selected";
var b=this.getShortnameOfSelectedTab();return this.changeStageClassOfTab(a,b,b)},changeStageClassOfTab:function(a,b,d,k){d||(d=this.getShortnameOfSelectedTab());k=k||{};k.serviceShortname=this.serviceShortname;k.parentHopupView=this.options.parentHopupView;a=this.createStage(a,b,void 0,k);this.tabStages[b]=a;d==b&&(b=c(a.el),this.changeStageDiv(b),this.options.parentHopupView.isOpened()&&b.focus());return a},getShortnameOfSelectedTab:function(){return this.$selectedTab&&this.$selectedTab.attr("type")||
null},switchTabs:function(a){if(this.$selectedTab&&0<this.$selectedTab.length){if(a===this.getShortnameOfSelectedTab()){this.options.parentHopupView.isOpened()||(social.models.BaseModel.logEvent(a+"_tab_selected"),this.tabStages[a].onShowTab());return}this.tabStages[this.getShortnameOfSelectedTab()].onHideTab();this.$selectedTab.removeClass(this.tabClassName+"Active")}social.models.BaseModel.logEvent(a+"_tab_selected");this.$selectedTab=c(this.el).find("."+this.tabClassName+"Top[type\x3d"+a+"]");
this.$selectedTab.addClass(this.tabClassName+"Active");var b=this.tabStages[a];if(!b)throw"Tab "+a+" selected but there's no stage initialized for this tab. Must initialize a stage class";a=c(b.el);this.changeStageDiv(a);b.onShowTab();b.delegateEvents()},changeStageDiv:function(a){var b=this.options.$stageDiv;this.options.$stageDiv=a;b.replaceWith(a)}}),f=Backbone.View.extend({initialize:function(){social.logger.debug("Initializing a stage");if(!this.options.tabShortname)throw"HopupStage must be constructed with a tabShortname set to one of the serviceShortnames";
this.tabShortname=this.options.tabShortname;this.serviceShortname=this.options.serviceShortname||this.tabShortname;_.bindAll(this,"render","renderWithPayload","evaluateResultsAndRenderError","signOutOfSocialNetworkCallbackHandler","selectProfile","selectProfileCallbackHandler");this.el.setAttribute("tabindex","0")},renderWithPayload:function(a,b){Perf.mark("OverlayLoadStart");if(b.error)this.options.tabSwitcher.changeStageClassOfTab(B,this.options.tabShortname).render(b.error);else{b=this.addToContext(b);
var d;a===e.loading_template&&this.options.parentHopupView.isOpened()&&(d=c(".socialHopupStage").height());var k=Mustache.to_html(a,b,e);c(this.el).html(k);d&&c("#socialHopupLoadingStage").height(d)}Perf.endMark("OverlayLoadStart")},addToContext:function(a){var b=this,d=social.shortnameToLongname[this.serviceShortname],c=d&&d.toLowerCase(),e={tabShortname:this.tabShortname,tabLongname:d,tabLongnameLowercase:c,isSocialAccount:h(),readOnly:s,noOAuthRequired:"yt"===this.tabShortname||"kl"===this.tabShortname};
_.each(social.serviceShortnames,function(a){e["is"+a]=b.serviceShortname===a});_.extend(e,a);return e},signOutOfSocialNetwork:function(){social.models.user.logout(this.serviceShortname,this.signOutOfSocialNetworkCallbackHandler);f.prototype.renderWithPayload.call(this,e.loading_template,{})},signOutOfSocialNetworkCallbackHandler:function(a){this.evaluateResultsAndRenderError(a)||(social.socialStateInfo[this.serviceShortname].oauth=!1,this.options.parentHopupView.updateSocialHandleState(this.serviceShortname,
""),"tw"===this.serviceShortname||"fb"===this.serviceShortname?social.socialStateInfo[this.serviceShortname].wasLastFeedServiceRequestSuccessful||this.options.parentHopupView.options.headerRow.drawHeaderPhoto(social.socialStateInfo[this.serviceShortname].defaultProfilePicURL):this.options.parentHopupView.options.headerRow.drawDefaultHeaderPhoto(),this.options.tabSwitcher.changeStageClassOfSelectedTab(p))},evaluateResultsAndRenderError:function(a){return a&&a.result&&a.result.error?(social.logger.debug("Rendering error screen \x3d "+
a.result.error),f.prototype.renderWithPayload.call(this,e.error_template,a.result),!0):!1},onShowTab:function(){},onHideTab:function(){},loadProfile:function(){},selectProfile:function(a,b,d){var c={},e=c[this.serviceShortname+"Id"]=a;"tw"==this.serviceShortname?e=c[this.serviceShortname+"Name"]=b:c[this.serviceShortname+"Name"]=a;"kl"!=this.serviceShortname&&this.options.tabSwitcher.changeStageClassOfTab(v(this.serviceShortname),this.tabShortname);c[this.serviceShortname+"ProfilePicUrl"]=d;if(s)this.selectProfileCallbackHandler({},
e);else{var f=this;social.models.contact.storeHandle(c,function(a){f.selectProfileCallbackHandler(a,e)})}this.updateProfilePhotoWithSelectedSocialPersona(this.serviceShortname,d)},updateProfilePhotoWithSelectedSocialPersona:function(a,b){social.socialStateInfo.defaultSocialProvider||(social.socialStateInfo.defaultSocialProvider=a);var d=c(".socialProfilePhoto");d&&(d.attr("src")&&(-1!=d.attr("src").indexOf("unknown_profile_pic.png")||-1!=d.attr("src").indexOf("unknown_company_pic.png")))&&d.fadeOut(200,
function(){d.attr("src",b);d.fadeIn(200)})},selectProfileCallbackHandler:function(a,b){this.evaluateResultsAndRenderError(a)||(this.options.parentHopupView.updateSocialHandleState(this.serviceShortname,b),this.options.tabSwitcher.tabStages[this.tabShortname].loadProfile(b))}}),B=f.extend({initialize:function(){_.bindAll(this,"render");this.knownExceptions={NoAccessException:!0,NotFoundException:!0,KloutNotFoundException:!0,OAuthException:!0,APILimitReachedException:!0,"Service Unavailable":!0,CSRFException:!0,
InternalServerException:!0,BadInputException:!0};f.prototype.initialize.call(this);this.render()},events:{"click .socialErrorPageLink":"switchToSearchStage","click .socialErrorSignOutLink":"switchToOAuthStage","click .socialSignOutLink":"signOutOfSocialNetwork"},render:function(a){social.logger.debug("rendering error stage with exception type: "+a);this.knownExceptions[a]||(a="GenericException");var b={};b[a]=!0;f.prototype.renderWithPayload.call(this,e.error_template,b)},switchToSearchStage:function(){this.options.tabSwitcher.changeStageClassOfSelectedTab(q).triggerSearch()},
switchToOAuthStage:function(){social.models.user.logout(this.serviceShortname,this.signOutOfSocialNetworkCallbackHandler);this.options.tabSwitcher.changeStageClassOfSelectedTab(p)}}),g=f.extend({initialize:function(){f.prototype.initialize.call(this);_.bindAll(this,"renderWithPayload","makePostRenderCallback","bulkOnloadCallback","markWrongPersonCallbackHandler","saveAsDefaultProfileCallbackHandler");this.loadedProfile=!1;this.dataForRendering={};this.renderWithPayload(e.loading_template,"loading",
{});this.postRenderCallbacks=[];this.renderedOnceWithData=!1;this.serviceShortname===social.socialStateInfo.defaultSocialProvider&&this.makePostRenderCallback(this.options.parentHopupView.drawAndUpdateHeaderPhotoFromStageOfDefaultProvider)},events:{"click .socialWrongPerson":"markWrongPerson","click .socialMakePrimary":"saveAsDefaultProfile","click .socialSignOutLink":"signOutOfSocialNetwork"},makePostRenderCallback:function(a){this.renderedOnceWithData?a():this.postRenderCallbacks.push(a)},getCombinedPayload:function(){var a,
b={};for(a in this.dataForRendering){var d=this.dataForRendering[a];if(!d)return null;c.extend(!0,b,d)}return b},renderWithPayload:function(a,b,d){var c,e=this;"loading"===b?b=d:(this.dataForRendering[b]=d,b=this.getCombinedPayload());if(b){f.prototype.renderWithPayload.call(this,a,b);a=this.options.parentHopupView;a.isOpened()&&this.tabShortname===a.getShortnameOfSelectedTab()&&setTimeout(function(){e.resolveAnyActionButtonsAndSignoutLinkOverlap()},1);this.renderedOnceWithData=!0;for(c in this.postRenderCallbacks)if(c)this.postRenderCallbacks[c]();
this.postRenderCallbacks=[];this.serviceShortname==social.socialStateInfo.defaultSocialProvider&&this.setMakeDefaultButtonPressed(!0)}},resolveAnyActionButtonsAndSignoutLinkOverlap:function(){var a=LC.isRtlPage(),b=c(this.el).find(".socialActionsBar .socialButton");if(0!=b.length){var d=b.last();if("visible"!=d.css("visibility")){var e=c(this.el).find(".socialSignOutLink");a?(d=d.position().right+d.outerWidth(),e=e.position().right):(d=d.position().left+d.outerWidth(),e=e.position().left);var f=e-
d-9;b.each(function(){var b=c(this);0>f&&(b.css("position","relative"),b.css(!a?"left":"right",f+"px"));b.css("visibility","visible")})}}},markWrongPerson:function(){social.models.contact.deleteHandle(this.serviceShortname,this.markWrongPersonCallbackHandler);this.renderWithPayload(e.loading_template,"loading",{})},markWrongPersonCallbackHandler:function(a){this.evaluateResultsAndRenderError(a)||(this.options.parentHopupView.updateSocialHandleState(this.serviceShortname,"li"==this.serviceShortname?
"-1":""),this.options.tabSwitcher.changeStageClassOfSelectedTab(q).triggerSearch(),this.serviceShortname===social.socialStateInfo.defaultSocialProvider&&(social.socialStateInfo.defaultSocialProvider="",this.options.parentHopupView.options.headerRow.drawDefaultHeaderPhoto()))},saveAsDefaultProfile:function(){var a=c(this.el).find(".socialProfilePic").attr("src");social.models.contact.storeDefaultProfile(this.serviceShortname,a,this.saveAsDefaultProfileCallbackHandler);this.options.parentHopupView.options.headerRow.drawHeaderPhoto(a,
this.serviceShortname);this.setMakeDefaultButtonPressed(!0)},saveAsDefaultProfileCallbackHandler:function(a){if(!this.evaluateResultsAndRenderError(a)){social.socialStateInfo.defaultSocialProvider=this.serviceShortname;for(var b in this.options.parentHopupView.tabStages)b!=this.serviceShortname&&(a=this.options.parentHopupView.tabStages[b],a.setMakeDefaultButtonPressed&&a.setMakeDefaultButtonPressed(!1))}},setMakeDefaultButtonPressed:function(a){var b=this.$(".socialMakePrimary");a?(b.addClass("btnPressed"),
b.attr("disabled","disabled")):(b.removeClass("btnPressed"),b.removeAttr("disabled"))},bulkOnloadCallback:function(){this.loadProfile(null,!0);this.render.apply(this,arguments)},linkify:function(a,b){var d=c(a).html();d&&c(a).html(d.replace("\x26nbsp;"," ").replace(/(https?:\/\/|www\.)([A-Za-z0-9\-\._~%:\/\?#\[\]@!\$&'\(\)\*\+,;=]+[A-Za-z0-9\-_~%\/\#@\$&\*\+;=]{1})/ig,"\x3ca href\x3d'$\x26' target\x3d'_BLANK'"+(b?" class\x3d'"+b+"'":"")+"\x3e$\x26\x3c/a\x3e").replace(/(<a href=')(www\.)/ig,"$1http://$2"))},
loadProfile:function(){this.loadedProfile||(this.loadedProfile=!0)},onShowTab:function(){if(this.loadedProfile){var a=this;setTimeout(function(){a.resolveAnyActionButtonsAndSignoutLinkOverlap()},1)}else this.loadProfile()}}),w=g.extend({initialize:function(a){_.bindAll(this,"render");g.prototype.initialize.call(this);this.dataForRendering={profileAndFeed:null}},loadProfile:function(a,b){g.prototype.loadProfile.call(this);a||(a=social.socialStateInfo.tw.handle);var c={type:"tw",userIdentifier:a};b||
social.models.feedservice.fetchProfileAndFeed([this.render],c,h());social.models.twitter.getTwitterFollowerAndFollowingPhotos(a,this.render)},render:function(a,b){var d=this;b.tw&&(b=b.tw,this.renderWithPayload(e.twitter_contact_template,a,b),c.browser.msie&&7>=c.browser.version||(_.each(c(this.el).find(".socialTweetText"),function(a){d.linkify(a)}),this.linkify(c(this.el).find(".socialTwitterBio")),this.linkify(c(this.el).find(".socialTwitterUrl"))))},linkify:function(a){g.prototype.linkify.call(this,
a,"socialTwitterLink");var b=c(a).html();b&&c(a).html(b.replace(/^@([A-Za-z0-9_]+)/ig," \x3ca target\x3d'_BLANK' href\x3d'http://twitter.com/$1' class\x3d'socialTwitterLink'\x3e@$1\x3c/a\x3e").replace(/ @([A-Za-z0-9_]+)/ig," \x3ca target\x3d'_BLANK' href\x3d'http://twitter.com/$1' class\x3d'socialTwitterLink'\x3e@$1\x3c/a\x3e").replace(/^#([A-Za-z0-9_]+)/ig," \x3ca target\x3d'_BLANK' href\x3d'http://twitter.com/#!/search/$1' class\x3d'SocialTwitterLink'\x3e#$1\x3c/a\x3e").replace(/ #([A-Za-z0-9_]+)/ig,
" \x3ca target\x3d'_BLANK' href\x3d'http://twitter.com/#!/search/$1' class\x3d'SocialTwitterLink'\x3e#$1\x3c/a\x3e"))}}),C=g.extend({initialize:function(a){_.bindAll(this,"render");g.prototype.initialize.call(this);this.dataForRendering={profileAndFeed:null}},events:_.extend({"click .socialLinkedInUpgradeButton":"onClickUpgradeLinkedForSalesforceButton"},g.prototype.events),loadProfile:function(a,b){g.prototype.loadProfile.call(this);a||(a=social.socialStateInfo.li.handle);var c={type:"li",userIdentifier:a};
b||social.models.feedservice.fetchProfileAndFeed([this.render],c,h())},render:function(a,b,c,f){b.li&&(b=b.li);var g=this;!f&&"profileAndFeed"===a&&"NoAccessException"===b.error?social.models.feedservice.fetchLinkedInPublicProfile([function(a,b,c){g.render(a,b,c,!0)}],c):b&&e.linkedin_contact_template&&(this.renderWithPayload(e.linkedin_contact_template,a,b),social.models.feedservice.isLazyLoading&&(!b.error&&"li"==this.serviceShortname)&&(a={},a[this.serviceShortname+"Id"]=b.userInfo.id,a[this.serviceShortname+
"Name"]=b.userInfo.id,social.models.contact.storeHandle(a,function(a){social.models.feedservice.isLazyLoading=!1})))},onClickUpgradeLinkedForSalesforceButton:function(){window.open("http://www.linkedin.com/salesforce?trk\x3dsfdc_social");social.models.BaseModel.logEvent("upgrade_linkedin_clicked")}}),r=g.extend({initialize:function(a,b){_.bindAll(this,"render");g.prototype.initialize.call(this);this.dataForRendering={profileAndFeed:null};this.isFetchMutualFriends()&&(this.dataForRendering.mutualFriends=
null)},loadProfile:function(a,b){g.prototype.loadProfile.call(this);a||(a=social.socialStateInfo.fb.handle);var c={type:"fb",userIdentifier:a};b||social.models.feedservice.fetchProfileAndFeed([this.render],c,h());this.isFetchMutualFriends()&&social.models.facebook.getFacebookMutualFriendIds(a,this.render)},isFetchMutualFriends:function(){return!0}}),D=r.extend({render:function(a,b){b.fb&&(b=b.fb);this.renderWithPayload(e.facebook_contact_template,a,b)}}),E=r.extend({initialize:function(a){r.prototype.initialize.call(this);
c(this.el).addClass("socialAccFacebookStage")},render:function(a,b){var d=this;b.fb&&(b=b.fb);this.renderWithPayload(e.facebook_account_template,a,b);_.each(c(this.el).find(".socialAccFacebookInfoText,.socialAccFacebookWallPostMsg,.socialAccFacebookWallPostCaption,.socialAccFacebookWallPostDesc"),function(a){d.linkify(a,"socialFacebookLink")})},isFetchMutualFriends:function(){return!1}}),p=f.extend({initialize:function(){f.prototype.initialize.call(this);this.renderWithPayload(e.oauth_template,{})},
events:{"click .socialSigninButton":"signinClicked","click .socialLearnMore":"learnMoreClicked","click .socialSignOutLink":"signOutOfSocialNetwork"},learnMoreClicked:function(a){c(this.el).find(".socialHelpText").toggleClass("hidden")},signinClicked:function(){window.open(social.socialStateInfo[this.serviceShortname].oauthLink)}}),l=f.extend({initialize:function(){f.prototype.initialize.call(this);if(!this.searchBoxSelector)throw"Children classes of StageSearchBase must set a searchBoxSelector property to the selector for the search box";
this.searchedOnce=!1;this.render({});var a=social.socialStateInfo.name,b=social.socialStateInfo.companyName||"";c(this.el).find(this.searchBoxSelector).val("li"===this.serviceShortname&&a+" "+this.getStrippedCompanyName(b)||h()&&this.getStrippedCompanyName(b)||a);c(this.el).addClass("socialSearchStage");_.bindAll(this,"getSearchTerm","render","makeSearchCall")},learnMoreClicked:function(a){c(this.el).find(".socialHelpText").toggleClass("hidden")},triggerSearchOnEnter:function(a){13===a.keyCode&&this.triggerSearch()},
triggerSearchBoxFocused:function(a){c(a.currentTarget).addClass("socialSearchSelectedSearchBox")},triggerSearch:function(a){this.searchedOnce||(this.searchedOnce=!0);c(this.el).find(".socialSearchResultsContainer").addClass("hidden");c(this.el).find(".socialSearchResults").addClass("hidden");c(this.el).find(".socialSearchingMessage").removeClass("hidden");(a=this.getSearchTerm())?this.makeSearchCall(a):this.render({numResults:0})},makeSearchCall:function(a){social.models.feedservice.search(a,[this.render],
this.serviceShortname,this.searchMode)},getSearchTerm:function(){var a=c(this.el).find(this.searchBoxSelector).val();return a=a.replace(/^\s+|\s+$/g,"")},companyNameSuffix:{inc:"",incorporated:"",corp:"",llc:"",ltd:"",limited:"",plc:"","l.l.p":"",llp:"",co:"","l.p":"",lp:"","p.l.l.c":""},getStrippedCompanyName:function(a){a=c.trim(a);var b=a.match(/(\s|,)([^\s,]+)$/);if(b&&b[2]){var b=b[2],d=c.trim(b.replace(/\.$/,""));""===this.companyNameSuffix[d.toLowerCase()]&&(a=a.substring(0,a.length-b.length),
a=c.trim(a).replace(/,$/,""))}return a},onShowTab:function(){this.searchedOnce||this.triggerSearch()}}),q=l.extend({events:{"click .socialUserSearchSubmit":"triggerSearch","keypress .socialUserSearchBox":"triggerSearchOnEnter","focus .socialUserSearchBox":"triggerSearchBoxFocused","click .socialSearchResult":"onClickProfile","click .socialLearnMore":"learnMoreClicked","click .socialSignOutLink":"signOutOfSocialNetwork"},initialize:function(){h()?this.searchMode="business":this.searchMode="user";this.searchBoxSelector=
".socialUserSearchBox";l.prototype.initialize.call(this)},render:function(a){var b=a[this.serviceShortname];if(b){if(b.error){f.prototype.renderWithPayload.call(this,e.error_template,b);return}b.userSearch.searchTerm=decodeURIComponent(b.userSearch.searchTerm);a=b.userSearch}if("li"==this.serviceShortname&&!social.socialStateInfo[this.serviceShortname].handle&&1==a.numResults)this.selectProfile(a.results[0].userIdentifier,a.results[0].name,a.results[0].photo);else{var d=this;a.tabLongname=social.shortnameToLongname[this.serviceShortname];
a.moreThanZeroResults=0<a.numResults;a.oneResultFound=1===a.numResults;a.moreThanOneResult=1<a.numResults;a.noResultsFound=0===a.numResults;this.renderWithPayload(e.search_template,a);c(this.el).find(".socialSearchResults").removeClass("hidden");a=c(this.el).find(".socialSearchResult");a.removeClass("hidden");a.fadeOut(0);var k=0;_.each(a,function(a){setTimeout(function(){c(a).fadeIn(400)},100*k++)});c(this.el).find(".socialSearchingMessage").addClass("hidden");a=this.options.parentHopupView;a.isOpened()&&
this.tabShortname===a.getShortnameOfSelectedTab()&&setTimeout(function(){c(d.el).focus()},1E3)}},onClickProfile:function(a){var b=c(a.currentTarget);a=b.attr("type");var d=b.attr("profileName");"tw"==this.serviceShortname&&(d=d.slice(1));b=b.find(".socialSearchResultImg").attr("src");this.selectProfile(a,d,b)}}),F=l.extend({events:{"click .socialYtSearchResultImageContainer":"onClickVideo","click .socialYtSearchName":"onClickVideo","click .socialGoBackLink":"onClickBackToSearch","click .socialUserSearchSubmit":"triggerSearch",
"keypress .socialYouTubeSearchBox":"triggerSearchOnEnter","focus .socialUserSearchBox":"triggerSearchBoxFocused"},initialize:function(){_.bindAll(this,"render","onClickBackToSearch","selectVideo");this.searchBoxSelector=".socialYouTubeSearchBox";l.prototype.initialize.call(this);this.playingVideoId=this.searchPage=null;c(this.el).addClass("socialYtSearchStage")},render:function(a){var b=a[this.serviceShortname];if(b){if(b.error){f.prototype.renderWithPayload.call(this,e.error_template,b);return}a=
b.userSearch}a.tabLongname=social.shortnameToLongname[this.serviceShortname];a.moreThanZeroResults=0<a.numResults;a.oneResultFound=1===a.numResults;a.moreThanOneResult=1<a.numResults;a.noResultsFound=0===a.numResults;this.renderWithPayload(e.youtube_search_template,a);c(this.el).find(".socialSearchResults").removeClass("hidden");c(this.el).find(".socialSearchingMessage").addClass("hidden")},loadPlayer:function(a){c(this.el).find("#socialYouTubeVideoDiv").html('\x3ciframe id\x3d"socialYtPlayer" type\x3d"text/html" width\x3d"630" height\x3d"362" src\x3d"https://www.youtube.com/embed/'+
a+'?autoplay\x3d1\x26showinfo\x3d0" frameborder\x3d"0"\x3e')},removePlayer:function(){try{c(this.el).find("#socialYtPlayer").hide().remove()}catch(a){}},isEmbedPlayer:function(){return!(c.browser.msie&&7==c.browser.version.slice(0,1))},onClickVideo:function(a){var b=c(a.currentTarget).parent().parent();a=b.attr("type");var d=b.attr("author"),b=b.attr("name");this.selectVideo(a,d,b)},selectVideo:function(a,b,d){this.isEmbedPlayer()?(this.playingVideoId=a,this.searchPage=c(this.el).clone(),this.renderWithPayload(e.youtube_view_template,
{author:b,title:d}),this.loadPlayer(a)):window.open("https://youtube.com/watch?v\x3d"+a)},onClickBackToSearch:function(){this.removePlayer();this.playingVideoId=null;this.options.tabSwitcher.changeStageDiv(this.searchPage);this.el=this.searchPage;this.delegateEvents()},makeSearchCall:function(a){social.models.feedservice.search(a,[this.render],this.serviceShortname,this.searchMode,"relevance")},onShowTab:function(){l.prototype.onShowTab.call(this);this.isEmbedPlayer()&&this.playingVideoId&&this.loadPlayer(this.playingVideoId)},
onHideTab:function(){l.prototype.onHideTab.call(this);this.isEmbedPlayer()&&this.playingVideoId&&this.removePlayer()}}),y=f.extend({events:{"click .socialKloutSpashScreenStartUseButton":"onClickStartUseButton"},initialize:function(){f.prototype.initialize.call(this);this.render()},render:function(){this.renderWithPayload(e.klout_firsttime_template,{})},onClickStartUseButton:function(){UserContext.userPreferences.setBoolean("HideSocialProfilesKloutSplashScreen",!0);social.socialStateInfo.kl.showSplashScreen=
!1;var a=n.getProperStageClass();this.options.tabSwitcher.changeStageClassOfTab(a,this.tabShortname);a==x&&this.options.tabSwitcher.tabStages[this.tabShortname].loadProfile()}}),G=f.extend({events:{"click .socialKloutAssociateTwitterButton":"onClickAssociateTwitterProfileButton"},initialize:function(){f.prototype.initialize.call(this);this.render()},render:function(){this.renderWithPayload(e.klout_notwitterprofile_template,{})},onClickAssociateTwitterProfileButton:function(){this.options.tabSwitcher.switchTabs("tw");
c(this.options.tabSwitcher.tabStages.tw.el).focus()}}),x=f.extend({initialize:function(){f.prototype.initialize.call(this);_.bindAll(this,"render","loadTwitterUserInfo","bulkOnloadCallback","getKloutIdCallback");this.loadedProfile=!1;this.renderWithPayload(e.loading_template,{})},render:function(a,b){b.kl&&(b=b.kl,this.renderWithPayload(e.klout_user_template,b))},loadProfile:function(a){this.loadedProfile||(this.loadedProfile=!0);a||(a=social.socialStateInfo.kl.handle);social.models.feedservice.fetchProfileAndFeed([this.loadTwitterUserInfo],
{type:this.serviceShortname,userIdentifier:a})},loadTwitterUserInfo:function(a,b){var c=this,e=b.kl;e&&(e.error?this.render(a,b):social.models.klout.getKloutUserDetails(e,function(){c.render(a,b)}))},bulkOnloadCallback:function(){this.render.apply(this,arguments)},onShowTab:function(){this.loadedProfile||(social.socialStateInfo.kl.handle?this.loadProfile():social.models.klout.getKloutId(social.socialStateInfo.tw.handle,this.getKloutIdCallback))},getKloutIdCallback:function(a){a.result.kl.error?f.prototype.renderWithPayload.call(this,
e.error_template,a.result.kl):(a=a.result.kl.userInfo.id,social.socialStateInfo.kl.handle=a,this.selectProfile(a))}}),m=Backbone.View.extend({initialize:function(a){this.stage=this.stageClass=null;this.tabEnabled=!0;this.changeToProperInitialStage();_.bindAll(this,"changeToProperInitialStage","bulkOnloadCallback")},_getProperStageClass:function(){var a=this.options.serviceShortname||this.options.tabShortname,b=social.socialStateInfo[a];return!b?(this.tabEnabled=!1,null):!b.oauth&&p||(!b.handle||"-1"===
b.handle)&&q||v(a)},changeToProperInitialStage:function(){if(this.stageClass=this._getProperStageClass())this.stage=this.options.tabSwitcher.changeStageClassOfTab(this.stageClass,this.options.tabShortname,void 0,{serviceShortname:this.options.serviceShortname})},bulkOnloadCallback:function(){this.tabEnabled&&this.stage.bulkOnloadCallback&&this.stage.bulkOnloadCallback.apply(this.stage,arguments)}}),n=m.extend({initialize:function(){m.prototype.initialize.call(this);this.registerSocialHandleChangeCallback()},
registerSocialHandleChangeCallback:function(){var a=this;this.options.parentHopupView.bind("SocialHandleChange",function(b,c){if("tw"===b){social.socialStateInfo.kl.handle="";var e=n.getProperStageClass();e!=y&&a.options.tabSwitcher.changeStageClassOfTab(e,a.options.tabShortname)}})},_getProperStageClass:function(){return n.getProperStageClass()}},{getProperStageClass:function(){var a=social.socialStateInfo.kl;return a.showSplashScreen?y:!a.handle&&!social.socialStateInfo.tw.handle?G:x}}),H=u.extend({events:{"click .socialHopupCloseButton":"close",
"click .socialTabTop":"tabSelected","mousedown .socialTabText":"tabLinkMouseDown","focus .socialTabText":"tabLinkFocused"},initialize:function(){u.prototype.initialize.call(this);_.extend(this,Backbone.Events);this.options.parentHopupView=this;this.$selectedTab=this.options.$selectedTab||null;if(!this.options.$stageDiv)throw"SocialHopup must be constructed with the '$stageDiv' parameterwhich points to an existing div to use as the Hopup Stage.";c(this.el).draggable({handle:c(this.el).find(".socialTabBar"),
containment:"#contentWrapper"});_.bindAll(this,"drawAndUpdateHeaderPhotoFromStageOfDefaultProvider");this.setupTabs();this.$stageDiv=null},setupTabs:function(){var a={tw:m,fb:m,li:m,yt:F,kl:n},b={};_.each(social.serviceShortnames,function(c){social.socialStateInfo[c]&&(b[c]=a[c])});this.initializeTabs(b,"socialTab",null,"socialHopupStage");var c=social.socialStateInfo.defaultSocialProvider;c&&this.tabStages[c].loadProfile()},tabSelected:function(a){this.switchTabs(c(a.currentTarget).attr("type"))},
drawAndUpdateHeaderPhotoFromStageOfDefaultProvider:function(){var a=social.socialStateInfo.defaultSocialProvider;if(a){var b=c(this.tabStages[a].el).find(".socialProfilePic");if(b)if(social.socialStateInfo[social.socialStateInfo.defaultSocialProvider].wasLastFeedServiceRequestSuccessful){b=b.attr("src");this.options.headerRow.drawHeaderPhoto(b,a);var d=social.socialStateInfo.defaultProfilePicURL;"li"!=a&&d!=b&&social.models.contact.storeDefaultProfile(a,b)}else social.socialStateInfo[social.socialStateInfo.defaultSocialProvider].defaultProfilePicURL=
this.options.parentHopupView.options.headerRow.$(".socialProfilePhoto").attr("src"),b=h()?"/img/social/unknown_company_pic_notice.png":"/img/social/unknown_profile_pic_notice.png",this.options.headerRow.drawHeaderPhoto(b,a)}},open:function(a){this.switchTabs(a);c(this.el).removeClass("hidden");c(this.el).focus()},close:function(){this.tabStages[this.getShortnameOfSelectedTab()].onHideTab();c(this.el).addClass("hidden");social.models.BaseModel.logEvent("hopup_closed")},isOpened:function(){return!c(this.el).hasClass("hidden")},
updateSocialHandleState:function(a,b){social.socialStateInfo[a].handle=b;this.trigger("SocialHandleChange",a,b)},tabLinkMouseDown:function(a){c.browser.msie&&(this.hideFocusOnTab=!0)},tabLinkFocused:function(a){c.browser.msie&&(this.setFocusOutlineHidden(a.currentTarget,this.hideFocusOnTab),this.hideFocusOnTab&&(this.hideFocusOnTab=!1))},setFocusOutlineHidden:function(a,b){b?c.browser.msie&&7>=c.browser.version?a.hideFocus=!0:c(a).addClass("socialHideOutline"):c.browser.msie&&7>=c.browser.version?
a.hideFocus=!1:c(a).removeClass("socialHideOutline")}}),I=Backbone.View.extend({events:{"click .socialIcons a":"socialClick","click .socialProfilePhoto":"socialPhotoClick"},initialize:function(){_.bindAll(this,"drawHeaderPhoto");this.defaultHeaderPhotoUrl=social.socialStateInfo.defaultAvatarUrl},drawHeaderPhoto:function(a,b){if(a){var d=c(this.el).find(".socialProfilePhoto");b&&d.attr("providerType",b);a!==d.attr("src")&&d.fadeOut(200,function(){d.attr("src",a);d.fadeIn(200)})}},drawDefaultHeaderPhoto:function(){this.drawHeaderPhoto(this.defaultHeaderPhotoUrl)},
socialPhotoClick:function(a){(a=c(a.currentTarget).attr("providertype"))&&this.openHopup(a)},socialClick:function(a){this.openHopup(c(a.currentTarget).attr("providertype"))},openHopup:function(a){this.options.socialHopup.open(a)}}),v=function(a){return h()?"tw"===a&&w||"fb"===a&&E:"tw"===a&&w||"li"===a&&C||"fb"===a&&D},z=function(){if(window.socialCrmTestJsToLoad)social.logger.debug("Manually load Social CRM test javascript."),c.getScript(window.socialCrmTestJsToLoad,function(a,b){if("success"==b){social.logger.debug("Social CRM test javascript loaded.");
try{delete window.socialCrmTestJsToLoad}catch(c){window.socialCrmTestJsToLoad=void 0}z()}});else{e=A(t);social.logger.debug("templates loaded");var a=c("#socialHopup"),b=c("#contactHeaderRow"),b=new I({el:b}),d=new H({el:a,$stageDiv:c("#socialHopupStage"),headerRow:b});social.logger.debug("hopup initialized");b.options.socialHopup=d;c(document).keydown(function(a){27==a.keyCode&&d.isOpened()&&d.close()});social.logger.debug("attached accessibility keybindings");social.initCompleted=!0}};z()})(socialJQ);

//# sourceMappingURL=/javascript/1428309703000/sfdc/source/SocialCrm.js.map
